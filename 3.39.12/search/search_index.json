{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stemmer"]},"docs":[{"location":"","title":"yasio \u200b\u4e2d\u6587\u200b\u6587\u6863","text":"<p>yasio \u200b\u662f\u200b\u4e00\u4e2a\u200b\u8f7b\u91cf\u7ea7\u200b\u8de8\u5e73\u53f0\u200b\u7684\u200b\u5f02\u6b65\u200bsocket\u200b\u5e93\u200b\uff0c\u200b\u4e13\u6ce8\u200b\u4e8e\u200b\u5ba2\u6237\u7aef\u200b\u548c\u200b\u57fa\u4e8e\u200b\u5404\u79cd\u200b\u6e38\u620f\u200b\u5f15\u64ce\u200b\u7684\u200b\u6e38\u620f\u200b\u5ba2\u6237\u7aef\u200b\u7f51\u7edc\u670d\u52a1\u200b\u3002</p> <ul> <li> <p>\u200b\u8de8\u5e73\u53f0\u200b\u6027\u200b:</p> <ul> <li> <p>\u200b\u7f16\u8bd1\u5668\u200b: </p> <ul> <li>Visual Studio 2013+</li> <li>GCC4.7+</li> <li>xcode9+</li> <li>\u200b\u5176\u4ed6\u200b\u652f\u6301\u200b C++11+ \u200b\u7684\u200b\u7f16\u8bd1\u5668\u200b</li> </ul> </li> <li> <p>\u200b\u67b6\u6784\u200b: x86, x64, ARM\u200b\u7b49\u200b\u3002</p> </li> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b: Windows, macOS, Linux, FreeBSD, iOS, Android\u200b\u7b49\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u672f\u8bed\u200b:</p> <ul> <li>\u200b\u7f51\u7edc\u670d\u52a1\u200b: <code>io_service</code></li> <li>\u200b\u4fe1\u9053\u200b: <code>io_channel</code></li> <li>\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b: <code>io_transport</code></li> </ul> </li> <li> <p>\u200b\u6846\u67b6\u56fe\u200b:  </p> </li> </ul>"},{"location":"#_1","title":"\u5feb\u901f\u200b\u5f00\u59cb","text":"<p>\u200b\u6b64\u200b\u5b9e\u4f8b\u200b\u7a0b\u5e8f\u200b\u7b80\u5355\u200b\u5411\u200b <code>tool.chinaz.com</code> \u200b\u53d1\u9001\u200bhttp\u200b\u8bf7\u6c42\u200b\u5e76\u6253\u5370\u200b\u54cd\u5e94\u200b\u6570\u636e\u200b\u3002</p> C++Lua <pre><code>#include \"yasio/yasio.hpp\"\n#include \"yasio/obstream.hpp\"\nusing namespace yasio;\nint main()\n{\n    io_service service({\"tool.chinaz.com\", 80});\n    service.set_option(YOPT_S_DEFERRED_EVENT, 0); // dispatch network event on network thread\n    service.start([&amp;](event_ptr&amp;&amp; ev) {\n        switch (ev-&gt;kind())\n        {\n        case YEK_ON_PACKET: {\n            auto packet = std::move(ev-&gt;packet());\n            fwrite(packet.data(), packet.size(), 1, stdout);\n            fflush(stdout);\n            break;\n        }\n        case YEK_ON_OPEN:\n            if (ev-&gt;status() == 0)\n            {\n            auto transport = ev-&gt;transport();\n            if (ev-&gt;cindex() == 0)\n            {\n                obstream obs;\n                obs.write_bytes(\"GET /index.htm HTTP/1.1\\r\\n\");\n\n                obs.write_bytes(\"Host: tool.chinaz.com\\r\\n\");\n\n                obs.write_bytes(\"User-Agent: Mozilla/5.0 (Windows NT 10.0; \"\n                                \"WOW64) AppleWebKit/537.36 (KHTML, like Gecko) \"\n                                \"Chrome/87.0.4820.88 Safari/537.36\\r\\n\");\n                obs.write_bytes(\"Accept: */*;q=0.8\\r\\n\");\n                obs.write_bytes(\"Connection: Close\\r\\n\\r\\n\");\n\n                service.write(transport, std::move(obs.buffer()));\n            }\n            }\n            break;\n        case YEK_ON_CLOSE:\n            printf(\"The connection is lost.\\n\");\n            break;\n        }\n    });\n    // open channel 0 as tcp client\n    service.open(0, YCK_TCP_CLIENT);\n    getchar();\n}\n</code></pre> <pre><code>local ip138 = \"tool.chinaz.com\"\nlocal service = yasio.io_service.new({host=ip138, port=80})\nlocal respdata = \"\"\nservice:start(function(ev)\n        local k = ev.kind()\n        if (k == yasio.YEK_ON_PACKET) then\n            respdata = respdata .. ev:packet():to_string()\n        elseif k == yasio.YEK_ON_OPEN then\n            if ev:status() == 0 then -- connect succeed\n                local transport = ev:transport()\n                local obs = yasio.obstream.new()\n                obs:write_bytes(\"GET / HTTP/1.1\\r\\n\")\n\n                obs:write_bytes(\"Host: \" .. ip138 .. \"\\r\\n\")\n\n                obs:write_bytes(\"User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.117 Safari/537.36\\r\\n\")\n                obs:write_bytes(\"Accept: */*;q=0.8\\r\\n\")\n                obs:write_bytes(\"Connection: Close\\r\\n\\r\\n\")\n\n                service:write(transport, obs)\n            end\n        elseif k == yasio.YEK_ON_CLOSE then\n            print(\"request finish, respdata: \" ..  respdata)\n        end\n    end)\n-- Open channel 0 as tcp client and start non-blocking tcp 3 times handshake\nservice:open(0, yasio.YCK_TCP_CLIENT)\n\n-- Call this function at thread which focus on the network event.\nfunction gDispatchNetworkEvent(...)\n    service:dispatch(128) -- dispatch max events is 128 per frame\nend\n\n_G.yservice = service -- Store service to global table as a singleton instance\n</code></pre>"},{"location":"#_2","title":"\u6d4b\u8bd5\u200b &amp; \u200b\u793a\u4f8b","text":"<p>\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u8fd0\u884c\u200bLua\u200b\u793a\u4f8b\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u4f1a\u200b\u6253\u5370\u200b\u5f02\u5e38\u200b\u4fe1\u606f\u200b <code>yasio - ibstream_view::consume out of range!</code>\uff0c\u200b\u8fd9\u662f\u200b\u793a\u4f8b\u200b\u7a0b\u5e8f\u200b\u91cc\u200b\u6545\u610f\u200b\u5199\u200b\u7684\u200b\uff0c\u200b\u8bf7\u200b\u4e0d\u5fc5\u200b\u5728\u610f\u200b\u3002</p> <ul> <li> <p>\u200b\u6d4b\u8bd5\u200b:</p> <ul> <li>echo_server: TCP/UDP/KCP \u200b\u56de\u5c04\u200b\u670d\u52a1\u5668\u200b</li> <li>echo_client: TCP/UDP/KCP \u200b\u56de\u5c04\u200b\u5ba2\u6237\u7aef\u200b</li> <li>ssltest: SSL\u200b\u6d4b\u8bd5\u200b\u5ba2\u6237\u7aef\u200b, \u200b\u8bf7\u6c42\u200bgithub.com\u200b\u4e3b\u9875\u200b\u5e76\u6253\u5370\u200b\u8fd4\u56de\u200b\u6570\u636e\u200b</li> <li>tcptest: TCP\u200b\u6d4b\u8bd5\u7a0b\u5e8f\u200b</li> <li>speedtest: TCP,UDP,KCP \u200b\u672c\u200b\u673a\u200b\u4f20\u8f93\u901f\u7387\u200b\u6d4b\u8bd5\u7a0b\u5e8f\u200b</li> <li>mcast: \u200b\u7ec4\u64ad\u200b\u6d4b\u8bd5\u7a0b\u5e8f\u200b</li> </ul> </li> <li> <p>\u200b\u793a\u4f8b\u200b:</p> <ul> <li>ftp_server: \u200b\u57fa\u4e8e\u200byasio\u200b\u5b9e\u73b0\u200b\u7684\u200b\u4ec5\u200b\u652f\u6301\u200b\u4e0b\u8f7d\u200b\u7684\u200bftp\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u70b9\u51fb\u200b \u200b\u8bbf\u95ee\u200b\u3002</li> <li>lua: Lua\u200b\u793a\u4f8b\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u5305\u542b\u200b\u7b80\u6613\u200b\u7684\u200b\u5e76\u53d1\u200bhttp\u200b\u8bf7\u6c42\u200b\uff0cTCP\u200b\u62c6\u5305\u200b\u53c2\u6570\u8bbe\u7f6e\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b</li> <li>xlua: xlua\u200b\u96c6\u6210\u200b\u6848\u4f8b\u200b</li> <li>yasio_unreal: yasio\u200b\u7684\u200b\u865a\u5e7b\u200b\u5f15\u64ce\u200b\u63d2\u4ef6\u200b</li> </ul> </li> </ul>"},{"location":"#_3","title":"\u7f16\u8bd1\u200b \u200b\u6d4b\u8bd5\u200b &amp; \u200b\u793a\u4f8b","text":"<ul> <li>\u200b\u786e\u4fdd\u200b\u5df2\u200b\u5b89\u88c5\u200b\u652f\u6301\u200bC++11\u200b\u6807\u51c6\u200b\u7684\u200b\u7f16\u8bd1\u5668\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>msvc</code>, <code>gcc</code>, <code>clang</code></li> <li>\u200b\u786e\u4fdd\u200b\u5df2\u200b\u5b89\u88c5\u200b <code>git</code>, <code>cmake</code> installed</li> <li>\u200b\u8fd0\u884c\u200b\u5982\u4e0b\u200b\u547d\u4ee4\u200b:</li> </ul> <pre><code>  git clone https://github.com/yasio/yasio\n  cd yasio\n  git submodule update --init --recursive \n  cd build\n  # for xcode should be: cmake .. -GXcode\n  cmake ..\n  cmake --build . --config Debug\n</code></pre>"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#_1","title":"\u91cd\u70b9\u200b\u95ee\u9898\u89e3\u7b54","text":"do_select failed, ec=22, detail:Invalid argument <ul> <li>\u200b\u539f\u56e0\u200b: <ul> <li>macOS/ios/tvos\u200b\u5e73\u53f0\u200b\uff0c<code>socket.max_fd + 1</code>\u200b\u76f4\u200b\u5927\u4e8e\u200b<code>FD_SETSIZE(1024)</code></li> <li>Windows\u200b\u5e73\u53f0\u200b\u5de5\u4f5c\u200b\u6210\u957f\u200b\uff0c\u200b\u9650\u5236\u200b\u7684\u200b\u662f\u200b<code>select</code>\u200b\u80fd\u591f\u200b\u76d1\u542c\u200b\u7684\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u6570\u91cf\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u53d7\u200b<code>socket.max_fd + 1</code>\u200b\u9650\u5236\u200b</li> <li>linux\u200b\u5e73\u53f0\u200b\uff0c\u200b\u53d7\u5230\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b<code>socket.max_fd + 1</code>\u200b\u9650\u5236\u200b\uff0c\u200b\u8d85\u8fc7\u200b\u4f1a\u200b\u7acb\u5373\u200b\u8fd4\u56de\u200b1\uff0c\u200b\u4f46\u200b\u5b9e\u9645\u4e0a\u200b\u65e0\u200b\u6570\u636e\u200b\u53ef\u200b\u8bfb\u200b</li> <li>freebsd\u200b\u5e73\u53f0\u200b\uff0c\u200b\u7acb\u5373\u200b\u8fd4\u56de\u200b1\uff0c\u200b\u5373\u4f7f\u200b\u6709\u200b\u6570\u636e\u200b\u53ef\u200b\u8bfb\u200b\uff0c<code>is_set</code>\u200b\u5224\u65ad\u200b\u59cb\u7ec8\u200b\u8fd4\u56de\u200bfalse \u200b\u89e3\u51b3\u529e\u6cd5\u200b: \u200b\u5347\u7ea7\u200b\u81f3\u200b3.39.6+\u200b\u7248\u672c\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>poll</code>\uff0c\u200b\u4e0d\u518d\u200b\u53d7\u5230\u200b\u4efb\u4f55\u200b\u9650\u5236\u200b</li> </ul> </li> </ul> \u200b\u5728\u200biOS 14+\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u8fde\u63a5\u200b\u672c\u5730\u200b\u5c40\u57df\u7f51\u200b\u4e3b\u673a\u200b\u4efb\u610f\u200b\u7aef\u53e3\u53f7\u200b\u62a5\u9519\u200b\uff1aec=65, detail:No route to host <ul> <li>\u200b\u89e3\u51b3\u65b9\u6848\u200b: \u200b\u6253\u5f00\u200b\u4f60\u200b\u7684\u200biPhone\u3010\u200b\u8bbe\u7f6e\u200b\u3011\u3010\u200b\u9690\u79c1\u200b\u3011\u3010\u200b\u672c\u5730\u7f51\u7edc\u200b\u3011\u200b\u627e\u5230\u200b\u4f60\u200b\u7684\u200b\u5e94\u7528\u200b\uff0c\u200b\u5f00\u542f\u200b\u5373\u53ef\u200b\u3002</li> </ul> \u200b\u5728\u200biOS\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u7aef\u200b\u53e3\u53f7\u200b\u4e3a\u200b10161\u200b\u65f6\u200b\u5931\u8d25\u200b\uff0c\u200b\u9519\u8bef\u4fe1\u606f\u200b\uff1aec=65, detail:No route to host <ul> <li>\u200b\u6839\u672c\u539f\u56e0\u200b:<ul> <li>\u200b\u5f53\u200bAPP\u200b\u521d\u6b21\u200b\u542f\u52a8\u200b\u65f6\u200b\uff0c\u200b\u5728\u200bios14.1+\u200b\u8bbe\u5907\u200b\u4e0a\u200b\uff0c\u200b\u4f1a\u200b\u63d0\u793a\u200b\u8bf7\u6c42\u200b <code>Local Network Permission</code> \u200b\u6743\u9650\u200b\uff0c\u200b\u7528\u6237\u200b\u70b9\u200b\u62d2\u7edd\u200b\u3002</li> <li>\u200b\u7aef\u53e3\u53f7\u200b 10161 \u200b\u662f\u200b\u7cfb\u7edf\u200b\u4fdd\u7559\u200b\u7aef\u53e3\u200b\uff0c\u200b\u7528\u4e8e\u200b <code>SNMP via TLS</code> \u200b\u534f\u8bae\u200b\u3002 </li> </ul> </li> <li>\u200b\u89e3\u51b3\u65b9\u6848\u200b: \u200b\u4f7f\u7528\u200b\u5176\u4ed6\u200b\u7aef\u53e3\u53f7\u200b\u4f5c\u4e3a\u200bAPP\u200b\u670d\u52a1\u200b\u7aef\u53e3\u200b\uff0c\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b\u52a8\u6001\u200b/\u200b\u79c1\u5bc6\u200b\u7aef\u53e3\u200b\uff0c\u200b\u8303\u56f4\u200b\uff1a 49152~65535\u3002</li> <li>\u200b\u5176\u4ed6\u200b\u53c2\u8003\u200b: https://www.speedguide.net/port.php</li> </ul> yasio\u200b\u662f\u5426\u200b\u4f9d\u8d56\u200b\u5176\u4ed6\u200b\u7f51\u7edc\u200b\u5e93\u200b? <p>yasio\u200b\u7684\u200b\u6838\u5fc3\u200b\u4ee3\u7801\u200b\u9ed8\u8ba4\u200b\u4e0d\u200b\u4f9d\u8d56\u200b\u4efb\u4f55\u200b\u7b2c\u4e09\u65b9\u200b\u5e93\u200b\uff0c\u200b\u4ece\u200b\u4f5c\u8005\u200b\u4ece\u4e1a\u200b\u8e0f\u5165\u200b\u901a\u4fe1\u200b\u884c\u4e1a\u200b\u5f00\u59cb\u200b\u5c31\u200b\u7422\u78e8\u200b\u7740\u200b\u7f16\u5199\u200b\u4e00\u4e2a\u200b\u8f7b\u91cf\u200b\u800c\u200b\u597d\u200b\u7528\u200b\u7684\u200b\u901a\u7528\u200b\u7f51\u7edc\u200b\u5e93\u200b\uff0cxxsocket\u200b\u5c31\u662f\u200byasio\u200b\u7684\u200b\u8d77\u6e90\u200b\uff0c\u200b\u53ea\u6709\u200b\u5f02\u6b65\u200b\u6d88\u606f\u200b\u53d1\u9001\u200b\u7684\u200b\u8f6f\u200b\u4e2d\u65ad\u200b\u5668\u200b\u63d0\u53d6\u200b\u4e8e\u200bboost.asio\u3002</p> \u200b\u4e3a\u4ec0\u4e48\u200b\u4f7f\u7528\u200byasio? <ol> <li>\u200b\u5f00\u6e90\u200b\u793e\u533a\u200b\u5df2\u77e5\u200b\u6bd4\u8f83\u200b\u6709\u540d\u200b\u7684\u200b\u7f51\u7edc\u200b\u5e93\u6709\u200basio,libevent,libev,libuv\uff0c\u200b\u4ed6\u4eec\u200b\u63d0\u4f9b\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u975e\u5e38\u200b\u57fa\u7840\u200b\u7684\u200b\u975e\u200b\u963b\u585e\u200b\u591a\u8def\u200bio\u200b\u590d\u7528\u200b\u6a21\u578b\u200b\uff0c\u200b\u5e76\u4e14\u200b\uff0c\u200b\u5404\u200b\u5e73\u53f0\u200b\u5e95\u5c42\u200b\u4f1a\u200b\u4f7f\u7528\u200biocp,kqueue,epoll,select\u200b\u7b49\u200b\u6a21\u578b\u200b\uff0c\u200b\u62ff\u6765\u200b\u505a\u200b\u5ba2\u6237\u7aef\u200b\u7f51\u7edc\u200b\uff0c\u200b\u5982\u200b\u8fde\u63a5\u200b\u7ba1\u7406\u200b\uff0cTCP\u200b\u7c98\u5305\u200b\u5904\u7406\u200b\u7b49\u200b\u90fd\u200b\u9700\u8981\u200b\u7a0b\u5e8f\u5458\u200b\u81ea\u5df1\u200b\u5904\u7406\u200b\u3002</li> <li>yasio\u200b\u5c06\u200b\u8fde\u63a5\u200b\u7ba1\u7406\u200b\uff0cTCP\u200b\u62c6\u5305\u200b\u90fd\u200b\u5c01\u88c5\u200b\u5230\u200b\u4e86\u200b\u5e95\u5c42\u200b\u3002</li> <li>yasio\u200b\u5c06\u200bTCP,UDP,KCP\u200b\u7edf\u4e00\u200b\u62bd\u8c61\u200b\u6210\u200bTransport\u200b\u66f4\u52a0\u200b\u65b9\u4fbf\u4f7f\u7528\u200b\u3002</li> <li>yasio\u200b\u66f4\u200b\u8f7b\u91cf\u7ea7\u200b\uff0c\u200b\u6240\u6709\u200b\u5e73\u53f0\u200b\u5747\u200b\u4f7f\u7528\u200bselect\u200b\u6a21\u578b\u200b\u3002</li> </ol> yasio\u200b\u662f\u5426\u200b\u652f\u6301\u200b\u975e\u200b\u963b\u585e\u200b\u57df\u540d\u89e3\u6790\u200b? <p>\u200b\u652f\u6301\u200b\uff0c\u200b\u4f46\u200b\u9700\u8981\u200b\u4f9d\u8d56\u200bc-ares\u200b\u5e93\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5e93\u662f\u200b\u5b8c\u5168\u200b\u5b9e\u73b0\u200bDNS\u200b\u534f\u8bae\u200b\uff0c\u200b\u5e76\u200b\u53ef\u4ee5\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u548c\u200b\u73b0\u6709\u200bselect\u200b\u6a21\u578b\u200b\u7ed3\u5408\u200b\u4f7f\u7528\u200b\uff0c\u200b\u57df\u540d\u89e3\u6790\u200b\u65e0\u9700\u200b\u65b0\u5f00\u200b\u7ebf\u7a0b\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u200b\u5f00\u542f\u200bc-ares\uff0cyasio\u200b\u5185\u90e8\u200b\u4f1a\u4e3a\u200b\u6bcf\u6b21\u200b\u57df\u540d\u89e3\u6790\u200b\u5f00\u200b\u7ebf\u7a0b\u200b\u3002\u200b\u4f46\u4f1a\u200b\u9ed8\u8ba4\u200b\u7f13\u5b58\u200b10\u200b\u5206\u949f\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e5f\u200b\u4e0d\u7528\u200b\u62c5\u5fc3\u200b\u5f00\u200b\u7ebf\u7a0b\u200b\u592a\u200b\u9891\u7e41\u200b\u3002</p> yasio\u200b\u662f\u5426\u200b\u652f\u6301\u200bSSL/TLS\u200b\u4f20\u8f93\u200b? <p>\u200b\u652f\u6301\u200b\uff0c\u200b\u4f46\u200b\u9700\u8981\u200b\u4f9d\u8d56\u200bOpenSSL\u200b\u6216\u8005\u200bMbedTLS\u3002</p> \u200b\u5982\u4f55\u200b\u4ece\u200b io_event \u200b\u4e2d\u200b\u8bbe\u7f6e\u200b\u548c\u200b\u83b7\u53d6\u200b userdata <p>\u200b\u8bf7\u200b\u53c2\u8003\u200b\uff1ahttps://github.com/yasio/ftp_server/blob/master/ftp_server.cpp#L98</p> yasio\u200b\u662f\u5426\u200b\u5904\u7406\u200b SIGPIPE \u200b\u4fe1\u53f7\u200b\uff1f <p>\u200b\u4ece\u200b <code>3.30</code> \u200b\u7248\u672c\u200b\u5f00\u59cb\u200b\u5df2\u200b\u5904\u7406\u200b\u3002 \u200b\u5982\u679c\u200b\u4e0d\u200b\u5904\u7406\u200b\uff0c\u200b\u5b9e\u6d4b\u200b\u8fc7\u200biOS\u200b\u5728\u200b\u52a0\u8f7d\u200b\u8d44\u6e90\u200b\u6bd4\u8f83\u200b\u8017\u65f6\u200b\u4f1a\u200b\u89e6\u53d1\u200bSIGPIPE\u200b\u76f4\u63a5\u200b\u5bfc\u81f4\u200bAPP\u200b\u95ea\u9000\u200b\uff0c\u200b\u5904\u7406\u200b\u540e\u200b\uff0c\u200b\u4ec5\u4ec5\u200b\u89e6\u53d1\u200bTCP\u200b\u8fde\u63a5\u200b\u65ad\u5f00\u200b\uff0c\u200b\u9519\u8bef\u7801\u200b32\uff0c\u200b\u9519\u8bef\u4fe1\u606f\u200b: <code>Broken pipe</code> \u200b\u8be6\u89c1\u200b: https://github.com/yasio/yasio/issues/170</p> macOS \u200b\u4e0a\u200b\u53d1\u9001\u200bUDP\u200b\u5931\u8d25\u200b\uff0c\u200b\u62a5\u200b\u9519\u8bef\u7801\u200b40\uff0c\u200b\u9519\u8bef\u4fe1\u606f\u200b <code>Message too long</code> \u200b\u600e\u4e48\u529e\u200b\uff1f <ul> <li>\u200b\u539f\u56e0\u200b: \u200b\u6570\u636e\u5305\u200b\u592a\u200b\u5927\u200b\uff0cmacOS\u200b\u7cfb\u7edf\u200bUDP\u200b\u53d1\u9001\u7f13\u51b2\u533a\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b <code>9126</code> \u200b\u5b57\u8282\u200b\u3002</li> <li>\u200b\u89e3\u51b3\u65b9\u6848\u200b: \u200b\u901a\u8fc7\u200bsocket\u200b\u9009\u9879\u200b\u5c06\u200bUDP\u200b\u53d1\u9001\u7f13\u51b2\u533a\u200b\u8bbe\u7f6e\u200b\u5927\u200b\u4e00\u70b9\u200b\uff0c\u200b\u4f8b\u5982\u200b:<ul> <li>xxsocket\u200b\u63a5\u53e3\u200b\u8bbe\u7f6e\u200b\u65b9\u5f0f\u200b\u4e3a\u200b: <code>sock_udp.set_optval(SOL_SOCKET, SO_SNDBUF, (int)65535);</code></li> <li>io_service\u200b\u8bbe\u7f6e\u200b\u65b9\u5f0f\u200b\u8bf7\u200b\u53c2\u89c1\u200b: https://github.com/yasio/yasio/blob/dev/tests/speed/main.cpp#L223</li> </ul> </li> </ul> io_service schedule \u200b\u53ef\u4ee5\u200b\u591a\u4e2a\u200b\u4efb\u52a1\u200b\u5417\u200b\uff1f <p>\u200b\u53ef\u4ee5\u200b\u3002</p> std::thread \u200b\u5728\u200b\u67d0\u4e9b\u200b\u5d4c\u5165\u5f0f\u200b\u5e73\u53f0\u200b\u7f16\u8bd1\u5668\u200b\u95ea\u9000\u200b\u600e\u4e48\u529e\u200b\uff1f <p>\u200b\u4fee\u6539\u200b\u7f16\u8bd1\u200b\u53c2\u6570\u200b\uff0c\u200b\u8be6\u89c1\u200b: https://github.com/yasio/yasio/issues/244</p> xxsocket \u200b\u51fd\u6570\u200b\u547d\u540d\u200b\u540e\u7f00\u200b_n\u200b\u548c\u200b_i\u200b\u7684\u200b\u610f\u601d\u200b\uff1f <p>_n\u200b\u662f\u200bnonblock\u200b\u7684\u200b\u610f\u601d\u200b\uff0c_i\u200b\u662f\u200binternal(\u200b\u65b0\u200b\u7248\u672c\u200b\u5df2\u200b\u53bb\u9664\u200b)\u3002</p> \u200b\u8bbe\u7f6e\u200b\u4e86\u200bYOPT_TCP_KEEPALIVE\uff0c\u200b\u8fd8\u200b\u9700\u8981\u200b\u5e94\u7528\u5c42\u200b\u5fc3\u8df3\u200b\u5417\u200b\uff1f <p>\u200b\u4e00\u822c\u200b\u4e0d\u200b\u9700\u8981\u200b\uff0c\u200b\u9664\u975e\u200b\u9700\u8981\u200b\u68c0\u6d4b\u200b\u7f51\u7edc\u5ef6\u65f6\u200b\u5c55\u793a\u200b\u7ed9\u200b\u7528\u6237\u200b\uff0c\u200b\u8be6\u89c1\u200b: https://github.com/yasio/yasio/issues/117</p> Lua\u200b\u7ed1\u5b9a\u200b\u95ea\u9000\u200b\u600e\u4e48\u529e\u200b\uff1f <ul> <li>c++11:<ul> <li>\u200b\u4f7f\u7528\u200bkaguya\u200b\u7ed1\u5b9a\u200b\u5e93\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u4e2a\u200b\u5e93\u6709\u200b\u4e2a\u200b\u95ee\u9898\u200b\uff1a\u200b\u5728\u200b\u7ed1\u5b9a\u200bc++\u200b\u7c7b\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u6784\u9020\u200bc++\u200b\u5bf9\u8c61\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u5148\u200b\u901a\u8fc7\u200blua_newuserdata, \u200b\u518d\u200b\u901a\u8fc7\u200bplacement new\u200b\u6784\u9020\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5728\u200bxcode clang release\u200b\u4f18\u5316\u200b\u7f16\u8bd1\u200b\u4e0b\u4f1a\u200b\u76f4\u63a5\u200b\u95ea\u9000\u200b</li> <li>\u200b\u7ecf\u8fc7\u200bbing.com\u200b\u641c\u7d22\u200b\uff0c\u200b\u53d1\u73b0\u200b\u53ef\u200b\u901a\u8fc7\u200b\u5b9a\u4e49\u200b<code>LUAI_USER_ALIGNMENT_T=max_align_t</code>\u200b\u6765\u200b\u89e3\u51b3\u200b</li> <li>\u200b\u7ecf\u8fc7\u200b\u6d4b\u8bd5\u200b, max_align_t\u200b\u5728\u200bxcode clang\u200b\u4e0b\u5b9a\u4e49\u200b\u4e3a\u200blong double\u200b\u7c7b\u578b\u200b\uff0c\u200b\u957f\u5ea6\u200b\u4e3a\u200b16\u200b\u4e2a\u200b\u5b57\u8282\u200b</li> <li>\u200b\u53c2\u8003\u200b: http://lua-users.org/lists/lua-l/2019-07/msg00197.html</li> </ul> </li> <li>c++14:<ul> <li>\u200b\u4f7f\u7528\u200bsol2\u200b\u7ed1\u5b9a\u200b\u5e93\u200b\uff0csol2\u200b\u53ef\u4ee5\u200b\u6210\u529f\u200b\u89e3\u51b3\u200bkaguya\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u7ecf\u8fc7\u200b\u67e5\u770b\u200bsol2\u200b\u7684\u200b\u6e90\u7801\u200b\uff0c\u200b\u53d1\u73b0\u200b\u5176\u200b\u5728\u200b\u5185\u90e8\u200b\u5bf9\u200blua_newuserdata\u200b\u8fd4\u56de\u200b\u7684\u200b\u5730\u5740\u200b\u505a\u200b\u4e86\u200b\u5bf9\u9f50\u200b\u5904\u7406\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6210\u529f\u200b\u907f\u514d\u200b\u4e86\u200bclang release\u200b\u4f18\u5316\u200b\u5730\u5740\u200b\u4e0d\u200b\u5bf9\u9f50\u200b\u95ea\u9000\u200b\u95ee\u9898\u200b</li> </ul> </li> <li> <p>c++17:</p> <ul> <li>\u200b\u540c\u6837\u200b\u4f7f\u7528\u200bsol2\u200b\u5e93\u200b\uff0c\u200b\u4f46\u200bxcode\u200b\u4f1a\u200b\u63d0\u793a\u200bios11\u200b\u4ee5\u4e0b\u200b\u4e0d\u200b\u652f\u6301\u200bC++17\u200b\u9ed8\u8ba4\u200b<code>new</code>\u200b\u64cd\u4f5c\u7b26\u200b\u7684\u200b<code>Aligned allocation/deallocation</code>\uff0c\u200b\u901a\u8fc7\u200b\u6dfb\u52a0\u200b\u7f16\u8bd1\u200b\u9009\u9879\u200b-faligned-allocation\u200b\u53ef\u200b\u901a\u8fc7\u200b\u7f16\u8bd1\u200b\uff1b</li> <li>ios10\u200b\u4ee5\u4e0b\u200b\u4e0d\u200b\u652f\u6301\u200bstl\u200b\u7684\u200bshared_mutex(yasio\u200b\u6700\u8fd1\u200b\u505a\u200b\u4e86\u200b\u517c\u5bb9\u200b\uff0c\u200b\u5bf9\u4e8e\u200bApple\u200b\u5e73\u53f0\u200b\u4e00\u5f8b\u200b\u4f7f\u7528\u200bpthread\u200b\u5b9e\u73b0\u200b)</li> </ul> </li> <li> <p>\u200b\u601d\u8003\u200b\uff1a</p> <ul> <li>Lua\u200b\u865a\u62df\u673a\u200b\u5b9e\u73b0\u200b\u4e2d\u200b\u9ed8\u8ba4\u200b\u6700\u5927\u200b\u5bf9\u9f50\u200b\u7c7b\u578b\u200b\u662f\u200bdouble\uff0c\u200b\u800c\u200b<code>max_align_t</code>\u200b\u7c7b\u578b\u200b\u662f\u200bC11\u200b\u6807\u51c6\u200b\u624d\u200b\u5f15\u5165\u200b\u7684\u200b\uff1a https://en.cppreference.com/w/c/types/max_align_t \uff0c\u200b\u56e0\u6b64\u200bLua\u200b\u4f5c\u4e3a\u200bANSI C89\u200b\u6807\u51c6\u200b\u517c\u5bb9\u200b\u5b9e\u73b0\u200b\u5e76\u672a\u200b\u5b8c\u7f8e\u200b\u5904\u7406\u200b\u5404\u4e2a\u200b\u7f16\u8bd1\u5668\u200b\u5730\u5740\u200b\u5bf9\u9f50\u200b\u95ee\u9898\u200b\uff0c\u200b\u800c\u662f\u200b\u7559\u7ed9\u200b\u4e86\u200b\u7528\u6237\u200b\u5b9a\u4e49\u200b: <code>LUAI_USER_ALIGNMENT_T</code></li> <li>\u200b\u5728\u200bC++11\u200b\u7f16\u8bd1\u7cfb\u7edf\u200b\u4e0b\u200b\u5df2\u7ecf\u200b\u5f15\u5165\u200b <code>std::max_align_t</code>\u200b\u7c7b\u578b\u200b: https://en.cppreference.com/w/cpp/types/max_align_t</li> </ul> </li> </ul> <p>\u200b\u91cd\u8981\u200b: max_align_t\u200b\u5404\u200b\u5e73\u53f0\u200b\u5b9a\u4e49\u200b\u8bf7\u200b\u67e5\u770b\u200bllvm\u200b\u9879\u76ee\u200b\u7684\u200b __stddef_max_align_t.h</p> Can't load xxx.bundle on macOS? <p>The file <code>xxx.bundle</code> needs change attr by command <code>sudo xattr -r -d com.apple.quarantine xxx.bundle</code> </p> xxsocket\u200b\u7684\u200bresolve\u200b\u7cfb\u5217\u200b\u51fd\u6570\u200bsocktype\u200b\u53c2\u6570\u200b\u4f5c\u7528\u200b\uff1f <ul> <li>winsock\u200b\u5b9e\u73b0\u200b\u53ef\u4ee5\u200b\u5ffd\u7565\u200b</li> <li>\u200b\u5176\u4ed6\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b0\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u591a\u4e2a\u200b\u5730\u5740\u200b\uff0c\u200b\u5373\u4f7f\u200b\u76f4\u63a5\u200b\u4f20\u200bIP\u3002</li> </ul>"},{"location":"faq/#_2","title":"\u66f4\u200b\u591a\u200b\u5e38\u89c1\u95ee\u9898","text":"<p>\u200b\u8bf7\u53c2\u9605\u200b \u200b\u9879\u76ee\u200b\u5e2e\u52a9\u200b\u53f0\u200b</p>"},{"location":"interop/","title":"yasio Interop","text":"<p>\u200b\u4e3a\u4e86\u200b\u652f\u6301\u200bUnity C#\uff0c yasio\u200b\u63d0\u4f9b\u200b\u4e86\u200bC\u200b\u8bed\u8a00\u200b\u63a5\u53e3\u200b\u5bfc\u51fa\u200b\uff0c\u200b\u8be6\u89c1\u200b: https://github.com/yasio/yasio/blob/dev/yasio/bindings/yasio_ni.cpp \u200b\u5b8c\u6574\u200bdemo\uff0c\u200b\u8bf7\u200b\u67e5\u770b\u200b: https://github.com/yasio/yasio_unity</p>"},{"location":"preprocessor/","title":"yasio \u200b\u5b8f\u200b\u5b9a\u4e49","text":"<p>\u200b\u4ee5\u4e0b\u200b\u5b8f\u200b\u5b9a\u4e49\u200b\u53ef\u4ee5\u200b\u63a7\u5236\u200b <code>yasio</code> \u200b\u5e93\u200b\u7684\u200b\u67d0\u4e9b\u200b\u884c\u4e3a\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b yasio/detail/config.hpp \u200b\u5b9a\u4e49\u200b\u6216\u8005\u200b\u5728\u200b\u7f16\u8bd1\u5668\u200b\u9884\u200b\u5904\u7406\u5668\u200b\u5b9a\u4e49\u200b</p> Name Description YASIO_HAVE_KCP \u200b\u662f\u5426\u200b\u542f\u7528\u200bkcp\u200b\u4f20\u8f93\u200b\u652f\u6301\u200b\uff0c\u200b\u9700\u8981\u200bkcp\u200b\u5df2\u7ecf\u200b\u5728\u200b\u8f6f\u4ef6\u200b\u7f16\u8bd1\u7cfb\u7edf\u200b\u4e2d\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b\u3002 YASIO_HEADER_ONLY \u200b\u662f\u5426\u200b\u4ee5\u4ec5\u200b\u5934\u6587\u4ef6\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f7f\u7528\u200byasio\u200b\u6838\u5fc3\u200b\u7ec4\u4ef6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b\u3002 YASIO_SSL_BACKEND \u200b\u9009\u62e9\u200bSSL\u200b\u5e93\u4ee5\u200b\u652f\u6301\u200bSSL\u200b\u5ba2\u6237\u7aef\u200b\uff0c\u200b\u9700\u8981\u200b\u8f6f\u4ef6\u200b\u7f16\u8bd1\u7cfb\u7edf\u200b\u5305\u542b\u200bOpenSSL/MbedTLS\u200b\u5e93\u200b\uff0c3.36.0\u200b\u65b0\u589e\u200b(\u200b\u540c\u65f6\u200b\u79fb\u9664\u200bYASIO_HAVE_SSL)\uff0c\u200b\u6b64\u5b8f\u200b\u53ea\u80fd\u200b\u53d6\u503c\u200b <code>1</code>(\u200b\u4f7f\u7528\u200bOpenSSL) \u200b\u6216\u8005\u200b <code>2</code> (\u200b\u4f7f\u7528\u200bmbedtls)\u3002 YASIO_ENABLE_UDS \u200b\u662f\u5426\u200b\u542f\u7528\u200bunix domain socket\u200b\u652f\u6301\u200b\uff0c\u200b\u76ee\u524d\u200b\u4ec5\u7c7b\u200bunix\u200b\u7cfb\u7edf\u200b\u548c\u200bwin10 RS5+\u200b\u652f\u6301\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b\u3002 YASIO_HAVE_CARES \u200b\u662f\u5426\u200b\u542f\u7528\u200bc-ares\u200b\u5f02\u6b65\u200b\u57df\u540d\u89e3\u6790\u200b\u5e93\u200b\uff0c\u200b\u5f53\u200b\u7f16\u8bd1\u7cfb\u7edf\u200b\u5305\u542b\u200bc-ares\u200b\u65f6\u200b\u53ef\u200b\u542f\u7528\u200b\uff0c\u200b\u6709\u6548\u200b\u907f\u514d\u200b\u6bcf\u6b21\u200b\u89e3\u6790\u200b\u57df\u540d\u200b\u90fd\u200b\u65b0\u5f00\u200b\u7ebf\u7a0b\u200b\u3002yasio\u200b\u6709\u200bDNS\u200b\u7f13\u5b58\u200b\u673a\u5236\u200b\uff0c\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u9ed8\u8ba4\u200b10\u200b\u5206\u949f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u65e0\u200bc-ares\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u9020\u6210\u200b\u592a\u5927\u200b\u7684\u200b\u6027\u80fd\u200b\u635f\u8017\u200b\u3002 YASIO_VERBOSE_LOG \u200b\u662f\u5426\u200b\u6253\u5370\u200b\u8be6\u7ec6\u200b\u65e5\u5fd7\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b\u3002 YASIO_NT_COMPAT_GAI \u200b\u662f\u5426\u200b\u542f\u7528\u200bWindows XP\u200b\u7cfb\u7edf\u200b\u4e0b\u200b\u4f7f\u7528\u200b <code>getaddrinfo</code> API\u200b\u652f\u6301\u200b\u3002 YASIO_USE_SPSC_QUEUE \u200b\u662f\u5426\u200b\u4f7f\u7528\u200bSPSC(\u200b\u5355\u200b\u751f\u4ea7\u8005\u200b\u5355\u200b\u6d88\u8d39\u8005\u200b)\u200b\u961f\u5217\u200b\uff0c\u200b\u4ec5\u5f53\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u8c03\u7528\u200bio_service::write\u200b\u65f6\u653e\u200b\u53ef\u200b\u542f\u7528\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b\u3002 YASIO_USE_SHARED_PACKET \u200b\u662f\u5426\u200b\u4f7f\u7528\u200b <code>std::shared_ptr</code> \u200b\u5305\u88c5\u200b\u7f51\u7edc\u200b\u5305\u200b\uff0c\u200b\u4f7f\u200b\u5176\u80fd\u200b\u5728\u200b\u591a\u7ebf\u7a0b\u200b\u4e4b\u95f4\u200b\u5171\u4eab\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b\u3002 YASIO_HAVE_HALF_FLOAT \u200b\u662f\u5426\u200b\u542f\u7528\u200b\u534a\u200b\u7cbe\u5ea6\u200b\u6d6e\u70b9\u6570\u200b\u652f\u6301\u200b\uff0c\u200b\u4f9d\u8d56\u200b half.hpp\u3002 YASIO_DISABLE_OBJECT_POOL \u200b\u662f\u5426\u200b\u7981\u7528\u200b\u5bf9\u8c61\u200b\u6c60\u200b\u7684\u200b\u4f7f\u7528\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u542f\u7528\u200b\u3002 YASIO_DISABLE_CONCURRENT_SINGLETON \u200b\u662f\u5426\u200b\u7981\u7528\u200b\u5e76\u53d1\u200b\u5355\u5229\u200b\u7c7b\u200b\u6a21\u677f\u200b\u3002 YASIO_ENABLE_PASSIVE_EVENT \u200b\u662f\u5426\u200b\u542f\u7528\u200b\u670d\u52a1\u7aef\u200b\u4fe1\u9053\u200bopen/close\u200b\u4e8b\u4ef6\u200b\u4ea7\u751f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b\u3002 YASIO_DISABLE_POLL \u200b\u662f\u5426\u200b\u7981\u7528\u200b<code>poll</code>\uff0c\u200b\u9ed8\u8ba4\u200b\u542f\u7528\u200b\u3002\u200b\u81ea\u200b3.39.6\uff0c\u200b\u5e95\u5c42\u200b\u591a\u8def\u200bio\u200b\u590d\u7528\u200b\u6a21\u578b\u200b\u4f7f\u7528\u200b<code>poll</code>\uff0c\u200b\u5982\u9700\u200b\u7ee7\u7eed\u200b\u4f7f\u7528\u200b<code>select</code>\u200b\u6a21\u578b\u200b\uff0c\u200b\u5b9a\u4e49\u200b\u6b64\u9884\u200b\u5904\u7406\u5668\u200b\u5373\u53ef"},{"location":"unpacking/","title":"yasio \u200b\u7c98\u5305\u200b\u5904\u7406","text":"<p>yasio\u200b\u7684\u200b\u7c98\u5305\u200b\u5904\u7406\u200b\u4e0d\u4ec5\u200b\u9488\u5bf9\u200bTCP\uff0c\u200b\u5bf9\u4e8e\u200bUDP\uff0c\u200b\u5982\u679c\u200b\u53d1\u9001\u200b\u7aef\u6709\u200b\u7ec4\u5305\u200b\u53d1\u9001\u200b\u673a\u5236\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u4ee5\u200b\u76f8\u540c\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5904\u7406\u200b\u3002\u200b\u6574\u4f53\u200b\u6765\u8bb2\u200b\u6709\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b: </p> <ul> <li>\u200b\u901a\u8fc7\u200bio_service\u200b\u9009\u9879\u200b YOPT_C_UNPACK_PARAMS \u200b\u8bbe\u7f6e\u200b\u4fe1\u9053\u200b\u53c2\u6570\u200b\u3002</li> <li>\u200b\u901a\u8fc7\u200bio_service\u200b\u9009\u9879\u200b <code>YOPT_C_LFBFD_FN</code> \u200b\u8bbe\u7f6e\u200b\u81ea\u5b9a\u4e49\u200b\u5305\u200b\u957f\u5ea6\u200b\u89e3\u7801\u200b\u51fd\u6570\u200b decode_len_fn_t \u3002</li> </ul> <p>\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u81ea\u5b9a\u4e49\u200b\u89e3\u7801\u200b\u5305\u200b\u957f\u5ea6\u200b\u51fd\u6570\u200b\u5b9e\u73b0\u200b\u65f6\u200b\uff0c\u200b\u5f53\u200b\u4ece\u200b\u5b57\u8282\u200b\u6d41\u4e2d\u200b\u8bfb\u53d6\u200bint\u200b\u503c\u65f6\u200b\uff0c\u200b\u4e00\u5b9a\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u6307\u9488\u200b\u5f3a\u8f6c\u200b\uff0c\u200b\u5426\u5219\u200b\u53ef\u80fd\u200b\u89e6\u53d1\u200bARM\u200b\u82af\u7247\u200b\u5b57\u8282\u200b\u5bf9\u9f50\u200b\u95ee\u9898\u200b <code>SIGBUS</code> \u200b\u5f02\u5e38\u200b\u95ea\u9000\u200b\u3002\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u5185\u7f6e\u200b\u89e3\u7801\u200b\u5305\u200b\u957f\u5ea6\u200b\u51fd\u6570\u200b\u5b9e\u73b0\u200b <code>io_channel::__builtin_decode_len</code>\u3002</p>"},{"location":"unpacking/#yopt_c_unpack_params","title":"YOPT_C_UNPACK_PARAMS","text":"<p>\u200b\u8bbe\u7f6e\u200b\u4fe1\u9053\u200b\u62c6\u5305\u200b\u53c2\u6570\u200b\u3002</p>"},{"location":"unpacking/#_1","title":"\u53c2\u6570","text":"<p>max_frame_length \u200b\u6700\u5927\u200b\u5305\u200b\u957f\u5ea6\u200b\uff0c\u200b\u8d85\u8fc7\u200b\u5c06\u200b\u89c6\u4e3a\u200b\u5f02\u5e38\u200b\u5305\u200b\u3002</p> <p>length_field_offset \u200b\u5305\u200b\u957f\u5ea6\u200b\u5b57\u200b\u6bb5\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u6d88\u606f\u200b\u5305\u200b\u6570\u636e\u200b\u9996\u200b\u5b57\u8282\u200b\u504f\u79fb\u200b\u3002</p> <p>length_field_length \u200b\u5305\u200b\u957f\u5ea6\u200b\u5b57\u200b\u6bb5\u200b\u5927\u5c0f\u200b\uff0c\u200b\u652f\u6301\u200b1~4\u200b\u5b57\u8282\u200b\u6574\u6570\u200b(<code>uint8_t,uint16_t,uint24_t,int32_t</code>)\u3002</p> <p>length_adjustment \u200b\u5305\u200b\u957f\u5ea6\u200b\u8c03\u6574\u200b\u503c\u200b\u3002\u200b\u901a\u5e38\u200b\u5e94\u7528\u5c42\u200b\u4e8c\u8fdb\u5236\u200b\u534f\u8bae\u200b\u90fd\u200b\u4f1a\u200b\u8bbe\u8ba1\u200b\u6d88\u606f\u200b\u5934\u200b\u548c\u200b\u6d88\u606f\u200b\u4f53\u200b\uff0c\u200b\u5f53\u200b\u957f\u5ea6\u200b\u5b57\u200b\u6bb5\u503c\u200b\u5305\u542b\u200b\u6d88\u606f\u200b\u5934\u65f6\u200b\uff0c\u200b\u5219\u200b\u6b64\u503c\u200b\u4e3a\u200b <code>0</code>\uff0c\u200b\u5426\u5219\u200b\u4e3a\u200b <code>\u200b\u6d88\u606f\u200b\u5934\u200b\u957f\u5ea6\u200b</code>\u3002</p>"},{"location":"unpacking/#_2","title":"\u6ce8\u610f","text":"<p>\u200b\u6d88\u606f\u200b\u5305\u200b\u957f\u5ea6\u200b\u5b57\u200b\u6bb5\u200b\u5fc5\u987b\u200b\u4f7f\u7528\u200b\u7f51\u7edc\u200b\u5b57\u8282\u200b\u5e8f\u200b\u7f16\u7801\u200b\u3002\u200b\u8bf7\u200b\u67e5\u770b\u200b\u5185\u7f6e\u200b\u89e3\u7801\u200b\u5305\u200b\u957f\u5ea6\u200b\u5b9e\u73b0\u200b:</p> <pre><code>int io_channel::__builtin_decode_len(void* d, int n)\n{\n  int loffset = uparams_.length_field_offset;\n  int lsize   = uparams_.length_field_length;\n  if (loffset &gt;= 0)\n  {\n    int len = 0;\n    if (n &gt;= (loffset + lsize))\n    {\n      ::memcpy(&amp;len, (uint8_t*)d + loffset, lsize);\n      len = yasio::network_to_host(len, lsize);\n      len += uparams_.length_adjustment;\n      if (len &gt; uparams_.max_frame_length)\n        len = -1;\n    }\n    return len;\n  }\n  return n;\n}\n</code></pre>"},{"location":"unpacking/#decode_len_fn_t","title":"decode_len_fn_t","text":"<p>\u200b\u4fe1\u9053\u200b\u89e3\u7801\u200b\u6d88\u606f\u200b\u5305\u200b\u957f\u5ea6\u200b\u51fd\u6570\u200b\u539f\u578b\u200b\u3002</p> <pre><code>typedef std::function&lt;int(void* d, int n)&gt; decode_len_fn_t;\n</code></pre>"},{"location":"unpacking/#_3","title":"\u53c2\u6570","text":"<p>d \u200b\u5f85\u200b\u89e3\u5305\u200b\u6570\u636e\u200b\u9996\u200b\u5b57\u8282\u200b\u5730\u5740\u200b\u3002</p> <p>n \u200b\u5f85\u200b\u89e3\u5305\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u3002</p>"},{"location":"unpacking/#_4","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u6d88\u606f\u200b\u5305\u200b\u6570\u636e\u200b\u5b9e\u9645\u200b\u957f\u5ea6\u200b\u3002</p> <ul> <li><code>&gt; 0</code>: \u200b\u89e3\u7801\u200b\u5305\u200b\u957f\u5ea6\u200b\u6210\u529f\u200b\u3002</li> <li><code>== 0</code>: \u200b\u63a5\u6536\u6570\u636e\u200b\u4e0d\u8db3\u4ee5\u200b\u89e3\u7801\u200b\u6d88\u606f\u200b\u5305\u200b\u5b9e\u9645\u200b\u957f\u5ea6\u200b\uff0cyasio\u200b\u5e95\u5c42\u200b\u4f1a\u200b\u7ee7\u7eed\u200b\u63a5\u6536\u6570\u636e\u200b\uff0c\u200b\u4e00\u65e6\u200b\u6536\u5230\u200b\u65b0\u200b\u6570\u636e\u200b\uff0c\u200b\u4f1a\u200b\u518d\u6b21\u200b\u8c03\u7528\u200b\u6b64\u200b\u51fd\u6570\u200b\u3002</li> <li><code>&lt; 0</code>: \u200b\u89e3\u7801\u200b\u5305\u200b\u957f\u5ea6\u200b\u5f02\u5e38\u200b\uff0c\u200b\u4f1a\u200b\u89e6\u53d1\u200b\u5f53\u524d\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u65ad\u5f00\u200b\u3002</li> </ul>"},{"location":"unpacking/#_5","title":"\u6ce8\u610f","text":"<p>\u200b\u89e3\u7801\u200b\u6d88\u606f\u200b\u5305\u200b\u957f\u5ea6\u200b\u51fd\u6570\u200b\u5fc5\u987b\u200b\u662f\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u7684\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5bf9\u4e8e\u200bLua\u200b\u5219\u200b\u4e0d\u200b\u652f\u6301\u200b\u8bbe\u7f6e\u200b\u81ea\u5b9a\u4e49\u200b\u89e3\u7801\u200b\u6d88\u606f\u200b\u5305\u200b\u957f\u5ea6\u200b\u51fd\u6570\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/","title":"endpoint Class","text":"<p>\u200b\u5c01\u88c5\u200b\u5e95\u5c42\u200b <code>bsd socket</code> \u200b\u5730\u5740\u200b\uff0c\u200b\u652f\u6301\u200bIPv4\u200b\u548c\u200bIPv6\uff0c\u200b\u5305\u542b\u200bIP\u200b\u5730\u5740\u200b\u548c\u200b\u7aef\u53e3\u200b\u4fe1\u606f\u200b\uff0c\u200b\u53ef\u200b\u76f4\u63a5\u200b\u7528\u4e8e\u200b\u5e95\u5c42\u200b socket API: <code>bind/connect/sendto/recvfrom</code>\u3002</p>"},{"location":"api/reference/endpoint-class/#_1","title":"\u8bed\u6cd5","text":"<pre><code>namespace yasio { inline namespace inet { inline namespace ip { struct endpoint; } } }\n</code></pre>"},{"location":"api/reference/endpoint-class/#_2","title":"\u6210\u5458","text":"Name Description endpoint::endpoint \u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b <code>endpoint</code> \u200b\u5bf9\u8c61"},{"location":"api/reference/endpoint-class/#_3","title":"\u516c\u5171\u200b\u65b9\u6cd5","text":"Name Description endpoint::operator bool \u200b\u68c0\u67e5\u200b\u662f\u5426\u662f\u200b\u4e00\u4e2a\u200b\u6709\u6548\u200b\u5730\u5740\u200b endpoint::operator= \u200b\u8d4b\u503c\u200b\u8fd0\u7b97\u7b26\u200b\u91cd\u8f7d\u200b endpoint::operator&amp; \u200b\u53d6\u200b\u5730\u5740\u200b\u8fd0\u7b97\u7b26\u200b\u91cd\u8f7d\u200b endpoint::as_is \u200b\u4ece\u200b\u5df2\u77e5\u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\u6784\u9020\u200b endpoint::as_in \u200b\u4ece\u200bip\uff0c\u200b\u7aef\u53e3\u200b\u7b49\u200b\u5730\u5740\u200b\u4fe1\u606f\u200b\u6784\u9020\u200b endpoint::as_un \u200b\u6784\u9020\u200b\u4e3a\u200bunix domain socket\u200b\u5730\u5740\u200b endpoint::as_is_raw \u200b\u4ece\u200b\u8fde\u7eed\u200b\u5185\u5b58\u5730\u5740\u200b\u6784\u9020\u200b endpoint::zeroset \u200b\u6e05\u96f6\u200b endpoint::af \u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200b\u5730\u5740\u200b\u7c7b\u578b\u200b(\u200b\u65cf\u200b) endpoint::ip \u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200bip endpoint::port \u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200b\u7aef\u53e3\u200b endpoint::addr_v4 \u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200bIPv4\u200b\u5730\u5740\u200b endpoint::is_global \u200b\u68c0\u67e5\u200b\u662f\u5426\u662f\u200b\u5168\u5c40\u200b\u5730\u5740\u200b endpoint::len \u200b\u83b7\u53d6\u200b\u5730\u5740\u200b\u957f\u5ea6\u200b endpoint::to_string \u200b\u5c06\u200b\u5730\u5740\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b endpoint::format_to \u200b\u683c\u5f0f\u5316\u200b\u5730\u5740\u200b\u5230\u200b\u5b57\u7b26\u4e32"},{"location":"api/reference/endpoint-class/#endpointendpoint","title":"endpoint::endpoint","text":"<p>\u200b\u6784\u9020\u200b <code>endpoint</code> \u200b\u5bf9\u8c61\u200b\u3002</p> <pre><code>endpoint::endpoint();\nendpoint::endpoint(const endpoint&amp; rhs);\nexplicit endpoint::endpoint(const addrinfo* ai);\nexplicit endpoint::endpoint(const sockaddr* sa);\nexplicit endpoint::endpoint(const char* str_ep);\nendpoint::endpoint(const char* ip, unsigned short port);\nendpoint::endpoint(uint32_t addrv4, unsigned short port);\nendpoint::endpoint(int family, const void* addr, unsigned short port);\n</code></pre>"},{"location":"api/reference/endpoint-class/#_4","title":"\u53c2\u6570","text":"<p>rhs \u200b\u6784\u9020\u200bendpoint\u200b\u7684\u200b\u53f3\u503c\u200b<code>endpoint</code>\u200b\u5bf9\u8c61\u200b</p> <p>ai \u200b\u6784\u9020\u200bendpoint\u200b\u7684\u200baddrinfo\u200b\u4fe1\u606f\u200b</p> <p>sa \u200b\u6784\u9020\u200bendpoint\u200b\u7684\u200bsockaddr\u200b\u4fe1\u606f\u200b</p> <p>str_ep \u200b\u5b57\u7b26\u4e32\u200b\u8868\u793a\u200b\u7684\u200bIP\u200b\u548c\u200b\u7aef\u53e3\u200b\u4fe1\u606f\u200b\uff0c\u200b\u683c\u5f0f\u200b\u4e3a\u200b <code>127.0.0.1:2022</code> \u200b\u6216\u200b <code>[fe80::1]:2033</code></p> <p>ip \u200b\u6784\u9020\u200bendpoint\u200b\u7684\u200bIPv4\u200b\u6216\u200bIPv6\u200b\u5730\u5740\u200b\u5b57\u7b26\u4e32\u200b</p> <p>port \u200b\u6784\u9020\u200bendpoint\u200b\u7684\u200b\u7aef\u53e3\u200b</p> <p>addrv4 \u200b\u6784\u9020\u200bendpoint\u200b\u7684\u200b4\u200b\u5b57\u8282\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u6570\u200b\u8868\u793a\u200b\u7684\u200bIPv4\u200b\u5730\u5740\u200b\u503c\u200b</p> <p>family \u200b\u6784\u9020\u200bendpoint\u200b\u7684\u200b\u5730\u5740\u200b\u7c7b\u578b\u200b</p> <p>addr \u200b\u6784\u9020\u200bendpoint\u200b\u5730\u5740\u200b\uff0c\u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\u7531\u200bfamily\u200b\u51b3\u5b9a\u200b</p>"},{"location":"api/reference/endpoint-class/#endpointoperator-bool","title":"endpoint::operator bool","text":"<p>\u200b\u68c0\u67e5\u200b\u662f\u5426\u662f\u200b\u4e00\u4e2a\u200b\u6709\u6548\u200b\u5730\u5740\u200b\u3002</p> <pre><code>explicit operator bool() const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_5","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: \u200b\u5730\u5740\u200b\u6709\u6548\u200b\uff0c <code>false</code>\uff1a\u200b\u5730\u5740\u200b\u65e0\u6548\u200b</p>"},{"location":"api/reference/endpoint-class/#endpointoperator","title":"endpoint::operator =","text":"<p>\u200b\u8d4b\u503c\u200b\u8fd0\u7b97\u7b26\u200b\u91cd\u8f7d\u200b\u3002</p> <pre><code>endpoint&amp; operator=(const endpoint&amp; rhs) const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_6","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b\u81ea\u8eab\u200b\u7684\u200b\u5f15\u7528\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/#_7","title":"\u793a\u4f8b","text":"<pre><code>#include \"yasio/xxsocket.h\"\nint main() {\n    yasio::endpoint ep(\"127.0.0.1\", 2021);\n    yasio::endpoint ep1(\"127.0.0.1\", 2022);\n    yasio::endpoint ep3{ep};\n    ep3 = ep1;\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/endpoint-class/#endpointoperator_1","title":"endpoint::operator &amp;","text":"<p>\u200b\u53d6\u200b\u5730\u5740\u200b\u8fd0\u7b97\u7b26\u200b\u91cd\u8f7d\u200b\u3002</p> <pre><code>sockaddr* operator&amp;();\nconst sockaddr* operator&amp;() const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_8","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200bsockaddr*\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u200b\u76f4\u63a5\u200b\u7528\u6237\u200b\u5e95\u5c42\u200bbsd socket API\u3002</p>"},{"location":"api/reference/endpoint-class/#_9","title":"\u6ce8\u610f","text":"<p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u83b7\u53d6\u200b<code>ip::endpoint*</code>\u200b\u7c7b\u578b\u200b\u6307\u9488\u200b\uff0c\u200b\u8bf7\u200b\u4f7f\u7528\u200b<code>std::addressof</code>\u3002</p>"},{"location":"api/reference/endpoint-class/#_10","title":"\u793a\u4f8b","text":"<pre><code>#include \"yasio/xxsocket.h\"\nint main() {\n    yasio::endpoint ep(\"127.0.0.1\", 2021);\n    yasio::socket sock(AF_INET, SOCK_STREAM, 0);\n    ::connect(sock.native_handle(), &amp;ep, ep.len());\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/endpoint-class/#endpointas_is","title":"endpoint::as_is","text":"<p>\u200b\u7531\u200b\u5df2\u77e5\u200b\u5730\u5740\u200b\u4fe1\u606f\u200b\u6784\u9020\u200b\u3002</p> <pre><code>endpoint&amp; as_is(const endpoint&amp; rhs);\nendpoint&amp; as_is(const addrinfo* info);\nendpoint&amp; as_is(const sockaddr* addr);\nendpoint&amp; as_is(const char* str_ep);\n</code></pre>"},{"location":"api/reference/endpoint-class/#_11","title":"\u53c2\u6570","text":"<p>rhs \u200b\u5df2\u6709\u200b<code>endpoint</code>\u200b\u5bf9\u8c61\u200b</p> <p>info addrinfo*\u200b\u5730\u5740\u200b\u4fe1\u606f\u200b</p> <p>addr sockaddr*\u200b\u7c7b\u578b\u200b\u5730\u5740\u200b</p> <p>str_ep \u200b\u5b57\u7b26\u4e32\u200b\u8868\u793a\u200b\u7684\u200bIP\u200b\u548c\u200b\u7aef\u53e3\u200b\u4fe1\u606f\u200b\uff0c\u200b\u683c\u5f0f\u200b\u4e3a\u200b <code>127.0.0.1:2022</code> \u200b\u6216\u200b <code>[fe80::1]:2033</code></p>"},{"location":"api/reference/endpoint-class/#_12","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b\u81ea\u8eab\u200b\u7684\u200b\u5f15\u7528\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointas_in","title":"endpoint::as_in","text":"<p>\u200b\u7531\u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\u3001\u200b\u5730\u5740\u200b\u548c\u200b\u7aef\u53e3\u200b\u53c2\u6570\u200b\u6784\u9020\u200b\u3002</p> <pre><code>endpoint&amp; as_in(int family, const void* addr_in, u_short port);\nendpoint&amp; as_in(const char* addr, unsigned short port);\nendpoint&amp; as_in(uint32_t addrv4, u_short port);\n</code></pre>"},{"location":"api/reference/endpoint-class/#_13","title":"\u53c2\u6570","text":"<p>family \u200b\u5730\u5740\u200b\u7c7b\u578b\u200b</p> <p>addr_in in\u200b\u5730\u5740\u200b\uff0c\u200b\u7c7b\u578b\u200b\u7531\u200b\u53c2\u6570\u200b<code>family</code>\u200b\u51b3\u5b9a\u200b</p> <p>addr \u200b\u5b57\u7b26\u4e32\u200b\u8868\u793a\u200b\u7684\u200bIPv4\u200b\u6216\u200bIPv4\u200b\u5730\u5740\u200b</p> <p>addrv4 4\u200b\u5b57\u8282\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u6570\u200b\u8868\u793a\u200b\u7684\u200bIPv4\u200b\u5730\u5740\u200b</p> <p>port \u200b\u7aef\u53e3\u53f7\u200b</p>"},{"location":"api/reference/endpoint-class/#_14","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b\u81ea\u8eab\u200b\u7684\u200b\u5f15\u7528\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointas_un","title":"endpoint::as_un","text":"<p>\u200b\u6784\u9020\u200b\u4e3a\u200bUnix domain socket\u200b\u7684\u200bendpoint\uff0c\u200b\u5f53\u200b\u7f16\u8bd1\u5668\u200b\u5b8f\u200b <code>YASIO_ENABLE_UDS</code> \u200b\u5b9a\u4e49\u200b\u65f6\u200b\u53ef\u7528\u200b\u3002</p> <pre><code>endpoint&amp; as_un(const char* name);\n</code></pre>"},{"location":"api/reference/endpoint-class/#_15","title":"\u53c2\u6570","text":"<p>name Unix domain socket\u200b\u672c\u5730\u200b\u78c1\u76d8\u200b\u8def\u5f84\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b<code>sizeof(sockaddr::sun_path)</code></p>"},{"location":"api/reference/endpoint-class/#_16","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b\u81ea\u8eab\u200b\u7684\u200b\u5f15\u7528\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointas_is_raw","title":"endpoint::as_is_raw","text":"<p>\u200b\u7531\u200b\u5df2\u77e5\u200b\u5730\u5740\u200b\u4fe1\u606f\u200b\u6784\u9020\u200b\u3002</p> <pre><code>endpoint&amp; as_is_raw(const void* ai_addr, size_t ai_addrlen);\n</code></pre>"},{"location":"api/reference/endpoint-class/#_17","title":"\u53c2\u6570","text":"<p>ai_addr \u200b\u5730\u5740\u200b\u6307\u9488\u200b</p> <p>ai_addrlen \u200b\u5730\u5740\u200b\u957f\u5ea6\u200b</p>"},{"location":"api/reference/endpoint-class/#_18","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b\u81ea\u8eab\u200b\u7684\u200b\u5f15\u7528\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointzeroset","title":"endpoint::zeroset","text":"<p>\u200b\u6e05\u7a7a\u200b\u5730\u5740\u200b\u3002</p> <pre><code>void zeroset();\n</code></pre>"},{"location":"api/reference/endpoint-class/#endpointaf","title":"endpoint::af","text":"<p>\u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200bendpoint\u200b\u7684\u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\u3002</p> <pre><code>void af(int v);\nint af() const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_19","title":"\u53c2\u6570","text":"<p>v \u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\uff1a \u200b\u53d6\u503c\u200b <code>AF_INET</code>\u3001<code>AF_INET6</code></p>"},{"location":"api/reference/endpoint-class/#_20","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointip","title":"endpoint::ip","text":"<p>\u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200bip\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <pre><code>void ip(const char* v);\nstd::string ip() const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_21","title":"\u53c2\u6570","text":"<p>v \u200b\u5b57\u7b26\u4e32\u200b\u8868\u793a\u200b\u7684\u200bIPv4\u200b\u6216\u200bIPv6\u200b\u5730\u5740\u200b\uff0c\u200b\u4f8b\u5982\u200b: 127.0.0.1\u3001fe80::1</p>"},{"location":"api/reference/endpoint-class/#_22","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u5b57\u7b26\u4e32\u200b\u8868\u793a\u200b\u7684\u200bIPv4\u200b\u6216\u200bIPv6\u200b\u5730\u5740\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointport","title":"endpoint::port","text":"<p>\u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200b\u7aef\u53e3\u53f7\u200b\u3002</p> <pre><code>void port(u_short v);\nu_short port() const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_23","title":"\u53c2\u6570","text":"<p>v \u200b\u7aef\u53e3\u53f7\u200b</p>"},{"location":"api/reference/endpoint-class/#_24","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u7aef\u53e3\u53f7\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointaddr_v4","title":"endpoint::addr_v4","text":"<p>\u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200b4\u200b\u5b57\u8282\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u6570\u200b\u8868\u793a\u200b\u7684\u200bIPv4\u200b\u5730\u5740\u200b\u3002</p> <pre><code>void addr_v4(uint32_t addr);\nuint32_t addr_v4() const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_25","title":"\u53c2\u6570","text":"<p>addr <code>uint32_t</code> \u200b\u8868\u793a\u200b\u7684\u200bIPv4\u200b\u5730\u5740\u200b\uff0c\u200b\u4f1a\u200b\u5c06\u200b <code>endpoint</code> \u200b\u7684\u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\u4fee\u6539\u200b\u4e3a\u200b <code>AF_INET</code>\u3002</p>"},{"location":"api/reference/endpoint-class/#_26","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b4\u200b\u5b57\u8282\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u6570\u200b\u8868\u793a\u200b\u7684\u200bIPv4\u200b\u5730\u5740\u200b\uff0c\u200b\u5982\u679c\u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\u4e0d\u662f\u200bIPv4\u200b\u5219\u200b\u8fd4\u56de\u200b<code>0</code></p>"},{"location":"api/reference/endpoint-class/#endpointlen","title":"endpoint::len","text":"<p>\u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200b\u5730\u5740\u200b\u957f\u5ea6\u200b\u3002</p> <pre><code>void len(int n);\nint len() const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_27","title":"\u53c2\u6570","text":"<p>n \u200b\u5730\u5740\u200b\u957f\u5ea6\u200b</p>"},{"location":"api/reference/endpoint-class/#_28","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u5730\u5740\u200b\u957f\u5ea6\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointis_global","title":"endpoint::is_global","text":"<p>\u200b\u5224\u65ad\u200b\u5730\u5740\u200b\u662f\u5426\u200b\u4e3a\u200b\u5168\u5c40\u200b\u5730\u5740\u200b\uff0c\u200b\u975e\u200b\u56de\u73af\u200b\u5730\u5740\u200b\u3002</p> <pre><code>bool is_global() const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_29","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: \u200b\u5168\u5c40\u200b\u5730\u5740\u200b\uff0c<code>false</code>: \u200b\u672c\u200b\u673a\u200b\u56de\u73af\u200b\u5730\u5740\u200b\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointto_string","title":"endpoint::to_string","text":"<p>\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <pre><code>std::string to_string(int flags = endpoint::fmt_default) const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_30","title":"\u53c2\u6570","text":"<p>flags \u200b\u683c\u5f0f\u5316\u200b\u6807\u5fd7\u200b\u4f4d\u200b\uff0c\u200b\u8be6\u89c1\u200b: endpoint::fmt_xxx</p>"},{"location":"api/reference/endpoint-class/#_31","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u5b57\u7b26\u4e32\u200b\u8868\u793a\u200b\u7684\u200bIPv4\u200b\u6216\u200bIPv6\u200b\u5730\u5740\u200b\uff0c\u200b\u662f\u5426\u200b\u5305\u542b\u200b\u7aef\u53e3\u200b\u53d6\u51b3\u4e8e\u200b\u53c2\u6570\u200b<code>flags</code>\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointformat_to","title":"endpoint::format_to","text":"<p>\u200b\u8d4b\u503c\u200b\u8fd0\u7b97\u7b26\u200b\u91cd\u8f7d\u200b\u3002</p> <pre><code>size_t format_to(std::string&amp; buf, int flags = 0) const;\nsize_t format_to(char* buf, size_t buf_len, int flags) const;\n</code></pre>"},{"location":"api/reference/endpoint-class/#_32","title":"\u53c2\u6570","text":"<p>buf \u200b\u683c\u5f0f\u5316\u200b\u76ee\u6807\u200b\u7f13\u51b2\u533a\u200b\u3002</p> <p>buf_len \u200b\u683c\u5f0f\u5316\u200b\u76ee\u6807\u200b\u7f13\u51b2\u533a\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5fc5\u987b\u200b\u786e\u4fdd\u200b\u5927\u4e8e\u200b <code>endpoint::max_fmt_len</code>\u3002</p> <p>flags \u200b\u683c\u5f0f\u5316\u200b\u6807\u5fd7\u200b\u4f4d\u200b\uff0c\u200b\u8be6\u89c1\u200b: endpoint::fmt_xxx</p>"},{"location":"api/reference/endpoint-class/#_33","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u5b57\u7b26\u4e32\u200b\u8868\u793a\u200b\u7684\u200bIPv4\u200b\u6216\u200bIPv6\u200b\u5730\u5740\u200b\uff0c\u200b\u662f\u5426\u200b\u5305\u542b\u200b\u7aef\u53e3\u200b\u53d6\u51b3\u4e8e\u200b\u53c2\u6570\u200b<code>flags</code>\u3002</p>"},{"location":"api/reference/endpoint-class/#endpointfmt_xxx","title":"endpoint::fmt_xxx","text":"<p>\u200b\u5730\u5740\u200b\u683c\u5f0f\u5316\u200b\u6807\u5fd7\u200b\u4f4d\u200b\u679a\u4e3e\u200b\u503c\u200b</p> <pre><code>struct endpoint {\n    enum\n    {\n        fmt_no_local   = 1,\n        fmt_no_port    = 2,\n        fmt_no_port_0  = 4,\n        fmt_no_un_path = 8,\n        fmt_default    = fmt_no_port_0 | fmt_no_un_path,\n    };\n}\n</code></pre> <ul> <li>fmt_no_local: \u200b\u5ffd\u7565\u200b\u56de\u73af\u200b\u5730\u5740\u200b</li> <li>fmt_no_port: \u200b\u5ffd\u7565\u200b\u7aef\u53e3\u200b</li> <li>fmt_no_port_0: \u200b\u5ffd\u7565\u200b0\u200b\u7aef\u53e3\u200b</li> <li>fmt_no_un_path: \u200b\u5ffd\u7565\u200bunix path</li> <li>fmt_default: \u200b\u5ffd\u7565\u200b0\u200b\u7aef\u53e3\u200b\u548c\u200bunix path</li> </ul>"},{"location":"api/reference/ibstream-class/","title":"ibstream_view Class","text":"<p>\u200b\u63d0\u4f9b\u200b\u4e8c\u8fdb\u5236\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u5728\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u5f53\u200b\u5269\u4f59\u200b\u6570\u636e\u200b\u4e0d\u8db3\u200b\u65f6\u4f1a\u200b\u629b\u51fa\u200b <code>std::out_of_range</code> \u200b\u5f02\u5e38\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#_1","title":"\u8bed\u6cd5","text":"<pre><code>namespace yasio { \n// \u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u8f6c\u6362\u200b\u5b57\u8282\u200b\u5e8f\u200b\uff0c\u200b\u9002\u7528\u200b\u4e8e\u200b\u7f51\u7edc\u200b\u4f20\u8f93\u200b\nusing ibstream_view = basic_ibstream_view&lt;endian::network_convert_tag&gt;; \n\n// \u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u65e0\u200b\u5b57\u8282\u200b\u5e8f\u200b\u8f6c\u6362\u200b\uff0c\u200b\u6027\u80fd\u200b\u66f4\u200b\u5feb\u200b\nusing fast_ibstream_view = basic_ibstream_view&lt;endian::host_convert_tag&gt;;\n}\n</code></pre>"},{"location":"api/reference/ibstream-class/#_2","title":"\u6210\u5458","text":""},{"location":"api/reference/ibstream-class/#_3","title":"\u516c\u5171\u200b\u6784\u9020","text":"Name Description ibstream_view::ibstream_view \u200b\u6784\u9020\u200b1\u200b\u4e2a\u200b <code>ibstream_view</code> \u200b\u5bf9\u8c61"},{"location":"api/reference/ibstream-class/#_4","title":"\u516c\u5171\u200b\u65b9\u6cd5","text":"Name Description ibstream_view::reset \u200b\u91cd\u7f6e\u200b\u5f85\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u6570\u636e\u200b ibstream_view::read \u200b\u51fd\u6570\u200b\u6a21\u677f\u200b\uff0c\u200b\u8bfb\u53d6\u200b\u6570\u503c\u200b ibstream_view:read_ix \u200b\u51fd\u6570\u200b\u6a21\u677f\u200b\uff0c\u200b\u8bfb\u53d6\u200b(7bit Encoded Int/Int64)\u200b\u6574\u6570\u200b\u503c\u200b ibstream_view:read_v \u200b\u8bfb\u53d6\u200b\u5e26\u200b\u957f\u5ea6\u200b\u57df\u200b(7bit Encoded Int/Int64)\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b ibstream_view:read_byte \u200b\u8bfb\u53d6\u200b1\u200b\u4e2a\u200b\u5b57\u8282\u200b ibstream_view:read_bytes \u200b\u8bfb\u53d6\u200b\u6307\u5b9a\u200b\u957f\u5ea6\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b ibstream_view::empty \u200b\u68c0\u67e5\u200b\u6d41\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b ibstream_view::data \u200b\u83b7\u53d6\u200b\u6d41\u200b\u6570\u636e\u200b\u6307\u9488\u200b ibstream_view::length \u200b\u83b7\u53d6\u200b\u6d41\u200b\u5927\u5c0f\u200b ibstream_view::advance \u200b\u5411\u524d\u200b\u79fb\u52a8\u200b\u6d41\u200b\u7684\u200b\u8bfb\u53d6\u200b\u6e38\u6807\u200b ibstream_view::seek \u200b\u79fb\u52a8\u200b\u6d41\u200b\u7684\u200b\u8bfb\u53d6\u200b\u6e38\u6807"},{"location":"api/reference/ibstream-class/#_5","title":"\u6ce8\u610f","text":"<p><code>ibstream_view</code> \u200b\u501f\u9274\u200bC++17\u200b\u6807\u51c6\u200b\u7684\u200b <code>std::string_view</code>, \u200b\u610f\u5473\u7740\u200b\u5728\u200b\u521d\u59cb\u5316\u200b\u548c\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4e0d\u4f1a\u200b\u4ea7\u751f\u200b\u4efb\u4f55\u200bGC\u3002</p>"},{"location":"api/reference/ibstream-class/#_6","title":"\u8981\u6c42","text":"<p>\u200b\u5934\u6587\u4ef6\u200b: ibstream.hpp</p>"},{"location":"api/reference/ibstream-class/#ibstream_viewibstream_view","title":"ibstream_view::ibstream_view","text":"<p>\u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b <code>ibstream_view</code> \u200b\u5bf9\u8c61\u200b\u3002</p> <pre><code>ibstream_view();\n\nibstream_view(const void* data, size_t size);\n\nibstream_view(const obstream* obs);\n</code></pre>"},{"location":"api/reference/ibstream-class/#_7","title":"\u53c2\u6570","text":"<p>data \u200b\u5f85\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\u9996\u200b\u5730\u5740\u200b\u3002</p> <p>size \u200b\u5f85\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\u5927\u5c0f\u200b\u3002</p> <p>obs \u200b\u5df2\u200b\u5e8f\u5217\u5316\u200b\u7684\u200b\u6d41\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstream_viewreset","title":"ibstream_view::reset","text":"<p>\u200b\u91cd\u7f6e\u200b <code>ibstream_view</code> \u200b\u7f13\u51b2\u200b\u89c6\u56fe\u200b\u3002</p> <pre><code>void ibstream_view::reset(const void* data, size_t size);\n</code></pre>"},{"location":"api/reference/ibstream-class/#_8","title":"\u53c2\u6570","text":"<p>data \u200b\u5f85\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\u9996\u200b\u5730\u5740\u200b\u3002</p> <p>size \u200b\u5f85\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\u5927\u5c0f\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstream_viewread","title":"ibstream_view::read","text":"<p>\u200b\u4ece\u6d41\u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u6570\u503c\u200b\u3002</p> <pre><code>template&lt;typename _Nty&gt;\n_Nty ibstream_view::read();\n</code></pre>"},{"location":"api/reference/ibstream-class/#_9","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u8bfb\u5230\u200b\u7684\u200b\u503c\u200b</p>"},{"location":"api/reference/ibstream-class/#_10","title":"\u6ce8\u610f","text":"<p>_Nty \u200b\u5b9e\u9645\u200b\u7c7b\u578b\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u610f\u200b1~8\u200b\u5b57\u8282\u200b\u6574\u6570\u200b\u7c7b\u578b\u200b\u6216\u200b\u6d6e\u70b9\u200b\u7c7b\u578b\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstream_viewread_ix","title":"ibstream_view::read_ix","text":"<p>\u200b\u8bfb\u53d6\u200b7Bit Encoded Int\u200b\u538b\u7f29\u200b\u7f16\u7801\u200b\u7684\u200b\u6574\u6570\u200b\u503c\u200b\u3002</p> <pre><code>template&lt;typename _Intty&gt;\n_Intty ibstream_view::read_ix();\n</code></pre>"},{"location":"api/reference/ibstream-class/#_11","title":"\u8fd4\u56de\u503c","text":"<p>32/64\u200b\u4f4d\u200b\u6574\u6570\u200b\u503c\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#_12","title":"\u6ce8\u610f","text":"<p>_Intty \u200b\u7684\u200b\u5fc5\u987b\u200b\u662f\u200b\u4ee5\u4e0b\u200b\u7c7b\u578b\u200b</p> <ul> <li>int32_t</li> <li>int64_t</li> </ul> <p>\u200b\u672c\u200b\u51fd\u6570\u200b\u517c\u5bb9\u200b\u4e8e\u200b Microsoft dotnet \u200b\u5982\u4e0b\u200b\u51fd\u6570\u200b</p> <ul> <li>BinaryReader.Read7BitEncodedInt()</li> <li>BinaryReader.Read7BitEncodedInt64()</li> </ul>"},{"location":"api/reference/ibstream-class/#ibstream_viewread_v","title":"ibstream_view::read_v","text":"<p>\u200b\u8bfb\u53d6\u200b\u53d8\u200b\u957f\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\u3002</p> <pre><code>cxx17::string_view read_v();\n</code></pre>"},{"location":"api/reference/ibstream-class/#_13","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u8bfb\u53d6\u200b\u5230\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\u89c6\u56fe\u200b\uff0c\u200b\u65e0\u200bGC\u3002</p>"},{"location":"api/reference/ibstream-class/#_14","title":"\u6ce8\u610f","text":"<p>\u200b\u672c\u200b\u51fd\u6570\u200b\u4f1a\u5148\u200b\u8bfb\u53d6\u200b7bit Encoded Int\u200b\u538b\u7f29\u200b\u7f16\u7801\u200b\u7684\u200b\u957f\u5ea6\u200b\u503c\u200b\uff0c\u200b\u518d\u200b\u8c03\u7528\u200b read_bytes \u200b\u8bfb\u53d6\u200b\u4e8c\u8fdb\u5236\u200b\u5b57\u8282\u200b\u6570\u636e\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstream_viewread_byte","title":"ibstream_view::read_byte","text":"<p>\u200b\u8bfb\u53d6\u200b1\u200b\u4e2a\u200b\u5b57\u8282\u200b\u3002</p> <pre><code>uint8_t read_byte();\n</code></pre>"},{"location":"api/reference/ibstream-class/#_15","title":"\u8fd4\u56de\u503c","text":"<p>uint8_t\u200b\u503c\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#_16","title":"\u6ce8\u610f","text":"<p>\u200b\u672c\u200b\u51fd\u6570\u200b\u7b49\u4ef7\u200b\u4e8e\u200b <code>ibstream_view::read&lt;uint8_t&gt;</code></p>"},{"location":"api/reference/ibstream-class/#ibstream_viewread_bytes","title":"ibstream_view::read_bytes","text":"<p>\u200b\u8bfb\u53d6\u200b\u6307\u5b9a\u200b\u957f\u5ea6\u200b\u5b57\u8282\u200b\u6570\u636e\u200b\uff0c\u200b\u65e0\u200bGC\u3002</p> <pre><code>cxx17::string_view read_bytes();\n</code></pre>"},{"location":"api/reference/ibstream-class/#_17","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\u7684\u200b <code>cxx17::string_view</code> \u200b\u7c7b\u578b\u200b\u89c6\u56fe\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstream_viewempty","title":"ibstream_view::empty","text":"<p>\u200b\u5224\u65ad\u200b\u6d41\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b\u3002</p> <pre><code>bool empty() const;\n</code></pre>"},{"location":"api/reference/ibstream-class/#_18","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code> \u200b\u7a7a\u200b; <code>false</code> \u200b\u6d41\u4e2d\u200b\u81f3\u5c11\u200b\u5305\u542b\u200b1\u200b\u4e2a\u200b\u5b57\u8282\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#_19","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u65b9\u6cd5\u200b\u7b49\u4ef7\u200b\u4e8e\u200b length == 0\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstream_viewdata","title":"ibstream_view::data","text":"<p>\u200b\u8fd4\u56de\u200b\u6d41\u200b\u6570\u636e\u200b\u6307\u9488\u200b\u3002</p> <pre><code>const char* data() const;\n</code></pre>"},{"location":"api/reference/ibstream-class/#_20","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u6307\u5411\u200b\u6d41\u4e2d\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u7684\u200b\u6307\u9488\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstream_viewlength","title":"ibstream_view::length","text":"<p>\u200b\u83b7\u53d6\u200b\u6d41\u200b\u957f\u5ea6\u200b\u3002</p> <pre><code>size_t length() const;\n</code></pre>"},{"location":"api/reference/ibstream-class/#_21","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u5f53\u524d\u200b\u6d41\u200b\u957f\u5ea6\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstream_viewadvance","title":"ibstream_view::advance","text":"<p>\u200b\u5411\u524d\u200b\u79fb\u52a8\u200b\u6d41\u200b\u8bfb\u53d6\u200b\u6e38\u6807\u200b\u3002</p> <pre><code>void advance(ptrdiff_t offset);\n</code></pre>"},{"location":"api/reference/ibstream-class/#_22","title":"\u53c2\u6570","text":"<p>offset \u200b\u8981\u200b\u5411\u524d\u200b\u79fb\u52a8\u200b\u7684\u200b\u504f\u79fb\u91cf\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#_23","title":"\u6ce8\u610f","text":"<p>\u200b\u82e5\u200b*offset*\u200b\u4f20\u200b\u8d1f\u6570\u200b\uff0c\u200b\u5219\u200b\u53cd\u5411\u200b\u53ef\u200b\u79fb\u52a8\u200b\u8bfb\u53d6\u200b\u6e38\u6807\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstream_viewseek","title":"ibstream_view::seek","text":"<p>\u200b\u79fb\u52a8\u200b\u8bfb\u53d6\u200b\u6e38\u6807\u200b\u3002</p> <pre><code>ptrdiff_t seek(ptrdiff_t offset, int whence);\n</code></pre>"},{"location":"api/reference/ibstream-class/#_24","title":"\u53c2\u6570","text":"<p>offset \u200b\u548c\u200b*whence*\u200b\u76f8\u5173\u200b\u7684\u200b\u504f\u79fb\u91cf\u200b\u3002</p> <p>whence \u200b\u542b\u4e49\u200b\u7b49\u540c\u4e8e\u200bC\u200b\u6807\u51c6\u200b\u5e93\u200b\u679a\u4e3e\u200b\u503c\u200b\uff1a <code>SEEK_SET</code>,<code>SEEK_CUR</code>,<code>SEEK_END</code>\u3002</p>"},{"location":"api/reference/ibstream-class/#_25","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u79fb\u52a8\u200b\u540e\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u6d41\u9996\u200b\u5b57\u8282\u200b\u504f\u79fb\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstream-class","title":"ibstream Class","text":"<p>\u200b\u63d0\u4f9b\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\u52a0\u8f7d\u200b\u548c\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u529f\u80fd\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#_26","title":"\u8bed\u6cd5","text":"<pre><code>namespace yasio { \nusing ibstream = basic_ibstream&lt;endian::network_convert_tag&gt;; \n// \u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u65e0\u200b\u5b57\u8282\u200b\u5e8f\u200b\u8f6c\u6362\u200b\uff0c\u200b\u6027\u80fd\u200b\u66f4\u200b\u5feb\u200b\nusing fast_ibstream = basic_ibstream&lt;endian::host_convert_tag&gt;; \n}\n</code></pre>"},{"location":"api/reference/ibstream-class/#_27","title":"\u6210\u5458","text":""},{"location":"api/reference/ibstream-class/#_28","title":"\u516c\u5171\u200b\u6784\u9020\u51fd\u6570","text":"Name Description ibstream::ibstream \u200b\u6784\u9020\u200b1\u200b\u4e2a\u200b <code>ibstream</code> \u200b\u5bf9\u8c61"},{"location":"api/reference/ibstream-class/#_29","title":"\u516c\u5171\u200b\u65b9\u6cd5","text":"Name Description ibstream::load \u200b\u4ece\u6587\u4ef6\u200b\u52a0\u8f7d\u200b\u6d41"},{"location":"api/reference/ibstream-class/#_30","title":"\u7ee7\u627f\u200b\u5c42\u6b21\u7ed3\u6784","text":"<p>ibstream_view</p> <p><code>ibstream</code></p>"},{"location":"api/reference/ibstream-class/#ibstreamibstream","title":"ibstream::ibstream","text":"<p>\u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b <code>ibstream</code> \u200b\u5bf9\u8c61\u200b\u3002</p> <pre><code>ibstream(yasio::sbyte_buffer blob);\n\nibstream(const obstream* obs);\n</code></pre>"},{"location":"api/reference/ibstream-class/#_31","title":"\u53c2\u6570","text":"<p>blob \u200b\u8f93\u5165\u200b\u4e8c\u8fdb\u5236\u200b\u6d41\u200b\u3002</p> <p>obs \u200b\u5df2\u200b\u5e8f\u5217\u5316\u200b\u7684\u200b <code>obstream</code> \u200b\u5bf9\u8c61\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#ibstreamload","title":"ibstream::load","text":"<p>\u200b\u4ece\u6587\u4ef6\u200b\u52a0\u8f7d\u200b.</p> <pre><code>bool load(const char* filename) const;\n</code></pre>"},{"location":"api/reference/ibstream-class/#_32","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code> \u200b\u52a0\u8f7d\u200b\u6210\u529f\u200b\uff0c<code>false</code> \u200b\u52a0\u8f7d\u200b\u5931\u8d25\u200b\u3002</p>"},{"location":"api/reference/ibstream-class/#_33","title":"\u793a\u4f8b","text":"<p>\u200b\u8bf7\u200b\u67e5\u770b\u200b obstream::save</p>"},{"location":"api/reference/ibstream-class/#_34","title":"\u8bf7\u53c2\u9605","text":"<p>obstream Class</p> <p>io_service Class</p>"},{"location":"api/reference/io_channel-class/","title":"io_channel Class","text":"<p>\u200b\u8d1f\u8d23\u7ba1\u7406\u200b TCP/SSL/UDP/KCP \u200b\u8fde\u63a5\u200b\u548c\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u3002</p>"},{"location":"api/reference/io_channel-class/#_1","title":"\u8bed\u6cd5","text":"<pre><code>namespace yasio { inline namespace inet { class io_channel; } }\n</code></pre>"},{"location":"api/reference/io_channel-class/#_2","title":"\u6210\u5458","text":""},{"location":"api/reference/io_channel-class/#_3","title":"\u516c\u5171\u200b\u65b9\u6cd5","text":"Name Description io_channel::get_service \u200b\u83b7\u53d6\u200b\u7ba1\u7406\u200b\u4fe1\u9053\u200b\u7684\u200bio_service io_channel::index \u200b\u83b7\u53d6\u200b\u4fe1\u9053\u200b\u7d22\u5f15\u200b io_channel::remote_port \u200b\u83b7\u53d6\u200b\u4fe1\u9053\u200b\u8fdc\u7a0b\u200b\u7aef\u53e3\u200b io_channel::bytes_transferred \u200b\u83b7\u53d6\u200b\u4f20\u8f93\u200b\u5b57\u8282\u6570\u200b io_channel::connect_id \u200b\u83b7\u53d6\u200b\u8fde\u63a5\u200bID"},{"location":"api/reference/io_channel-class/#_4","title":"\u6ce8\u610f","text":"<p>\u200b\u5f53\u200bio_service\u200b\u5bf9\u8c61\u200b\u6784\u9020\u200b\u540e\u200b\uff0c\u200b\u6700\u5927\u200b\u4fe1\u9053\u200b\u6570\u91cf\u200b\u4e0d\u53ef\u200b\u6539\u53d8\u200b\uff0c  \u200b\u4fe1\u9053\u200b\u53e5\u67c4\u200b\u53ef\u200b\u901a\u8fc7\u200b <code>io_service::channel_at</code> \u200b\u83b7\u53d6\u200b\u3002</p>"},{"location":"api/reference/io_channel-class/#io_channelget_service","title":"io_channel::get_service","text":"<p>\u200b\u83b7\u53d6\u200b\u7ba1\u7406\u200b\u4fe1\u9053\u200b\u7684\u200bio_service\u200b\u5bf9\u8c61\u200b\u3002</p> <pre><code>io_service&amp; get_service()\n</code></pre>"},{"location":"api/reference/io_channel-class/#io_channelindex","title":"io_channel::index","text":"<p>\u200b\u83b7\u53d6\u200b\u4fe1\u9053\u200b\u7d22\u5f15\u200b\u3002</p> <pre><code>int index() const\n</code></pre>"},{"location":"api/reference/io_channel-class/#io_channelremote_port","title":"io_channel::remote_port","text":"<p>\u200b\u83b7\u53d6\u200b\u4fe1\u9053\u200b\u8fdc\u7a0b\u200b\u7aef\u53e3\u200b.</p> <pre><code>u_short remote_port() const;\n</code></pre>"},{"location":"api/reference/io_channel-class/#_5","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u4fe1\u9053\u200b\u8fdc\u7a0b\u200b\u7aef\u53e3\u53f7\u200b</p> <ul> <li>\u200b\u5bf9\u4e8e\u200b\u5ba2\u6237\u7aef\u200b\u4fe1\u9053\u200b\u8868\u793a\u200b\u901a\u4fe1\u200b\u7684\u200b\u8fdc\u7aef\u200b\u7aef\u53e3\u200b </li> <li>\u200b\u5bf9\u4e8e\u200b\u670d\u52a1\u7aef\u200b\u4fe1\u9053\u200b\u8868\u793a\u200b\u76d1\u542c\u200b\u7aef\u53e3\u200b</li> </ul>"},{"location":"api/reference/io_channel-class/#io_channelbytes_transferred","title":"io_channel::bytes_transferred","text":"<p>\u200b\u83b7\u53d6\u200b\u5ba2\u6237\u7aef\u200b\u63a5\u6536\u200b\u603b\u200b\u5b57\u8282\u6570\u200b</p> <pre><code>long long bytes_transferred() const;\n</code></pre>"},{"location":"api/reference/io_channel-class/#_6","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u4ece\u200b\u8fde\u63a5\u200b\u5efa\u7acb\u200b\u5f00\u59cb\u200b\u5230\u200b\u5f53\u524d\u200b\uff0c\u200b\u63a5\u6536\u200b\u603b\u200b\u5b57\u8282\u6570\u200b\uff0c\u200b\u7528\u4e8e\u200b\u7edf\u8ba1\u200b\u5ba2\u6237\u7aef\u200b\u63a5\u6536\u200b\u6d41\u91cf\u200b</p>"},{"location":"api/reference/io_channel-class/#io_channelconnect_id","title":"io_channel::connect_id","text":"<p>\u200b\u83b7\u53d6\u200b\u5ba2\u6237\u7aef\u200b\u4fe1\u9053\u200b\u9012\u589e\u200b\u7684\u200b\u5b9e\u65f6\u200b\u8fde\u63a5\u200bid</p> <pre><code>unsigned int connect_id() const;\n</code></pre>"},{"location":"api/reference/io_channel-class/#_7","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u5ba2\u6237\u7aef\u200b\u4fe1\u9053\u200b\u5f53\u524d\u200b\u8fde\u63a5\u200bid</p>"},{"location":"api/reference/io_channel-class/#_8","title":"\u8bf7\u53c2\u9605","text":"<p>io_service Class</p> <p>io_event Class</p>"},{"location":"api/reference/io_event-class/","title":"io_event Class","text":"<p>\u200b\u7f51\u7edc\u200b\u4e8b\u4ef6\u200b\u7531\u200b io_service \u200b\u7ebf\u7a0b\u200b\u4ea7\u751f\u200b\u3002</p>"},{"location":"api/reference/io_event-class/#_1","title":"\u8bed\u6cd5","text":"<pre><code>namespace yasio { inline namespace inet { class io_event; } }\n</code></pre>"},{"location":"api/reference/io_event-class/#_2","title":"\u6210\u5458","text":""},{"location":"api/reference/io_event-class/#_3","title":"\u516c\u5171\u200b\u65b9\u6cd5","text":"Name Description io_event::kind \u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u7c7b\u578b\u200b io_event::status \u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u72b6\u6001\u200b io_event::passive \u200b\u68c0\u67e5\u200b\u662f\u5426\u662f\u200b\u88ab\u52a8\u200b\u4e8b\u4ef6\u200b io_event::packet \u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u6d88\u606f\u200b\u5305\u200b io_event::packet_view \u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u6d88\u606f\u200b\u5305\u200bview io_event::timestamp \u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u6233\u200b io_event::transport \u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b io_event::transport_id \u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200bID io_event::transport_ud \u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u7528\u6237\u200b\u6570\u636e"},{"location":"api/reference/io_event-class/#io_eventkind","title":"io_event::kind","text":"<p>\u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u7c7b\u578b\u200b\u3002</p> <pre><code>int kind() const;\n</code></pre>"},{"location":"api/reference/io_event-class/#_4","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u4e8b\u4ef6\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4ee5\u4e0b\u200b\u503c\u200b:</p> <ul> <li><code>YEK_ON_PACKET</code>: \u200b\u6d88\u606f\u200b\u4e8b\u4ef6\u200b</li> <li><code>YEK_ON_OPEN</code>: \u200b\u6253\u5f00\u200b\u4e8b\u4ef6\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u5ba2\u6237\u7aef\u200b\u4fe1\u9053\u200b\uff0c\u200b\u4ee3\u8868\u200b\u8fde\u63a5\u200b\u54cd\u5e94\u200b</li> <li><code>YEK_ON_CLOSE</code>: \u200b\u5173\u95ed\u200b\u4e8b\u4ef6\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u5ba2\u6237\u7aef\u200b\u4fe1\u9053\u200b\uff0c\u200b\u4ee3\u8868\u200b\u8fde\u63a5\u200b\u4e22\u5931\u200b</li> </ul>"},{"location":"api/reference/io_event-class/#io_eventstatus","title":"io_event::status","text":"<p>\u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u72b6\u6001\u200b\u3002</p> <pre><code>int status() const;\n</code></pre>"},{"location":"api/reference/io_event-class/#_5","title":"\u8fd4\u56de\u503c","text":"<ul> <li>0: \u200b\u6b63\u5e38\u200b</li> <li>\u200b\u975e\u200b0: \u200b\u51fa\u9519\u200b, \u200b\u7528\u6237\u200b\u53ea\u200b\u9700\u8981\u200b\u7b80\u5355\u200b\u6253\u5370\u200b\u5373\u53ef\u200b\u3002</li> </ul>"},{"location":"api/reference/io_event-class/#io_eventpassive","title":"io_event::passive","text":"<p>\u200b\u68c0\u67e5\u200b\u662f\u5426\u662f\u200b\u88ab\u52a8\u200b\u4e8b\u4ef6\u200b</p> <pre><code>int passive() const\n</code></pre>"},{"location":"api/reference/io_event-class/#_6","title":"\u8fd4\u56de\u503c","text":"<ul> <li>0: \u200b\u975e\u200b\u88ab\u52a8\u200b\u4e8b\u4ef6\u200b\uff0c\u200b\u5305\u62ec\u200b\u5ba2\u6237\u7aef\u200b\u4fe1\u9053\u200b\u7684\u200b\u8fde\u63a5\u200b\u6253\u5f00\u200b\u3001\u200b\u5173\u95ed\u200b\u4e8b\u4ef6\u200b\u548c\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u7684\u200b\u6d88\u606f\u200b\u4e8b\u4ef6\u200b\u3002</li> <li>1: open\u200b\u6216\u200bclose\u200b\u670d\u52a1\u5668\u200b\u4fe1\u9053\u200b\u65f6\u200b\u4ea7\u751f\u200b\uff0c\u200b\u4ec5\u5f53\u200b\u6253\u5f00\u200b\u7f16\u8bd1\u200b\u914d\u7f6e\u200b<code>YASIO_ENABLE_PASSIVE_EVENT</code>\u200b\u624d\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u3002 \u200b\u4e14\u200b\u4e3a\u200b\u4fdd\u6301\u200b\u517c\u5bb9\u200b\uff0c\u200b\u6b64\u200b\u884c\u4e3a\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5173\u95ed\u200b\u7684\u200b\u3002</li> </ul>"},{"location":"api/reference/io_event-class/#io_eventpacket","title":"io_event::packet","text":"<p>\u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u643a\u5e26\u200b\u7684\u200b\u6d88\u606f\u200b\u5305\u200b</p> <pre><code>yasio::sbyte_buffer&amp; packet()\n</code></pre>"},{"location":"api/reference/io_event-class/#_7","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u6d88\u606f\u200b\u6570\u636e\u200b\u7684\u200bview\u3002</p>"},{"location":"api/reference/io_event-class/#io_eventpacket_view","title":"io_event::packet_view","text":"<p>\u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u643a\u5e26\u200b\u7684\u200b\u6d88\u606f\u200b\u6570\u636e\u200bview\uff0c\u200b\u4ec5\u5f53\u200bio_service\u200b\u8bbe\u7f6e\u200b<code>YOPT_S_FORWARD_PACKET</code>\u200b\u65f6\u200b\u6709\u6548\u200b\u3002\u200b\u6b64\u200b\u6570\u636e\u200b\u5728\u200b\u4e8b\u4ef6\u200b\u56de\u8c03\u200b\u7ed3\u675f\u200b\u540e\u200b\u4f1a\u200b\u5931\u6548\u200b\uff0c\u200b\u4e1a\u52a1\u200b\u5e94\u200b\u53ca\u65f6\u200b\u4fdd\u5b58\u200b\u3002</p> <pre><code>packet_view_t packet_view()\n</code></pre>"},{"location":"api/reference/io_event-class/#_8","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u6d88\u606f\u200b\u5305\u200b\u7684\u200b\u5f15\u7528\u200b, \u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>std::move</code>\u200b\u65e0\u200bGC\u200b\u65b9\u5f0f\u200b\u4ece\u200b\u4e8b\u4ef6\u200b\u53d6\u200b\u8d70\u200b\u6d88\u606f\u200b\u5305\u200b\u3002</p>"},{"location":"api/reference/io_event-class/#io_eventtimestamp","title":"io_event::timestamp","text":"<p>\u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u4ea7\u751f\u200b\u7684\u200b\u5fae\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b\u3002</p> <pre><code>highp_time_t timestamp() const;\n</code></pre>"},{"location":"api/reference/io_event-class/#_9","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u548c\u200b\u7cfb\u7edf\u200b\u65f6\u95f4\u200b\u65e0\u5173\u200b\u7684\u200b\u5fae\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b\u3002</p>"},{"location":"api/reference/io_event-class/#io_eventtransport","title":"io_event::transport","text":"<p>\u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u53e5\u67c4\u200b\u3002</p> <pre><code>transport_handle_t transport() const;\n</code></pre>"},{"location":"api/reference/io_event-class/#_10","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u53e5\u67c4\u200b\uff0c\u200b\u5f53\u200b\u6536\u5230\u200b\u65ad\u5f00\u200b\u4e8b\u4ef6\u200b\u65f6\u200b\uff0c\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u53e5\u67c4\u200b\u5df2\u200b\u5931\u6548\u200b\uff0c\u200b\u4ec5\u200b\u53ef\u200b\u7528\u4f5c\u200b\u5730\u5740\u200b\u503c\u200b\u6bd4\u8f83\u200b\u3002</p>"},{"location":"api/reference/io_event-class/#io_eventtransport_id","title":"io_event::transport_id","text":"<p>\u200b\u83b7\u53d6\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200bID\u3002</p> <pre><code>unsigned int transport_id() const;\n</code></pre>"},{"location":"api/reference/io_event-class/#_11","title":"\u8fd4\u56de\u503c","text":"<p>32\u200b\u4f4d\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u6570\u200b\u8303\u56f4\u200b\u5185\u200b\u7684\u200b\u552f\u4e00\u200bID\u3002</p>"},{"location":"api/reference/io_event-class/#io_eventtransport_ud","title":"io_event::transport_ud","text":"<p>\u200b\u8bbe\u7f6e\u200b\u6216\u200b\u83b7\u53d6\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u3002</p> <pre><code>template&lt;typename _Uty&gt;\n_Uty io_event::transport_ud();\n\ntemplate&lt;typename _Uty&gt;\nvoid io_event::transport_ud(_Uty uservalue);\n</code></pre>"},{"location":"api/reference/io_event-class/#_12","title":"\u6ce8\u610f","text":"<p>\u200b\u7528\u6237\u200b\u9700\u8981\u200b\u81ea\u5df1\u200b\u7ba1\u7406\u200b userdata \u200b\u7684\u200b\u5185\u5b58\u200b, \u200b\u4f8b\u5982\u200b:  </p> <ul> <li>\u200b\u6536\u5230\u200b\u8fde\u63a5\u200b\u5efa\u7acb\u200b\u6210\u529f\u200b\u4e8b\u4ef6\u200b\u65f6\u200b\u5b58\u50a8\u200buserdata</li> <li>\u200b\u6536\u5230\u200b\u8fde\u63a5\u200b\u4e22\u5931\u200b\u4e8b\u4ef6\u200b\u65f6\u200b\u6e05\u7406\u200buserdata</li> </ul>"},{"location":"api/reference/io_event-class/#_13","title":"\u8bf7\u53c2\u9605","text":"<p>io_service Class</p> <p>io_channel Class</p>"},{"location":"api/reference/io_service-class/","title":"io_service Class","text":"<p>\u200b\u5145\u5206\u5229\u7528\u200b <code>socket.select</code> \u200b\u591a\u8def\u590d\u7528\u200b\u6a21\u578b\u200b\u5b9e\u73b0\u200b\u7f51\u7edc\u670d\u52a1\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u7ed9\u200b\u4e0a\u5c42\u200b\u7edf\u4e00\u200b\u7684\u200b\u63a5\u53e3\u200b\u6765\u200b\u8fdb\u884c\u200b <code>tcp, udp, kcp, ssl-client</code> \u200b\u901a\u4fe1\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_1","title":"\u8bed\u6cd5","text":"<pre><code>namespace yasio { inline namespace inet { class io_service; } }\n</code></pre>"},{"location":"api/reference/io_service-class/#_2","title":"\u6210\u5458","text":""},{"location":"api/reference/io_service-class/#_3","title":"\u516c\u5171\u200b\u6784\u9020\u51fd\u6570","text":"Name Description io_service::io_service \u200b\u6784\u9020\u200b1\u200b\u4e2a\u200b <code>io_service</code> \u200b\u5bf9\u8c61"},{"location":"api/reference/io_service-class/#_4","title":"\u516c\u5171\u200b\u65b9\u6cd5","text":"Name Description io_service::start \u200b\u542f\u52a8\u200b\u7f51\u7edc\u670d\u52a1\u200b io_service::stop \u200b\u505c\u6b62\u200b\u7f51\u7edc\u670d\u52a1\u200b io_service::is_running \u200b\u5224\u65ad\u200b\u7f51\u7edc\u670d\u52a1\u200b\u662f\u5426\u200b\u8fd0\u884c\u200b\u4e2d\u200b io_service::is_stopping \u200b\u5224\u65ad\u200b\u7f51\u7edc\u670d\u52a1\u200b\u662f\u5426\u200b\u505c\u6b62\u200b\u4e2d\u200b io_service::open \u200b\u6253\u5f00\u200b\u4fe1\u9053\u200b io_service::close \u200b\u5173\u95ed\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b io_service::is_open \u200b\u68c0\u6d4b\u200b\u4fe1\u9053\u200b\u6216\u4f1a\u8bdd\u200b\u662f\u5426\u200b\u6253\u5f00\u200b io_service::dispatch \u200b\u5206\u6d3e\u200b\u7f51\u7edc\u200b\u4e8b\u4ef6\u200b io_service::write \u200b\u5f02\u6b65\u200b\u53d1\u9001\u6570\u636e\u200b io_service::write_to \u200b\u5f02\u6b65\u200b\u53d1\u9001\u200bDGRAM\u200b\u6570\u636e\u200b io_service::schedule \u200b\u6ce8\u518c\u200b\u5b9a\u65f6\u5668\u200b io_service::init_globals \u200b\u663e\u793a\u200b\u521d\u59cb\u5316\u200b\u5168\u5c40\u200b\u6570\u636e\u200b io_service::cleanup_globals \u200b\u6e05\u7406\u200b\u5168\u5c40\u200b\u6570\u636e\u200b io_service::channel_at \u200b\u83b7\u53d6\u200b\u4fe1\u9053\u200b\u53e5\u67c4\u200b io_service::set_option \u200b\u8bbe\u7f6e\u200b\u9009\u9879"},{"location":"api/reference/io_service-class/#_5","title":"\u6ce8\u610f","text":"<p>\u200b\u9ed8\u8ba4\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u7684\u200b\u521b\u5efa\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u5bf9\u8c61\u200b\u6c60\u200b <code>object_pool</code>\u3002</p>"},{"location":"api/reference/io_service-class/#_6","title":"\u8981\u6c42","text":"<p>\u200b\u5934\u6587\u4ef6\u200b: yasio.hpp</p>"},{"location":"api/reference/io_service-class/#io_serviceio_service","title":"io_service::io_service","text":"<p>\u200b\u6784\u9020\u200b <code>io_service</code> \u200b\u5bf9\u8c61\u200b\u3002</p> <pre><code>io_service::io_service();\n\nio_service::io_service(int channel_count);\n\nio_service::io_service(const io_hostent&amp; channel_ep);\n\nio_service::io_service(const io_hostent* channel_eps, int channel_count);\n</code></pre>"},{"location":"api/reference/io_service-class/#_7","title":"\u53c2\u6570","text":"<p>channel_count \u200b\u4fe1\u9053\u200b\u6570\u91cf\u200b\u3002</p> <p>channel_ep \u200b\u4fe1\u9053\u200b\u8fdc\u7aef\u200b\u5730\u5740\u200b\u3002</p> <p>channel_eps \u200b\u4fe1\u9053\u200b\u8fdc\u7aef\u200b\u5730\u5740\u200b\u6570\u7ec4\u200b\u9996\u200b\u5730\u5740\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_8","title":"\u793a\u4f8b","text":"<pre><code>#include \"yasio/yasio.hpp\"\nint main() {\n    using namespace yasio;\n    io_service s1; // s1 only support 1 channel\n    io_service s2(5); // s2 support 5 channels concurrency\n    io_service s3(io_hostent{\"github.com\", 443}); // s3 support 1 channel\n    io_hostent hosts[] = {  \n        {\"192.168.1.66\", 20336},\n        {\"192.168.1.88\", 20337},\n    };\n    io_service s4(hosts, YASIO_ARRAYSIZE(hosts)); // s4 support 2 channels concurrency\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/io_service-class/#io_servicestart","title":"io_service::start","text":"<p>\u200b\u542f\u52a8\u200b\u7f51\u7edc\u670d\u52a1\u200b\u3002</p> <pre><code>void start(io_event_cb_t cb);\n</code></pre>"},{"location":"api/reference/io_service-class/#_9","title":"\u53c2\u6570","text":"<p>cb \u200b\u7f51\u7edc\u200b\u4e8b\u4ef6\u200b\u56de\u8c03\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5728\u200b io_service::dispatch \u200b\u8c03\u7528\u8005\u200b\u7ebf\u7a0b\u200b\u8c03\u5ea6\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_10","title":"\u793a\u4f8b","text":"<pre><code>#include \"yasio/yasio.hpp\"\nint main() {\n    using namespace yasio;\n    auto service = yasio_shared_service(io_hostent{host=\"ip138.com\", port=80});\n    service-&gt;start([](event_ptr&amp;&amp; ev) {\n    auto kind = ev-&gt;kind();\n    if (kind == YEK_ON_OPEN)\n    {\n        if (ev-&gt;status() == 0)\n        printf(\"[%d] connect succeed.\\n\", ev-&gt;cindex());\n        else\n        printf(\"[%d] connect failed!\\n\", ev-&gt;cindex());\n    }\n    });\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/io_service-class/#io_servicestop","title":"io_service::stop","text":"<p>\u200b\u505c\u6b62\u200b\u7f51\u7edc\u670d\u52a1\u200b\u3002</p> <pre><code>void stop()\n</code></pre>"},{"location":"api/reference/io_service-class/#_11","title":"\u6ce8\u610f","text":"<ul> <li>\u200b\u5f53\u200b\u5728\u200b\u975e\u200b\u7f51\u7edc\u670d\u52a1\u200b\u7ebf\u7a0b\u200b\u8c03\u7528\u200b\u6b64\u200b\u51fd\u6570\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u7b49\u5f85\u200b\u670d\u52a1\u200b\u7ebf\u7a0b\u200b\u9000\u51fa\u200b\u5e76\u200b\u8fdb\u5165\u200b <code>IDLE</code> \u200b\u72b6\u6001\u200b\uff0c\u200b\u6b64\u200b\u72b6\u6001\u200b\u4e0b\u200b\u53ef\u4ee5\u200b\u518d\u6b21\u200b\u8c03\u7528\u200b <code>start</code> \u200b\u91cd\u65b0\u542f\u52a8\u200b\u670d\u52a1\u200b\u3002</li> <li>\u200b\u5f53\u200b\u5728\u200b\u7f51\u7edc\u670d\u52a1\u200b\u81ea\u8eab\u200b\u7ebf\u7a0b\u200b\u8c03\u7528\u200b\u4e86\u200b\u6b21\u200b\u51fd\u6570\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u8fdb\u5165\u200b <code>STOPPING</code> \u200b\u72b6\u6001\u200b\uff0c\u200b\u4e1a\u52a1\u200b\u5e94\u8be5\u200b\u5728\u200b\u975e\u200b\u7f51\u7edc\u670d\u52a1\u200b\u7ebf\u7a0b\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u4f9d\u7136\u200b\u5904\u4e8e\u200b <code>STOPPING</code> \u200b\u72b6\u6001\u200b\u6765\u200b\u51b3\u5b9a\u200b\u662f\u5426\u200b\u518d\u6b21\u200b\u8c03\u7528\u200b<code>stop</code>\uff0c\u200b\u4f8b\u5982\u200b: <pre><code>if (service-&gt;is_stopping()) {\n  service-&gt;stop();\n}\n</code></pre></li> </ul>"},{"location":"api/reference/io_service-class/#io_serviceis_running","title":"io_service::is_running","text":"<p>\u200b\u5224\u65ad\u200b\u7f51\u7edc\u670d\u52a1\u200b\u662f\u5426\u200b\u5728\u200b\u8fd0\u884c\u200b\u4e2d\u200b\u3002</p> <pre><code>bool is_running() const\n</code></pre>"},{"location":"api/reference/io_service-class/#_12","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: \u200b\u7f51\u7edc\u670d\u52a1\u200b\u8fd0\u884c\u200b\u4e2d\u200b\uff0c<code>false</code>: \u200b\u7f51\u7edc\u670d\u52a1\u200b\u5904\u4e8e\u200b\u5176\u4ed6\u200b\u72b6\u6001\u200b</p>"},{"location":"api/reference/io_service-class/#io_serviceis_stopping","title":"io_service::is_stopping","text":"<p>\u200b\u5224\u65ad\u200b\u7f51\u7edc\u670d\u52a1\u200b\u662f\u5426\u200b\u5728\u200b\u505c\u6b62\u200b\u4e2d\u200b\u3002</p> <pre><code>bool is_stopping() const\n</code></pre>"},{"location":"api/reference/io_service-class/#_13","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: \u200b\u7f51\u7edc\u670d\u52a1\u200b\u505c\u6b62\u200b\u4e2d\u200b\uff0c<code>false</code>: \u200b\u7f51\u7edc\u670d\u52a1\u200b\u5904\u4e8e\u200b\u5176\u4ed6\u200b\u72b6\u6001\u200b</p>"},{"location":"api/reference/io_service-class/#io_serviceopen","title":"io_service::open","text":"<p>\u200b\u6253\u5f00\u200b\u4fe1\u9053\u200b\u3002</p> <pre><code>bool open(size_t cindex, int kind);\n</code></pre>"},{"location":"api/reference/io_service-class/#_14","title":"\u53c2\u6570","text":"<p>cindex \u200b\u4fe1\u9053\u200b\u7d22\u5f15\u200b\u3002</p> <p>kind \u200b\u4fe1\u9053\u200b\u7c7b\u578b\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_15","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: \u200b\u4fe1\u9053\u200b\u6253\u5f00\u200b\u64cd\u4f5c\u200b\u8bf7\u6c42\u200b\u6210\u529f\u200b\uff0c<code>false</code>: \u200b\u4fe1\u9053\u200b\u6b63\u5728\u200b\u6253\u5f00\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_16","title":"\u6ce8\u610f","text":"<p>\u200b\u5bf9\u4e8e\u200b<code>TCP</code>, \u200b\u5c06\u4f1a\u200b\u8bf7\u6c42\u200b\u5185\u6838\u200b\u53d1\u8d77\u200b\u975e\u200b\u963b\u585e\u200b3\u200b\u6b21\u200b\u63e1\u624b\u200b\u6765\u200b\u5efa\u7acb\u200b\u53ef\u9760\u200b\u8fde\u63a5\u200b\u3002</p> <p>cindex \u200b\u7684\u200b\u503c\u200b\u5fc5\u987b\u200b\u5c0f\u4e8e\u200bio_service\u200b\u521d\u59cb\u5316\u200b\u65f6\u200b\u7684\u200b\u4fe1\u9053\u200b\u6570\u91cf\u200b\u3002</p> <p>kind \u200b\u5fc5\u987b\u200b\u662f\u200b\u4ee5\u4e0b\u200b\u679a\u4e3e\u200b\u503c\u200b\u4e4b\u4e00\u200b:</p> <ul> <li><code>YCK_TCP_CLIENT</code></li> <li><code>YCK_TCP_SERVER</code></li> <li><code>YCK_UDP_CLIENT</code></li> <li><code>YCK_UDP_SERVER</code></li> <li><code>YCK_KCP_CLIENT</code></li> <li><code>YCK_KCP_SERVER</code></li> <li><code>YCK_SSL_CLIENT</code></li> <li><code>YCK_SSL_SERVER</code>: \u200b\u5fc5\u987b\u200b\u5728\u200b\u542f\u52a8\u200bio_service\u200b\u524d\u200b\u901a\u8fc7\u200b\u9009\u9879\u200b<code>YOPT_S_SSL_CERT</code>\u200b\u8bbe\u7f6e\u200b\u6709\u6548\u200b\u7684\u200b\u8bc1\u4e66\u200b\u548c\u200b\u79c1\u94a5\u200b\u6587\u4ef6\u200b\u624d\u80fd\u200b\u6b63\u5e38\u200b\u5de5\u4f5c\u200b\u3002</li> </ul>"},{"location":"api/reference/io_service-class/#io_serviceclose","title":"io_service::close","text":"<p>\u200b\u5173\u95ed\u200b\u4fe1\u9053\u200b\u6216\u8005\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u3002</p> <pre><code>void close(transport_handle_t transport);\n\nvoid close(int cindex);\n</code></pre>"},{"location":"api/reference/io_service-class/#_17","title":"\u53c2\u6570","text":"<p>transport \u200b\u5c06\u8981\u200b\u5173\u95ed\u200b\u7684\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u3002</p> <p>cindex \u200b\u5c06\u8981\u200b\u5173\u95ed\u200b\u7684\u200b\u4fe1\u9053\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_18","title":"\u6ce8\u610f","text":"<p>\u200b\u5bf9\u4e8e\u200b<code>TCP</code>\uff0c \u200b\u5c06\u4f1a\u200b\u53d1\u8d77\u200b4\u200b\u6b21\u200b\u63e1\u624b\u200b\u6765\u200b\u7ec8\u6b62\u200b\u8fde\u63a5\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#io_serviceis_open","title":"io_service::is_open","text":"<p>\u200b\u5224\u65ad\u200b\u4fe1\u9053\u200b\u6216\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u662f\u5426\u200b\u5904\u4e8e\u200b\u6253\u5f00\u200b\u72b6\u6001\u200b\u3002</p> <pre><code>bool is_open(transport_handle_t transport) const;\n\nbool is_open(int cindex) const;\n</code></pre>"},{"location":"api/reference/io_service-class/#_19","title":"\u53c2\u6570","text":"<p>transport \u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u53e5\u67c4\u200b\u3002</p> <p>cindex \u200b\u4fe1\u9053\u200b\u7d22\u5f15\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_20","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: \u200b\u6253\u5f00\u200b\uff0c<code>false</code>: \u200b\u672a\u200b\u6253\u5f00\u200b</p>"},{"location":"api/reference/io_service-class/#io_servicedispatch","title":"io_service::dispatch","text":"<p>\u200b\u5206\u6d3e\u200b\u7f51\u7edc\u200b\u7ebf\u7a0b\u200b\u4ea7\u751f\u200b\u7684\u200b\u4e8b\u4ef6\u200b\u3002</p> <pre><code>void dispatch(int max_count);\n</code></pre>"},{"location":"api/reference/io_service-class/#_21","title":"\u53c2\u6570","text":"<p>max_count \u200b\u672c\u6b21\u200b\u6700\u5927\u200b\u5206\u6d3e\u200b\u4e8b\u4ef6\u200b\u6570\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_22","title":"\u6ce8\u610f","text":"<p>\u200b\u901a\u5e38\u200b\u6b64\u200b\u65b9\u6cd5\u200b\u5e94\u5f53\u200b\u5728\u200b\u5173\u5fc3\u200b\u7f51\u7edc\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u4e1a\u52a1\u200b\u903b\u8f91\u200b\u7ebf\u7a0b\u200b\u8c03\u7528\u200b, \u200b\u4f8b\u5982\u200bCocos2d-x\u200b\u7684\u200b\u6e32\u67d3\u200b\u7ebf\u7a0b\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u5176\u4ed6\u200b\u6e38\u620f\u200b\u5f15\u64ce\u200b(Unity,UE4)\u200b\u7684\u200b\u4e3b\u200b\u903b\u8f91\u200b\u7ebf\u7a0b\u200b\u3002</p> <p>\u200b\u6b64\u200b\u65b9\u6cd5\u200b\u5bf9\u4e8e\u200b\u5b89\u5168\u200b\u5730\u200b\u66f4\u65b0\u200b\u6e38\u620f\u200b\u754c\u9762\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_23","title":"\u793a\u4f8b","text":"<pre><code>yasio_shared_service()-&gt;dispatch(128);\n</code></pre>"},{"location":"api/reference/io_service-class/#io_servicewrite","title":"io_service::write","text":"<p>\u200b\u5411\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u8fdc\u7aef\u200b\u53d1\u9001\u6570\u636e\u200b\u3002</p> <pre><code>int write(\n    transport_handle_t thandle,\n    yasio::sbyte_buffer buffer,\n    io_completion_cb_t completion_handler = nullptr\n);\n</code></pre>"},{"location":"api/reference/io_service-class/#_24","title":"\u53c2\u6570","text":"<p>thandle \u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u53e5\u67c4\u200b\u3002</p> <p>buffer \u200b\u8981\u200b\u53d1\u9001\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u7f13\u51b2\u533a\u200b\u3002</p> <p>completion_handler \u200b\u53d1\u9001\u200b\u5b8c\u6210\u200b\u56de\u8c03\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_25","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u53d1\u9001\u6570\u636e\u200b\u5b57\u8282\u6570\u200b, <code>&lt; 0</code>: \u200b\u8bf4\u660e\u200b\u53d1\u751f\u200b\u9519\u8bef\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_26","title":"\u6ce8\u610f","text":"<p>completion_handler \u200b\u4e0d\u200b\u652f\u6301\u200b <code>KCP</code>\u3002</p> <p>\u200b\u7a7a\u200bbuffer\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u88ab\u200b\u5ffd\u7565\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u89e6\u53d1\u200b completion_handler \u3002</p>"},{"location":"api/reference/io_service-class/#io_servicewrite_to","title":"io_service::write_to","text":"<p>\u200b\u5411\u200bUDP\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u53d1\u9001\u6570\u636e\u200b\u3002</p> <pre><code>int write_to(\n    transport_handle_t thandle,\n    yasio::sbyte_buffer buffer,\n    const ip::endpoint&amp; to,\n    io_completion_cb_t completion_handler = nullptr\n);\n</code></pre>"},{"location":"api/reference/io_service-class/#_27","title":"\u53c2\u6570","text":"<p>thandle \u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u53e5\u67c4\u200b\u3002</p> <p>buffer \u200b\u8981\u200b\u53d1\u9001\u200b\u7684\u200bbuffer\u3002</p> <p>to \u200b\u8981\u200b\u53d1\u9001\u200b\u7684\u200b\u8fdc\u7aef\u200b\u5730\u5740\u200b\u3002</p> <p>completion_handler \u200b\u53d1\u9001\u200b\u5b8c\u6210\u200b\u56de\u8c03\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_28","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u6210\u529f\u200b\u53d1\u9001\u200b\u7684\u200b\u5b57\u8282\u6570\u200b, \u200b\u5f53\u200b <code>&lt; 0</code> \u200b\u65f6\u200b\u8bf4\u660e\u200b\u53d1\u751f\u200b\u9519\u8bef\u200b\uff0c\u200b\u901a\u5e38\u200b\u662f\u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\u5df2\u200b\u5173\u95ed\u200b(TCP\u200b\u8fde\u63a5\u200b\u65ad\u5f00\u200b\u7b49\u200b)\u3002</p>"},{"location":"api/reference/io_service-class/#_29","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u4ec5\u200b\u53ef\u200b\u7528\u4e8e\u200b DGRAM \u200b\u4f20\u8f93\u200b\u4f1a\u8bdd\u200b\uff0c\u200b\u5373\u200b <code>UDP,KCP</code>\u3002</p> <p>\u200b\u53d1\u9001\u200b\u5b8c\u6210\u200b\u56de\u8c03\u200b completion_handler \u200b\u4e0d\u200b\u652f\u6301\u200b <code>KCP</code>\u3002</p> <p>\u200b\u7a7a\u200bbuffer\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u88ab\u200b\u5ffd\u7565\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u89e6\u53d1\u200b completion_handler \u3002</p>"},{"location":"api/reference/io_service-class/#io_serviceschedule","title":"io_service::schedule","text":"<p>\u200b\u6ce8\u518c\u200b\u4e00\u4e2a\u200b\u5b9a\u65f6\u5668\u200b\u3002</p> <pre><code>highp_timer_ptr schedule(\n    const std::chrono::microseconds&amp; duration,\n    timer_cb_t cb\n);\n</code></pre>"},{"location":"api/reference/io_service-class/#_30","title":"\u53c2\u6570","text":"<p>duration \u200b\u5b9a\u65f6\u5668\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\uff0c\u200b\u6beb\u79d2\u200b\u7ea7\u200b\u3002</p> <p>cb \u200b\u5f53\u200b\u5b9a\u65f6\u5668\u200b\u5230\u671f\u200b\u540e\u200b\u56de\u8c03\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_31","title":"\u8fd4\u56de\u503c","text":"<p><code>std::shared_ptr</code> \u200b\u5305\u88c5\u200b\u7684\u200b\u5b9a\u65f6\u5668\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u7528\u6237\u200b\u5bf9\u200b\u5b9a\u65f6\u5668\u200b\u5b89\u5168\u200b\u5730\u200b\u8fdb\u884c\u200b\u5fc5\u8981\u200b\u64cd\u4f5c\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_32","title":"\u793a\u4f8b","text":"<pre><code>// Register a once timer, timeout is 3 seconds.\nyasio_shared_service()-&gt;schedule(std::chrono::seconds(3), []()-&gt;bool{\n  printf(\"time called!\\n\");\n  return true;\n});\n\n// Register a loop timer, interval is 5 seconds.\nauto loopTimer = yasio_shared_service()-&gt;schedule(std::chrono::seconds(5), []()-&gt;bool{\n  printf(\"time called!\\n\");\n  return false;\n});\n</code></pre>"},{"location":"api/reference/io_service-class/#io_serviceinit_globals","title":"io_service::init_globals","text":"<p>\u200b\u9759\u6001\u65b9\u6cd5\u200b\uff0c\u200b\u663e\u793a\u200b\u5730\u200b\u521d\u59cb\u5316\u200b\u5168\u5c40\u200b\u6570\u636e\u200b</p> <pre><code>static void init_globals(print_fn2_t print_fn);\n</code></pre>"},{"location":"api/reference/io_service-class/#_33","title":"\u53c2\u6570","text":"<p>print_fn \u200b\u81ea\u5b9a\u4e49\u200b\u7f51\u7edc\u65e5\u5fd7\u200b\u6253\u5370\u51fd\u6570\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_34","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u662f\u200b\u53ef\u9009\u200b\u8c03\u7528\u200b\uff0c\u200b\u4f46\u662f\u200b\u5f53\u200b\u7528\u6237\u200b\u9700\u8981\u200b\u5c06\u200b\u7f51\u7edc\u65e5\u5fd7\u200b\u91cd\u5b9a\u5411\u200b\u5230\u200b\u81ea\u5b9a\u4e49\u200b\u65e5\u5fd7\u200b\u7cfb\u7edf\u200b\u65f6\u200b\uff0c \u200b\u5219\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\uff0c\u200b\u4f8b\u5982\u200b\u91cd\u5b9a\u5411\u200b\u5230\u200bUE4\u200b\u548c\u200bU3D\u200b\u7684\u200b\u65e5\u5fd7\u200b\u8f93\u51fa\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#_35","title":"\u793a\u4f8b","text":"<pre><code>// yasio_uelua.cpp\n// compile with: /EHsc\n#include \"yasio_uelua.h\"\n#include \"yasio/platform/yasio_ue4.hpp\"\n#include \"lua.hpp\"\n#if defined(NS_SLUA)\nusing namespace NS_SLUA;\n#endif\n#include \"yasio/bindings/lyasio.cpp\"\n\nDECLARE_LOG_CATEGORY_EXTERN(yasio_ue4, Log, All);\nDEFINE_LOG_CATEGORY(yasio_ue4);\n\nvoid yasio_uelua_init(void* L)\n{\n  auto Ls            = (lua_State*)L;\n  print_fn2_t log_cb = [](int level, const char* msg) {\n    FString text(msg);\n    const TCHAR* tstr = *text;\n    UE_LOG(yasio_ue4, Log, L\"%s\", tstr);\n  };\n  io_service::init_globals(log_cb);\n\n  luaregister_yasio(Ls);\n}\nvoid yasio_uelua_cleanup()\n{\n  io_service::cleanup_globals();\n}\n</code></pre>"},{"location":"api/reference/io_service-class/#io_servicecleanup_globals","title":"io_service::cleanup_globals","text":"<p>\u200b\u9759\u6001\u65b9\u6cd5\u200b\uff0c\u200b\u663e\u793a\u200b\u5730\u200b\u6e05\u7406\u200b\u5168\u5c40\u200b\u6570\u636e\u200b\u3002</p> <pre><code>static void cleanup_globals();\n</code></pre>"},{"location":"api/reference/io_service-class/#_36","title":"\u6ce8\u610f","text":"<p>\u200b\u5f53\u200b\u7528\u6237\u200b\u9700\u8981\u200b\u5378\u8f7d\u200b\u5305\u542b\u200b\u81ea\u5b9a\u4e49\u200b\u65e5\u5fd7\u200b\u6253\u5370\u200b\u56de\u8c03\u200b\u7684\u200b\u52a8\u6001\u200b\u5e93\u200b(.dll,.so)\u200b\u524d\u200b\u5fc5\u987b\u200b\u8c03\u7528\u200b\u6b64\u200b\u51fd\u6570\u200b\uff0c\u200b\u8c28\u9632\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u95ea\u9000\u200b\u3002</p>"},{"location":"api/reference/io_service-class/#io_servicechannel_at","title":"io_service::channel_at","text":"<p>\u200b\u901a\u8fc7\u200b\u4fe1\u9053\u200b\u7d22\u5f15\u200b\u83b7\u53d6\u200b\u4fe1\u9053\u200b\u53e5\u67c4\u200b\u3002</p> <pre><code>io_channel* channel_at(size_t cindex) const;\n</code></pre>"},{"location":"api/reference/io_service-class/#_37","title":"\u53c2\u6570","text":"<p>cindex \u200b\u4fe1\u9053\u200b\u7d22\u5f15\u200b</p>"},{"location":"api/reference/io_service-class/#_38","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u4fe1\u9053\u200b\u53e5\u67c4\u200b\u6307\u9488\u200b, \u200b\u5f53\u200b\u7d22\u5f15\u200b\u503c\u200b\u8d85\u51fa\u8303\u56f4\u200b\u65f6\u200b\uff0c\u200b\u8fd4\u56de\u200b <code>nullptr</code>\u3002</p>"},{"location":"api/reference/io_service-class/#io_serviceset_option","title":"io_service::set_option","text":"<p>\u200b\u8bbe\u7f6e\u200b\u9009\u9879\u200b\u3002</p> <pre><code>void set_option(int opt, ...);\n</code></pre>"},{"location":"api/reference/io_service-class/#_39","title":"\u53c2\u6570","text":"<p>opt \u200b\u9009\u9879\u200b\u679a\u4e3e\u200b, \u200b\u8bf7\u200b\u67e5\u770b\u200b YOPT_X_XXX.</p>"},{"location":"api/reference/io_service-class/#_40","title":"\u793a\u4f8b","text":"<pre><code>#include \"yasio/yasio.hpp\"\n\nint main(){\n    using namespace yasio;\n    io_hostent hosts[] = {\n    {\"192.168.1.66\", 20336},\n    {\"192.168.1.88\", 20337},\n    };\n    auto service = std::make_shared&lt;io_service&gt;(hosts, YASIO_ARRAYSIZE(hosts));\n\n    // for application protocol with length field, you just needs set this option.\n    // it's similar to java netty length frame based decode.\n    // such as when your protocol define as following\n    //    packet.header: (header.len=12bytes)\n    //           code:int16_t\n    //           datalen:int32_t (not contains packet.header.len)\n    //           timestamp:int32_t\n    //           crc16:int16_t\n    //    packet.data\n    service-&gt;set_option(YOPT_C_UNPACK_PARAMS,\n                        0,     // channelIndex, the channel index\n                        65535, // maxFrameLength, max packet size\n                        2,     // lenghtFieldOffset, the offset of length field\n                        4,     // lengthFieldLength, the size of length field, can be 1,2,4\n                        12    // lengthAdjustment\uff1aif the value of length feild == packet.header.len + packet.data.len, this parameter should be 0, otherwise should be sizeof(packet.header)\n    );\n\n    // for application protocol without length field, just sets length field size to -1.\n    // then io_service will dispatch any packet received from server immediately,\n    // such as http request, this is default behavior of channel.\n    service-&gt;set_option(YOPT_C_UNPACK_PARAMS, 1, 65535, -1, 0, 0);\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/io_service-class/#_41","title":"\u8bf7\u53c2\u9605","text":"<p>io_event Class</p> <p>io_channel Class</p> <p>io_service Options</p> <p>xxsocket Class</p> <p>obstream Class</p> <p>ibstream_view Class</p> <p>ibstream Class</p>"},{"location":"api/reference/io_service-options/","title":"io_service options","text":"<p>io_service\u200b\u652f\u6301\u200b\u7684\u200b\u6240\u6709\u200b\u9009\u9879\u200b\u3002</p> Name Description YOPT_S_DEFER_EVENT_CB Set defer event callbackparams: callback:defer_event_cb_tremarks:a. User can do custom packet resolve at network thread, such as decompress and crc check.b. Return true, io_service will continue enque to event queue.c. Return false, io_service will drop the event. YOPT_S_DEFERRED_EVENT Set whether deferred dispatch event, default is: 1params: deferred_event:int(1) YOPT_S_RESOLV_FN Set custom resolve function, native C++ ONLYparams: func:resolv_fn_t* YOPT_S_PRINT_FN Set custom print function native C++ ONLYparmas: func:print_fn_tremarks: you must ensure thread safe of it YOPT_S_PRINT_FN2 Set custom print function with log levelparmas: func:print_fn2_tyou must ensure thread safe of it YOPT_S_EVENT_CB Set event callbackparams: func:event_cb_t* YOPT_S_TCP_KEEPALIVE Set tcp keepalive in seconds, probes is tries.params: idle:int(7200), interal:int(75), probes:int(10) YOPT_S_NO_NEW_THREAD Don't start a new thread to run event loop.params: value:int(0) YOPT_S_SSL_CACERT Sets ssl verification cert, if empty, don't verify.params: path:const char* YOPT_S_SSL_CERT Sets ssl server cert and private key, if empty, the ssl server doesn't work.params: cert_file:const char*params: key_file:const char* YOPT_S_CONNECT_TIMEOUT Set connect timeout in seconds.params: connect_timeout:int(10) YOPT_S_CONNECT_TIMEOUTMS Set connect timeout in milliseconds.params: connect_timeout:int(10000) YOPT_S_DNS_CACHE_TIMEOUT Set dns cache timeout in seconds.params: dns_cache_timeout : int(600) YOPT_S_DNS_CACHE_TIMEOUTMS Set dns cache timeout in milliseconds.params: dns_cache_timeout : int(600000) YOPT_S_DNS_QUERIES_TIMEOUT Set dns queries timeout in seconds, default is: 5.params: dns_queries_timeout : int(5)remark: a. this option must be set before 'io_service::start'b. only works when have c-aresc. since v3.33.0 it's milliseconds, previous is seconds.d. the timeout algorithm of c-ares is complicated, usually, by default, dns querieswill failed with timeout after more than 75 seconds.e. for more detail, please see:https://c-ares.haxx.se/ares_init_options.html YOPT_S_DNS_QUERIES_TIMEOUTMS Set dns queries timeout in seconds, see also YOPT_S_DNS_QUERIES_TIMEOUT YOPT_S_DNS_QUERIES_TRIES Set dns queries tries when timeout reached, default is: 5.params: dns_queries_tries : int(5)remarks:a. this option must be set before 'io_service::start'b. relative option: YOPT_S_DNS_QUERIES_TIMEOUT YOPT_S_DNS_DIRTY Set dns server dirty.params: reserved : int(1)remarks:a. this option only works with c-ares enabledb. you should set this option after your mobile network changed YOPT_S_DNS_LIST Set dns server list.params: servers : const char*(\"xxx.xxx.xxx.xxx[:port],xxx.xxx.xxx.xxx[:port]\") YOPT_C_UNPACK_FN Sets channel length field based frame decode function.params: index:int, func:decode_len_fn_t*remark: native C++ ONLY YOPT_C_UNPACK_PARAMS Sets channel length field based frame decode params.params:index:int,max_frame_length:int(10MBytes),length_field_offset:int(-1),length_field_length:int(4),length_adjustment:int(0), YOPT_C_UNPACK_STRIP Sets channel length field based frame decode initial bytes to strip.params:index:int,initial_bytes_to_strip:int(0) YOPT_C_REMOTE_HOST Sets channel remote host.params: index:int, ip:const char* YOPT_C_REMOTE_PORT Sets channel remote port.params: index:int, port:int YOPT_C_REMOTE_ENDPOINT Sets channel remote endpoint.params: index:int, ip:const char*, port:int YOPT_C_LOCAL_HOST Sets local host for client channel only.params: index:int, ip:const char* YOPT_C_LOCAL_PORT Sets local port for client channel only.params: index:int, port:int YOPT_C_LOCAL_ENDPOINT Sets local endpoint for client channel only.params: index:int, ip:const char*, port:int YOPT_C_MOD_FLAGS Mods channl flags.params: index:int, flagsToAdd:int, flagsToRemove:int YOPT_C_ENABLE_MCAST Enable channel multicast mode.params: index:int, multi_addr:const char*, loopback:int YOPT_C_DISABLE_MCAST Disable channel multicast mode.params: index:int YOPT_C_KCP_CONV The kcp conv id, must equal in two endpoint from the same connection.params: index:int, conv:int YOPT_T_CONNECT Change 4-tuple association for io_transport_udp.params: transport:transport_handle_tremark: only works for udp client transport YOPT_T_DISCONNECT Dissolve 4-tuple association for io_transport_udp.params: transport:transport_handle_tremark: only works for udp client transport YOPT_B_SOCKOPT Sets io_base sockopt.params: io_base*,level:int,optname:int,optval:int,optlen:int"},{"location":"api/reference/io_service-options/#_1","title":"\u8bf7\u53c2\u9605","text":"<p>io_service Class</p>"},{"location":"api/reference/obstream-class/","title":"obstream Class","text":"<p>\u200b\u63d0\u4f9b\u200b\u4e8c\u8fdb\u5236\u200b\u5e8f\u5217\u5316\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b</p> <ul> <li><code>yasio::obstream</code> \u200b\u7b49\u4ef7\u200b\u4e8e\u200b <code>yasio::obstream_any&lt;yasio::dynamic_extent&gt;</code></li> <li>\u200b\u81ea\u200b3.39.0\u200b\u8d77\u200b\uff0c\u200b\u65b0\u589e\u200b<code>obstream_span</code>\u200b\u53ef\u200b\u5e8f\u5217\u5316\u200b\u5230\u200b<code>std::string</code>\u200b\u6216\u200b<code>std::vector&lt;char&gt;</code>\uff0c\u200b\u8bf7\u200b\u67e5\u770b\u200b\u793a\u4f8b\u200b\u5e8f\u5217\u5316\u200b\u5230\u200bstl\u200b\u5bb9\u5668\u200b</li> <li>\u200b\u81ea\u200b3.37.5\u200b\u8d77\u200b\uff0c\u200b\u65b0\u589e\u200b<code>obstream_any</code>\u200b\u7c7b\u200b\u6a21\u677f\u200b\u5177\u5907\u200b\u5e8f\u5217\u5316\u200b\u5df2\u77e5\u200b\u5927\u5c0f\u200b\u7684\u200b\u5c0f\u5757\u200b\u6808\u200b\u5185\u5b58\u200b\u80fd\u529b\u200b\uff0c\u200b\u8bf7\u200b\u67e5\u770b\u200b\u793a\u4f8b\u200b: \u200b\u4f7f\u7528\u200b\u6808\u200b\u7a7a\u95f4\u200b\u5e8f\u5217\u5316\u200b</li> <li> <p>\u200b\u81ea\u200b3.35.0\u200b\u8d77\u200b\uff0c\u200b\u4f18\u5316\u200b\u4e3a\u7c7b\u200b\u6a21\u677f\u200bbasic_obstream\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u4f53\u73b0\u200b\u4e86\u200bC++\u200b\u6a21\u677f\u200b\u5f3a\u5927\u200b\u7684\u200b\u4ee3\u7801\u200b\u590d\u7528\u200b\u80fd\u529b\u200b\u3002</p> </li> <li> <p><code>obstream</code> \u200b\u5f53\u200b\u5199\u5165\u200bint16~int64\u200b\u548c\u200bfloat/double\u200b\u7c7b\u578b\u200b\u65f6\u200b, \u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5c06\u200b\u4e3b\u673a\u200b\u5b57\u8282\u200b\u5e8f\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u7f51\u7edc\u200b\u5b57\u8282\u200b\u5e8f\u200b\u3002</p> </li> <li> <p><code>fast_obstream</code> \u200b\u4e0d\u4f1a\u200b\u8f6c\u6362\u200b\u4efb\u4f55\u200b\u5b57\u8282\u200b\u5e8f\u200b\u3002</p> </li> </ul>"},{"location":"api/reference/obstream-class/#_1","title":"\u8bed\u6cd5","text":"<pre><code>namespace yasio { \ntemplate &lt;size_t _Extent&gt;\nusing obstream_any = basic_obstream&lt;convert_traits&lt;network_convert_tag&gt;, _Extent&gt;;\nusing obstream     = obstream_any&lt;dynamic_extent&gt;;\n\ntemplate &lt;size_t _Extent&gt;\nusing fast_obstream_any = basic_obstream&lt;convert_traits&lt;host_convert_tag&gt;, _Extent&gt;;\nusing fast_obstream     = fast_obstream_any&lt;dynamic_extent&gt;;\n}\n\ntemplate &lt;typename _Cont&gt;\nusing obstream_span = basic_obstream_span&lt;convert_traits&lt;network_convert_tag&gt;, _Cont&gt;;\ntemplate &lt;typename _Cont&gt;\nusing fast_obstream_span = basic_obstream_span&lt;convert_traits&lt;host_convert_tag&gt;, _Cont&gt;;\n</code></pre>"},{"location":"api/reference/obstream-class/#_2","title":"\u6210\u5458","text":""},{"location":"api/reference/obstream-class/#_3","title":"\u516c\u5171\u200b\u6784\u9020\u51fd\u6570","text":"Name Description obstream::obstream \u200b\u6784\u9020\u200b1\u200b\u4e2a\u200b<code>obstream</code> \u200b\u5bf9\u8c61"},{"location":"api/reference/obstream-class/#_4","title":"\u516c\u5171\u200b\u65b9\u6cd5","text":"Name Description obstream::write \u200b\u51fd\u6570\u200b\u6a21\u677f\u200b\uff0c\u200b\u5199\u5165\u200b\u6570\u503c\u200b obstream::write_ix \u200b\u51fd\u6570\u200b\u6a21\u677f\u200b\uff0c\u200b\u5199\u5165\u200b(7bit Encoded Int/Int64)\u200b\u6570\u503c\u200b obstream::write_v \u200b\u5199\u5165\u200b\u5e26\u200b\u957f\u5ea6\u200b\u57df\u200b(7bit Encoded Int)\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b obstream::write_byte \u200b\u5199\u5165\u200b1\u200b\u4e2a\u200b\u5b57\u8282\u200b obstream::write_bytes \u200b\u5199\u5165\u200b\u6307\u5b9a\u200b\u957f\u5ea6\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b obstream::empty \u200b\u68c0\u67e5\u200b\u6d41\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b obstream::data \u200b\u83b7\u53d6\u200b\u6d41\u200b\u6570\u636e\u200b\u6307\u9488\u200b obstream::length \u200b\u83b7\u53d6\u200b\u6d41\u200b\u6570\u636e\u200b\u5927\u5c0f\u200b obstream::buffer \u200b\u83b7\u53d6\u200b\u6d41\u200b\u5185\u90e8\u200b\u7f13\u51b2\u533a\u200b obstream::clear \u200b\u6e05\u7406\u200b\u6d41\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u590d\u7528\u200b obstream::shrink_to_fit \u200b\u91ca\u653e\u200b\u6d41\u200b\u5185\u90e8\u200b\u7f13\u51b2\u533a\u200b\u591a\u4f59\u200b\u5185\u5b58\u200b obstream::save \u200b\u4fdd\u5b58\u200b\u6d41\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\u5230\u200b\u6587\u4ef6\u7cfb\u7edf"},{"location":"api/reference/obstream-class/#_5","title":"\u8981\u6c42","text":"<p>\u200b\u5934\u6587\u4ef6\u200b: obstream.hpp</p>"},{"location":"api/reference/obstream-class/#obstreamobstream","title":"obstream::obstream","text":"<p>\u200b\u6784\u9020\u200b <code>obstream</code> \u200b\u5bf9\u8c61\u200b\u3002</p> <pre><code>obstream(size_t capacity = 128);\n\nobstream(const obstream&amp; rhs);\n\nobstream(obstream&amp;&amp; rhs);\n</code></pre>"},{"location":"api/reference/obstream-class/#obstreamwrite","title":"obstream::write","text":"<p>\u200b\u5199\u5165\u200b\u6570\u503c\u200b\u7c7b\u578b\u200b</p> <pre><code>template&lt;typename _Nty&gt;\nvoid obstream::write(_Nty value);\n</code></pre>"},{"location":"api/reference/obstream-class/#_6","title":"\u53c2\u6570","text":"<p>value \u200b\u8981\u200b\u5199\u5165\u200b\u7684\u200b\u503c\u200b</p>"},{"location":"api/reference/obstream-class/#_7","title":"\u6ce8\u610f","text":"<p>_Nty \u200b\u5b9e\u9645\u200b\u7c7b\u578b\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u610f\u200b1~8\u200b\u5b57\u8282\u200b\u6574\u6570\u200b\u7c7b\u578b\u200b\u6216\u200b\u6d6e\u70b9\u200b\u7c7b\u578b\u200b\u3002</p>"},{"location":"api/reference/obstream-class/#obstreamwrite_ix","title":"obstream::write_ix","text":"<p>\u200b\u5c06\u200b32/64\u200b\u4f4d\u200b\u6574\u6570\u200b\u503c\u4ee5\u200b7Bit Encoded Int\u200b\u65b9\u5f0f\u200b\u538b\u7f29\u200b\u540e\u200b\u5199\u5165\u200b\u6d41\u200b\u3002</p> <pre><code>template&lt;typename _Intty&gt;\nvoid obstream::write_ix(_Intty value);\n</code></pre>"},{"location":"api/reference/obstream-class/#_8","title":"\u53c2\u6570","text":"<p>value \u200b\u8981\u200b\u5199\u5165\u200b\u7684\u200b\u503c\u200b\u3002</p>"},{"location":"api/reference/obstream-class/#_9","title":"\u6ce8\u610f","text":"<p>_Intty \u200b\u7c7b\u578b\u200b\u53ea\u80fd\u200b\u662f\u200b\u5982\u4e0b\u200b\u7c7b\u578b\u200b</p> <ul> <li>int32_t</li> <li>int64_t</li> </ul> <p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u538b\u7f29\u200b\u7f16\u7801\u65b9\u5f0f\u200b\u517c\u5bb9\u200b\u5fae\u8f6f\u200bdotnet\u200b\u5982\u4e0b\u200b\u51fd\u6570\u200b</p> <ul> <li>BinaryWriter.Write7BitEncodedInt</li> <li>BinaryWriter.Write7BitEncodedInt64</li> </ul>"},{"location":"api/reference/obstream-class/#obstreamwrite_v","title":"obstream::write_v","text":"<p>\u200b\u5199\u5165\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\uff0c\u200b\u5305\u542b\u200b\u957f\u5ea6\u200b\u5b57\u200b\u6bb5\u200b(7Bit Encoded Int).</p> <pre><code>void write_v(cxx17::string_view sv);\n</code></pre>"},{"location":"api/reference/obstream-class/#_10","title":"\u53c2\u6570","text":"<p>sv \u200b\u8981\u200b\u5199\u5165\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p>"},{"location":"api/reference/obstream-class/#_11","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u5148\u200b\u4ee5\u200b7Bit Encoded\u200b\u7f16\u7801\u65b9\u5f0f\u200b\u5199\u5165\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b, \u200b\u518d\u200b\u8c03\u7528\u200b write_bytes \u200b\u5199\u5165\u200b\u5b57\u8282\u200b\u6570\u636e\u200b.</p>"},{"location":"api/reference/obstream-class/#obstreamwrite_byte","title":"obstream::write_byte","text":"<p>\u200b\u5199\u5165\u200b1\u200b\u4e2a\u200b\u5b57\u8282\u200b\u3002</p> <pre><code>void write_byte(uint8_t value);\n</code></pre>"},{"location":"api/reference/obstream-class/#_12","title":"\u53c2\u6570","text":"<p>value \u200b\u8981\u200b\u5199\u5165\u200b\u7684\u200b\u503c\u200b\u3002</p>"},{"location":"api/reference/obstream-class/#_13","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u529f\u80fd\u200b\u7b49\u4ef7\u200b\u4e8e\u200b <code>obstream::write&lt;uint8_t&gt;</code></p>"},{"location":"api/reference/obstream-class/#obstreamwrite_bytes","title":"obstream::write_bytes","text":"<p>\u200b\u5199\u5165\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b\u3002</p> <pre><code>void write_bytes(cxx17::string_view sv);\n\nvoid write_bytes(const void* data, int length);\n\nvoid write_bytes(std::streamoff offset, const void* data, int length);\n</code></pre>"},{"location":"api/reference/obstream-class/#_14","title":"\u53c2\u6570","text":"<p>sv \u200b\u5199\u5165\u200bstring_view\u200b\u5305\u88c5\u200b\u7684\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b.</p> <p>data \u200b\u8981\u200b\u5199\u5165\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b\u7684\u200b\u9996\u200b\u5730\u5740\u200b.</p> <p>length \u200b\u8981\u200b\u5199\u5165\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b\u7684\u200b\u957f\u5ea6\u200b.</p> <p>offset \u200b\u8981\u200b\u5199\u5165\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b\u7684\u200b\u76ee\u6807\u200b\u504f\u79fb\u200b.</p>"},{"location":"api/reference/obstream-class/#_15","title":"\u6ce8\u610f","text":"<p><code>offset + length</code> \u200b\u7684\u200b\u503c\u200b\u5fc5\u987b\u200b\u5c0f\u4e8e\u200b <code>obstream::length</code></p>"},{"location":"api/reference/obstream-class/#obstreamempty","title":"obstream::empty","text":"<p>\u200b\u5224\u65ad\u200b\u6d41\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b\u3002</p> <pre><code>bool empty() const;\n</code></pre>"},{"location":"api/reference/obstream-class/#_16","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code> \u200b\u7a7a\u200b; <code>false</code> \u200b\u975e\u7a7a\u200b\u3002</p>"},{"location":"api/reference/obstream-class/#_17","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u7b49\u4ef7\u200b\u4e8e\u200b length == 0\u3002</p>"},{"location":"api/reference/obstream-class/#obstreamdata","title":"obstream::data","text":"<p>\u200b\u83b7\u53d6\u6570\u636e\u200b\u6307\u9488\u200b\u3002</p> <pre><code>const char* data() const;\n\nchar* data();\n</code></pre>"},{"location":"api/reference/obstream-class/#_18","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u5b57\u8282\u200b\u6d41\u200b\u6570\u636e\u200b\u9996\u200b\u5730\u5740\u200b\u3002</p>"},{"location":"api/reference/obstream-class/#obstreamlength","title":"obstream::length","text":"<p>\u200b\u83b7\u53d6\u200b\u6d41\u200b\u957f\u5ea6\u200b\u3002</p> <pre><code>size_t length() const;\n</code></pre>"},{"location":"api/reference/obstream-class/#_19","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u6d41\u4e2d\u200b\u5305\u542b\u200b\u7684\u200b\u603b\u200b\u5b57\u8282\u6570\u200b\u3002</p>"},{"location":"api/reference/obstream-class/#obstreambuffer","title":"obstream::buffer","text":"<p>\u200b\u83b7\u53d6\u200b\u6d41\u200b\u5185\u90e8\u200b\u7f13\u51b2\u533a\u200b\u3002</p> <pre><code>const yasio::sbyte_buffer&amp; buffer() const;\n\nyasio::sbyte_buffer&amp; buffer();\n</code></pre>"},{"location":"api/reference/obstream-class/#_20","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u6d41\u200b\u5185\u90e8\u200b\u7f13\u51b2\u533a\u200b\u5f15\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>std::move</code> \u200b\u53d6\u200b\u8d70\u200b\u3002</p>"},{"location":"api/reference/obstream-class/#_21","title":"\u793a\u4f8b","text":"<pre><code>// obstream_buffer.cpp\n// compile with: /EHsc\n#include \"yasio/obstream.hpp\"\n\nint main( )\n{\n   using namespace yasio;\n   using namespace cxx17;\n\n   obstream obs;\n   obs.write_v(\"hello world!\");\n\n   const auto&amp; const_buffer = obs.buffer();\n\n   // after this line, the obs will be empty\n   auto move_buffer = std::move(obs.buffer());\n\n   return 0;\n}\n</code></pre>"},{"location":"api/reference/obstream-class/#obstreamclear","title":"obstream::clear","text":"<p>\u200b\u6e05\u7406\u200b\u6d41\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u590d\u7528\u200b\u3002</p> <pre><code>void clear();\n</code></pre>"},{"location":"api/reference/obstream-class/#_22","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u4e0d\u4f1a\u200b\u91ca\u653e\u200bbuffer\u200b\u5185\u5b58\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u9ad8\u6548\u200b\u5730\u200b\u590d\u7528\u200b\u5e8f\u5217\u5316\u200b\u5668\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002</p>"},{"location":"api/reference/obstream-class/#obstreamshrink_to_fit","title":"obstream::shrink_to_fit","text":"<p>\u200b\u91ca\u653e\u200b\u6d41\u200b\u5185\u90e8\u200b\u7f13\u51b2\u533a\u200b\u591a\u4f59\u200b\u5185\u5b58\u200b\u3002</p> <pre><code>void shrink_to_fit();\n</code></pre>"},{"location":"api/reference/obstream-class/#obstreamsave","title":"obstream::save","text":"<p>\u200b\u5c06\u200b\u6d41\u4e2d\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u5b57\u8282\u200b\u6570\u636e\u200b\u4fdd\u5b58\u200b\u5230\u200b\u6587\u4ef6\u200b\u3002</p> <pre><code>void save(const char* filename) const;\n</code></pre>"},{"location":"api/reference/obstream-class/#_23","title":"\u793a\u4f8b","text":"<pre><code>// obstream_save.cpp\n// compile with: /EHsc\n#include \"yasio/obstream.hpp\"\n#include \"yasio/ibstream.hpp\"\n\nint main( )\n{\n   using namespace yasio;\n   using namespace cxx17;\n\n   obstream obs;\n   obs.write_v(\"hello world!\");\n   obs.save(\"obstream_save.bin\");\n\n   ibstream ibs;\n   if(ibs.load(\"obstream_save.bin\")) {\n       // output should be: hello world!\n       try {\n           std::count &lt;&lt; ibs.read_v() &lt;&lt; \"\\n\";\n       }\n       catch(const std::exception&amp; ex) {\n           std::count &lt;&lt; \"read_v fail: \" &lt;&lt;\n               &lt;&lt; ex.message() &lt;&lt; \"\\n\";\n       }\n   }\n\n   return 0;\n}\n</code></pre>"},{"location":"api/reference/obstream-class/#_24","title":"\u4f7f\u7528\u200b\u6808\u200b\u5185\u5b58\u200b\u5e8f\u5217\u5316\u200b\u793a\u4f8b","text":""},{"location":"api/reference/obstream-class/#_25","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u200b\u5e8f\u5217\u5316\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u5f53\u200b <code>fixed_buffer</code> \u200b\u68c0\u6d4b\u200b\u5230\u200b\u5185\u5b58\u7a7a\u95f4\u200b\u4e0d\u8db3\u200b\u65f6\u4f1a\u200b\u629b\u51fa\u200b <code>std::out_of_range</code> \u200b\u5f02\u5e38\u200b</li> </ul>"},{"location":"api/reference/obstream-class/#obstream_any","title":"obstream_any\u200b\u7528\u6cd5","text":"<pre><code>#include \"yasio/obstream.hpp\"\n\nint main() {\n    yasio::obstream_any&lt;128&gt; obs; // \u200b\u4f7f\u7528\u200b\u6808\u200b\u7a7a\u95f4\u200b, \u200b\u6ce8\u610f\u200b\u4e0d\u8981\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u9632\u6b62\u200b\u6808\u200b\u7a7a\u95f4\u200b\u6ea2\u51fa\u200b\n    auto where = obs.push&lt;uint16_t&gt;();\n    obs.write(3.141592654);\n    obs.write(1.17723f);\n    obs.write_ix&lt;int32_t&gt;(20201125);\n    obs.write_ix&lt;int64_t&gt;(-9223372036854775807);\n    obs.pop&lt;uint16_t&gt;(where);\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/obstream-class/#obstream_span-stdarray","title":"obstream_span + std::array\u200b\u7528\u6cd5","text":"<pre><code>#include \"yasio/obstream.hpp\"\n\nint main() {\n    std::array&lt;char, 128&gt; fb; // \u200b\u4f7f\u7528\u200b\u6808\u200b\u7a7a\u95f4\u200b, \u200b\u6ce8\u610f\u200b\u4e0d\u8981\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u9632\u6b62\u200b\u6808\u200b\u7a7a\u95f4\u200b\u6ea2\u51fa\u200b\n    yasio::obstream_span&lt;yasio::fixed_buffer_span&gt; obs(fb);\n    auto where = obs.push&lt;uint16_t&gt;();\n    obs.write(3.141592654);\n    obs.write(1.17723f);\n    obs.write_ix&lt;int32_t&gt;(20201125);\n    obs.write_ix&lt;int64_t&gt;(-9223372036854775807);\n    obs.pop&lt;uint16_t&gt;(where);\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/obstream-class/#obstream_span-char","title":"obstream_span + char[]\u200b\u7528\u6cd5","text":"<pre><code>#include \"yasio/obstream.hpp\"\n\nint main() {\n    char raw_fb[128]; // \u200b\u4f7f\u7528\u200b\u6808\u200b\u7a7a\u95f4\u200b, \u200b\u6ce8\u610f\u200b\u4e0d\u8981\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u9632\u6b62\u200b\u6808\u200b\u7a7a\u95f4\u200b\u6ea2\u51fa\u200b\n    yasio::obstream_span&lt;yasio::fixed_buffer_span&gt; obs(raw_fb);\n    auto where = obs.push&lt;uint16_t&gt;();\n    obs.write(3.141592654);\n    obs.write(1.17723f);\n    obs.write_ix&lt;int32_t&gt;(20201125);\n    obs.write_ix&lt;int64_t&gt;(-9223372036854775807);\n    obs.pop&lt;uint16_t&gt;(where);\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/obstream-class/#stdvectorstdstring","title":"\u5e8f\u5217\u5316\u200b\u5230\u200bstd::vector\u200b\u548c\u200bstd::string","text":""},{"location":"api/reference/obstream-class/#obstream_span-stdvector","title":"obstream_span + std::vector\u200b\u7528\u6cd5\u200b <pre><code>#include \"yasio/obstream.hpp\"\n\nint main() {\n    std::vector&lt;char&gt; buf;\n    yasio::obstream_span&lt;std::vector&lt;char&gt;&gt; obs(buf);\n    auto where = obs.push&lt;uint16_t&gt;();\n    obs.write(3.141592654);\n    obs.write(1.17723f);\n    obs.write_ix&lt;int32_t&gt;(20201125);\n    obs.write_ix&lt;int64_t&gt;(-9223372036854775807);\n    obs.pop&lt;uint16_t&gt;(where);\n    return 0;\n}\n</code></pre>","text":""},{"location":"api/reference/obstream-class/#obstream_span-stdstring","title":"obstream_span + std::string\u200b\u7528\u6cd5\u200b <pre><code>#include \"yasio/obstream.hpp\"\n\nint main() {\n    std::string buf;\n    yasio::obstream_span&lt;std::string&gt; obs(buf);\n    auto where = obs.push&lt;uint16_t&gt;();\n    obs.write(3.141592654);\n    obs.write(1.17723f);\n    obs.write_ix&lt;int32_t&gt;(20201125);\n    obs.write_ix&lt;int64_t&gt;(-9223372036854775807);\n    obs.pop&lt;uint16_t&gt;(where);\n    return 0;\n}\n</code></pre>","text":""},{"location":"api/reference/obstream-class/#_26","title":"\u8bf7\u53c2\u9605\u200b <p>ibstream_view Class</p> <p>ibstream Class</p>","text":""},{"location":"api/reference/others/","title":"\u5176\u4ed6\u200b\u5e38\u7528\u200bAPI","text":""},{"location":"api/reference/others/#_1","title":"\u547d\u540d\u200b\u7a7a\u95f4","text":"<pre><code>namespace yasio {}\n</code></pre>"},{"location":"api/reference/others/#_2","title":"\u516c\u5171\u200b\u65b9\u6cd5","text":"Name Description yasio::host_to_network \u200b\u4e3b\u673a\u200b\u5b57\u8282\u200b\u5e8f\u8f6c\u200b\u7f51\u7edc\u200b\u5b57\u8282\u200b\u5e8f\u200b yasio::network_to_host \u200b\u7f51\u7edc\u200b\u5b57\u8282\u200b\u5e8f\u8f6c\u200b\u4e3b\u673a\u200b\u5b57\u8282\u200b\u5e8f\u200b yasio::xhighp_clock \u200b\u83b7\u53d6\u200b\u7eb3\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b yasio::highp_clock \u200b\u83b7\u53d6\u200b\u5fae\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b yasio::clock \u200b\u83b7\u53d6\u200b\u6beb\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b yasio::set_thread_name \u200b\u8bbe\u7f6e\u200b\u8c03\u7528\u8005\u200b\u7ebf\u7a0b\u200b\u540d\u200b yasio::basic_strfmt \u200b\u683c\u5f0f\u5316\u200b\u5b57\u7b26\u4e32"},{"location":"api/reference/others/#yasiohost_to_network","title":"yasio::host_to_network","text":"<p>\u200b\u4e3b\u673a\u200b\u5b57\u8282\u200b\u5e8f\u8f6c\u200b\u7f51\u7edc\u200b\u5b57\u8282\u200b\u5e8f\u200b\u3002</p>"},{"location":"api/reference/others/#_3","title":"\u5934\u6587\u4ef6","text":"<p><code>yasio/detail/endian_portable.hpp</code></p> <pre><code>template &lt;typename _Ty&gt;\ninline _Ty host_to_network(_Ty value);\ninline int host_to_network(int value, int size);\n</code></pre>"},{"location":"api/reference/others/#_4","title":"\u53c2\u6570","text":"<p>value \u200b\u8981\u200b\u8f6c\u6362\u200b\u7684\u200b\u6570\u503c\u200b\uff0cvalue\u200b\u7c7b\u578b\u200b _Ty \u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u610f\u200b1~8\u200b\u5b57\u8282\u200b\u6570\u503c\u200b\u7c7b\u578b\u200b\u3002</p> <p>size \u200b\u8981\u200b\u8f6c\u6362\u200b\u7684\u200b\u6570\u503c\u200b\u6709\u6548\u200b\u5b57\u8282\u6570\u200b\uff0c\u200b\u53ea\u80fd\u200b\u662f\u200b1~4\u200b\u5b57\u8282\u200b\u3002</p>"},{"location":"api/reference/others/#_5","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u7f51\u7edc\u200b\u5b57\u8282\u200b\u5e8f\u200b\u6570\u503c\u200b\u3002</p>"},{"location":"api/reference/others/#_6","title":"\u793a\u4f8b","text":"<pre><code>#include &lt;stdio.h&gt;\n#include &lt;inttypes.h&gt;\n#include \"yasio/detail/endian_portable.hpp\"\nint main(){\n    uint16_t v1 = 0x1122;\n    uint32_t v2 = 0x11223344;\n    uint64_t v3 = 0x1122334455667788;\n    // output will be: net.v1=2211, net.v2=44332211, net.v3=8877665544332211\n    printf(\"net.v1=%04\" PRIx16 \", net.v2=%08\" PRIx32 \", net.v3=%016\" PRIx64 \"\\n\",\n        yasio::host_to_network(v1),\n        yasio::host_to_network(v2),\n        yasio::host_to_network(v3));\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/others/#yasionetwork_to_host","title":"yasio::network_to_host","text":"<p>\u200b\u7f51\u7edc\u200b\u5b57\u8282\u200b\u5e8f\u8f6c\u200b\u4e3b\u673a\u200b\u5b57\u8282\u200b\u5e8f\u200b\u3002</p>"},{"location":"api/reference/others/#_7","title":"\u5934\u6587\u4ef6","text":"<p><code>yasio/detail/endian_portable.hpp</code></p> <pre><code>template &lt;typename _Ty&gt;\ninline _Ty network_to_host(_Ty value);\ninline int network_to_host(int value, int size);\n</code></pre>"},{"location":"api/reference/others/#_8","title":"\u53c2\u6570","text":"<p>value \u200b\u8981\u200b\u8f6c\u6362\u200b\u7684\u200b\u6570\u503c\u200b\uff0cvalue\u200b\u7c7b\u578b\u200b _Ty \u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u610f\u200b1~8\u200b\u5b57\u8282\u200b\u6570\u503c\u200b\u7c7b\u578b\u200b\u3002</p> <p>size \u200b\u8981\u200b\u8f6c\u6362\u200b\u7684\u200b\u6570\u503c\u200b\u6709\u6548\u200b\u5b57\u8282\u6570\u200b\uff0c\u200b\u53ea\u80fd\u200b\u662f\u200b1~4\u200b\u5b57\u8282\u200b\u3002</p>"},{"location":"api/reference/others/#_9","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u4e3b\u673a\u200b\u5b57\u8282\u200b\u5e8f\u200b\u6570\u503c\u200b\u3002</p>"},{"location":"api/reference/others/#_10","title":"\u793a\u4f8b","text":"<pre><code>#include &lt;stdio.h&gt;\n#include &lt;inttypes.h&gt;\n#include \"yasio/detail/endian_portable.hpp\"\nint main(){\n    uint16_t v1 = 0x2211;\n    uint32_t v2 = 0x44332211;\n    uint64_t v3 = 0x8877665533442211;\n    // output will be: net.v1=1122, net.v2=11223344, net.v3=1122334455667788\n    printf(\"host.v1=%04\" PRIx16 \", host.v2=%08\" PRIx32 \", host.v3=%016\" PRIx64 \"\\n\",\n        yasio::network_to_host(v1),\n        yasio::network_to_host(v2),\n        yasio::network_to_host(v3));\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/others/#yasioxhighp_clock","title":"yasio::xhighp_clock","text":"<p>\u200b\u83b7\u53d6\u200b\u7eb3\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b\u3002</p>"},{"location":"api/reference/others/#_11","title":"\u5934\u6587\u4ef6","text":"<p><code>yasio/detail/utils.hpp</code></p> <pre><code>template &lt;typename _Ty = steady_clock_t&gt;\ninline highp_time_t xhighp_clock();\n</code></pre>"},{"location":"api/reference/others/#_12","title":"\u6a21\u677f\u200b\u53c2\u6570","text":"<p>_Ty</p> <ul> <li>yasio::steady_clock_t: \u200b\u8fd4\u56de\u200b\u5f53\u524d\u200b\u7cfb\u7edf\u200b\u65f6\u95f4\u200b\u65e0\u5173\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b</li> <li>yasio::system_clock_t: \u200b\u8fd4\u56de\u200b\u7cfb\u7edf\u200bUTC\u200b\u65f6\u95f4\u200b\u6233\u200b</li> </ul>"},{"location":"api/reference/others/#_13","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u7eb3\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b\u3002</p>"},{"location":"api/reference/others/#yasiohighp_clock","title":"yasio::highp_clock","text":"<p>\u200b\u83b7\u53d6\u200b\u5fae\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b\u3002</p>"},{"location":"api/reference/others/#_14","title":"\u5934\u6587\u4ef6","text":"<p><code>yasio/detail/utils.hpp</code></p> <pre><code>template &lt;typename _Ty = steady_clock_t&gt;\ninline highp_time_t highp_clock();\n</code></pre>"},{"location":"api/reference/others/#_15","title":"\u6a21\u677f\u200b\u53c2\u6570","text":"<p>_Ty</p> <ul> <li><code>yasio::steady_clock_t</code>: \u200b\u8fd4\u56de\u200b\u5f53\u524d\u200b\u7cfb\u7edf\u200b\u65f6\u95f4\u200b\u65e0\u5173\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b</li> <li><code>yasio::system_clock_t</code>: \u200b\u8fd4\u56de\u200b\u7cfb\u7edf\u200bUTC\u200b\u65f6\u95f4\u200b\u6233\u200b</li> </ul>"},{"location":"api/reference/others/#_16","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u5fae\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b\u3002</p>"},{"location":"api/reference/others/#yasioclock","title":"yasio::clock","text":"<p>\u200b\u83b7\u53d6\u200b\u6beb\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b\u3002</p>"},{"location":"api/reference/others/#_17","title":"\u5934\u6587\u4ef6","text":"<p><code>yasio/detail/utils.hpp</code></p> <pre><code>template &lt;typename _Ty = steady_clock_t&gt;\ninline highp_time_t clock();\n</code></pre>"},{"location":"api/reference/others/#_18","title":"\u6a21\u677f\u200b\u53c2\u6570","text":"<p>_Ty</p> <ul> <li><code>yasio::steady_clock_t</code>: \u200b\u8fd4\u56de\u200b\u5f53\u524d\u200b\u7cfb\u7edf\u200b\u65f6\u95f4\u200b\u65e0\u5173\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b</li> <li><code>yasio::system_clock_t</code>: \u200b\u8fd4\u56de\u200b\u7cfb\u7edf\u200bUTC\u200b\u65f6\u95f4\u200b\u6233\u200b</li> </ul>"},{"location":"api/reference/others/#_19","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u6beb\u79d2\u200b\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b\u3002</p>"},{"location":"api/reference/others/#yasioset_thread_name","title":"yasio::set_thread_name","text":"<p>\u200b\u8bbe\u7f6e\u200b\u8c03\u7528\u8005\u200b\u7ebf\u7a0b\u200b\u540d\u200b\u3002</p>"},{"location":"api/reference/others/#_20","title":"\u5934\u6587\u4ef6","text":"<p><code>yasio/detail/thread_name.hpp</code></p> <pre><code>inline void set_thread_name(const char* name);\n</code></pre>"},{"location":"api/reference/others/#_21","title":"\u53c2\u6570","text":"<p>name \u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u7ebf\u7a0b\u200b\u540d\u79f0\u200b</p>"},{"location":"api/reference/others/#_22","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u7528\u4e8e\u200b\u8bca\u65ad\u200b\u591a\u7ebf\u7a0b\u200b\u7a0b\u5e8f\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002</p>"},{"location":"api/reference/others/#yasiobasic_strfmt","title":"yasio::basic_strfmt","text":"<p>\u200b\u51fd\u6570\u200b\u6a21\u677f\u200b\uff0c\u200b\u683c\u5f0f\u5316\u200b\u5b57\u7b26\u4e32\u200b\u6216\u8005\u200b\u5bbd\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"api/reference/others/#_23","title":"\u5934\u6587\u4ef6","text":"<p><code>yasio/detail/strfmt.hpp</code></p> <pre><code>template &lt;class _Elem, class _Traits = std::char_traits&lt;_Elem&gt;,\n          class _Alloc = std::allocator&lt;_Elem&gt;&gt;\ninline std::basic_string&lt;_Elem, _Traits, _Alloc&gt; basic_strfmt(size_t n, const _Elem* format, ...);\n</code></pre>"},{"location":"api/reference/others/#_24","title":"\u53c2\u6570","text":"<p>n \u200b\u521d\u59cb\u200bbuffer\u200b\u5927\u5c0f\u200b</p> <p>format \u200b\u683c\u5f0f\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u548c\u200b\u6807\u51c6\u200b\u5e93\u200b<code>printf</code>\u200b\u76f8\u540c\u200b</p>"},{"location":"api/reference/others/#_25","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u683c\u5f0f\u5316\u200b\u540e\u200b\u7684\u200b<code>std::string</code>\u200b\u7c7b\u578b\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"api/reference/others/#_26","title":"\u6ce8\u610f","text":"<p>\u200b\u5b9e\u9645\u200b\u4f7f\u7528\u200b\uff0c\u200b\u53ef\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u5df2\u7ecf\u200b\u5b9a\u4e49\u200b\u597d\u200b\u7684\u200b\u522b\u540d\u200b</p> <ul> <li><code>yasio::strfmt</code>: \u200b\u683c\u5f0f\u5316\u200b\u5b57\u7b26\u4e32\u200b</li> <li><code>yasio::wcsfmt</code>: \u200b\u683c\u5f0f\u5316\u200b\u5bbd\u200b\u5b57\u7b26\u4e32\u200b</li> </ul>"},{"location":"api/reference/others/#_27","title":"\u793a\u4f8b","text":"<pre><code>#include \"yasio/detail/strfmt.hpp\"\nint main() {\n    std::string str1 = yasio::strfmt(64, \"My age is %d\", 19);\n    std::wstring str2 = yasio::wcsfmt(64, L\"My age is %d\", 19);\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/xxsocket-class/","title":"xxsocket Class","text":"<p>\u200b\u5c01\u88c5\u200b\u5e95\u5c42\u200bbsd socket\u200b\u5e38\u7528\u200bAPI\uff0c\u200b\u5c4f\u853d\u200b\u5404\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5e73\u53f0\u200b\u5dee\u5f02\u200b\uff0cyasio\u200b\u7684\u200b\u8d77\u6e90\u200b\u3002</p> <p>\u200b\u7279\u522b\u200b\u6ce8\u610f\u200b</p> <p>xxsocket\u200b\u9664\u4e86\u200b <code>accept_n</code>\u200b\u4ee5\u5916\u200b\u7684\u200b\u6240\u6709\u200b <code>xxx_n</code> \u200b\u63a5\u53e3\u200b\u5747\u4f1a\u200b\u5c06\u200b\u5f53\u524d\u200bsocket\u200b\u5bf9\u8c61\u200b\u5e95\u5c42\u200b\u63cf\u8ff0\u7b26\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u4e14\u200b\u4e0d\u4f1a\u200b\u6062\u590d\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_1","title":"\u8bed\u6cd5","text":"<pre><code>namespace yasio { inline namespace inet { class xxsocket; } }\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_2","title":"\u6210\u5458","text":"Name Description xxsocket::xxsocket \u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b <code>xxsocket</code> \u200b\u5bf9\u8c61"},{"location":"api/reference/xxsocket-class/#_3","title":"\u516c\u5171\u200b\u65b9\u6cd5","text":"Name Description xxsocket::xpconnect \u200b\u5efa\u7acb\u200bTCP\u200b\u8fde\u63a5\u200b xxsocket::xpconnect_n \u200b\u975e\u200b\u963b\u585e\u200b\u65b9\u5f0f\u200b\u5efa\u7acb\u200bTCP\u200b\u8fde\u63a5\u200b xxsocket::pconnect \u200b\u5efa\u7acb\u200bTCP\u200b\u8fde\u63a5\u200b xxsocket::pconnect_n \u200b\u975e\u200b\u963b\u585e\u200b\u65b9\u5f0f\u200b\u5efa\u7acb\u200bTCP\u200b\u8fde\u63a5\u200b xxsocket::pserve \u200b\u521b\u5efa\u200btcp\u200b\u670d\u52a1\u7aef\u200b xxsocket::swap \u200b\u4ea4\u6362\u200bsocket\u200b\u63cf\u8ff0\u7b26\u200b\u53e5\u67c4\u200b xxsocket::open \u200b\u6253\u5f00\u200bsocket xxsocket::reopen \u200b\u91cd\u65b0\u200b\u6253\u5f00\u200bsocket xxsocket::is_open \u200b\u68c0\u67e5\u200bsocket\u200b\u662f\u5426\u200b\u6253\u5f00\u200b xxsocket::native_handle \u200b\u83b7\u53d6\u200bsocket\u200b\u53e5\u67c4\u200b xxsocket::release_handle \u200b\u91ca\u653e\u200bsocket\u200b\u53e5\u67c4\u200b\u63a7\u5236\u6743\u200b xxsocket::set_nonblocking \u200b\u5c06\u200bsocket\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b xxsocket::test_nonblocking \u200b\u68c0\u6d4b\u200bsocket\u200b\u662f\u5426\u200b\u4e3a\u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b xxsocket::bind \u200b\u7ed1\u5b9a\u200b\u6307\u5b9a\u200b\u672c\u5730\u200b\u6307\u5b9a\u200b\u7f51\u5361\u200b\u5730\u5740\u200b xxsocket::bind_any \u200b\u7ed1\u5b9a\u200b\u672c\u5730\u200b\u4efb\u610f\u200b\u5730\u5740\u200b xxsocket::listen \u200b\u5f00\u59cb\u200bTCP\u200b\u76d1\u542c\u200b xxsocket::accept \u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200bTCP\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b xxsocket::accept_n \u200b\u975e\u200b\u963b\u585e\u200b\u65b9\u5f0f\u200b\u63a5\u53d7\u200bTCP\u200b\u8fde\u63a5\u200b xxsocket::connect \u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b xxsocket::connect_n \u200b\u975e\u200b\u963b\u585e\u200b\u65b9\u5f0f\u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b xxsocket::disconnect \u200b\u65ad\u5f00\u200bUDP\u200b\u548c\u200b\u8fdc\u7a0b\u200b\u5730\u5740\u200b\u7684\u200b\u7ed1\u5b9a\u200b xxsocket::send \u200b\u53d1\u9001\u6570\u636e\u200b xxsocket::send_n \u200b\u975e\u200b\u963b\u585e\u200b\u65b9\u5f0f\u200b\u53d1\u9001\u6570\u636e\u200b xxsocket::recv \u200b\u63a5\u53d7\u200b\u6570\u636e\u200b xxsocket::recv_n \u200b\u975e\u200b\u963b\u585e\u200b\u65b9\u5f0f\u200b\u63a5\u53d7\u200b\u6570\u636e\u200b xxsocket::sendto \u200b\u53d1\u9001\u200bDGRAM\u200b\u6570\u636e\u200b\u5230\u200b\u6307\u5b9a\u200b\u5730\u5740\u200b xxsocket::recvfrom \u200b\u63a5\u53d7\u200bDGRAM\u200b\u6570\u636e\u200b xxsocket::handle_write_ready \u200b\u7b49\u5f85\u200bsocket\u200b\u53ef\u200b\u5199\u200b xxsocket::handle_read_ready \u200b\u7b49\u5f85\u200bsocket\u200b\u53ef\u200b\u8bfb\u200b xxsocket::local_endpoint \u200b\u83b7\u53d6\u200bsocket\u200b\u672c\u5730\u200b\u5730\u5740\u200b xxsocket::peer_endpoint \u200b\u83b7\u53d6\u200bsocket\u200b\u8fdc\u7aef\u200b\u5730\u5740\u200b xxsocket::set_keepalive \u200b\u8bbe\u7f6e\u200btcp keepalive xxsocket::reuse_address \u200b\u8bbe\u7f6e\u200bsocket\u200b\u662f\u5426\u200b\u91cd\u7528\u200b\u5730\u5740\u200b xxsocket::exclusive_address \u200b\u8bbe\u7f6e\u200bsocket\u200b\u662f\u5426\u200b\u963b\u6b62\u200b\u5730\u5740\u200b\u91cd\u7528\u200b xxsocket::select \u200b\u76d1\u542c\u200bsocket\u200b\u4e8b\u4ef6\u200b xxsocket::shutdown \u200b\u505c\u6b62\u200bsocket\u200b\u6536\u53d1\u200b xxsocket::close \u200b\u5173\u95ed\u200bsocket xxsocket::tcp_rtt \u200b\u83b7\u53d6\u200btcp rtt. xxsocket::get_last_errno \u200b\u83b7\u53d6\u200b\u6700\u8fd1\u200bsocket\u200b\u9519\u8bef\u7801\u200b xxsocket::set_last_errno \u200b\u8bbe\u7f6e\u200b\u6700\u8fd1\u200bsocket\u200b\u9519\u8bef\u7801\u200b xxsocket::strerror \u200b\u5c06\u200bsocket\u200b\u9519\u8bef\u7801\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b xxsocket::strerror_r \u200b\u5c06\u200bsocket\u200b\u9519\u8bef\u7801\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b xxsocket::gai_strerror \u200b\u5c06\u200bgetaddrinfo\u200b\u8fd4\u56de\u503c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b xxsocket::resolve \u200b\u89e3\u6790\u200b\u57df\u540d\u200b xxsocket::resolve_v4 \u200b\u89e3\u6790\u200b\u57df\u540d\u200b\u5305\u542b\u200b\u7684\u200bipv4\u200b\u5730\u5740\u200b xxsocket::resolve_v6 \u200b\u89e3\u6790\u200b\u57df\u540d\u200b\u5305\u542b\u200b\u7684\u200bipv6\u200b\u5730\u5740\u200b xxsocket::resolve_v4to6 \u200b\u89e3\u6790\u200b\u57df\u540d\u200b\u5305\u542b\u200b\u7684\u200bipv4\u200b\u5730\u5740\u200b\u5e76\u200b\u8f6c\u6362\u200b\u4e3a\u200bipv6\u200b\u7684\u200bV4MAPPED\u200b\u683c\u5f0f\u200b xxsocket::resolve_tov6 \u200b\u89e3\u6790\u200b\u57df\u540d\u200b\u5305\u542b\u200b\u7684\u200b\u6240\u6709\u200b\u5730\u5740\u200b\uff0cipv4\u200b\u5730\u5740\u200b\u4f1a\u200b\u8f6c\u6362\u200b\u4e3a\u200bipv6\u200b\u7684\u200bV4MAPPED\u200b\u683c\u5f0f\u200b xxsocket::getipsv \u200b\u83b7\u53d6\u200b\u672c\u200b\u673a\u200b\u652f\u6301\u200b\u7684\u200bip\u200b\u534f\u8bae\u200b\u6808\u200b\u7248\u672c\u200b\u6807\u5fd7\u200b\u4f4d\u200b xxsocket::traverse_local_address \u200b\u679a\u4e3e\u200b\u672c\u200b\u673a\u200b\u5730\u5740"},{"location":"api/reference/xxsocket-class/#xxsocketxxsocket","title":"xxsocket::xxsocket","text":"<p>\u200b\u6784\u9020\u200b <code>xxsocket</code> \u200b\u5bf9\u8c61\u200b\u3002</p> <pre><code>xxsocket::xxsocket();\nxxsocket::xxsocket(socket_native_type handle);\nxxsocket::xxsocket(xxsocket&amp;&amp; right);\nxxsocket::xxsocket(int af, int type, int protocol);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_4","title":"\u53c2\u6570","text":"<p>handle \u200b\u901a\u8fc7\u200b\u5df2\u6709\u200bsocket\u200b\u53e5\u67c4\u200b\u6784\u9020\u200b <code>xxsocket</code> \u200b\u5bf9\u8c61\u200b\u3002</p> <p>right move\u200b\u6784\u9020\u51fd\u6570\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\u3002</p> <p>af ip\u200b\u534f\u8bae\u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\u3002</p> <p>protocol \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5bf9\u4e8e\u200bTCP/UDP\u200b\u76f4\u63a5\u200b\u4f20\u200b <code>0</code> \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketxpconnect","title":"xxsocket::xpconnect","text":"<p>\u200b\u548c\u200b\u8fdc\u7a0b\u200b\u670d\u52a1\u5668\u200b\u5efa\u7acb\u200bTCP\u200b\u8fde\u63a5\u200b\u3002</p> <pre><code>int xxsocket::xpconnect(const char* hostname, u_short port, u_short local_port = 0);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_5","title":"\u53c2\u6570","text":"<p>hostname \u200b\u8981\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u200b\u4e3b\u673a\u540d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b <code>IP\u200b\u5730\u5740\u200b</code> \u200b\u6216\u200b <code>\u200b\u57df\u540d\u200b</code>\u3002</p> <p>port \u200b\u8981\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u7aef\u53e3\u200b\u3002</p> <p>local_port \u200b\u672c\u5730\u200b\u901a\u4fe1\u200b\u7aef\u53e3\u53f7\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b <code>0</code> \u200b\u8868\u793a\u200b\u968f\u673a\u200b\u5206\u914d\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_6","title":"\u6ce8\u610f","text":"<p>\u200b\u4f1a\u200b\u81ea\u52a8\u68c0\u6d4b\u200b\u672c\u200b\u673a\u200b\u652f\u6301\u200b\u7684\u200bip\u200b\u534f\u8bae\u200b\u6808\u200b\u7248\u672c\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_7","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketxpconnect_n","title":"xxsocket::xpconnect_n","text":"<p>\u200b\u548c\u200b\u8fdc\u7a0b\u200b\u670d\u52a1\u5668\u200b\u5efa\u7acb\u200bTCP\u200b\u8fde\u63a5\u200b\u3002</p> <pre><code>int xxsocket::xpconnect_n(const char* hostname, u_short port, const std::chrono::microseconds&amp; wtimeout, u_short local_port = 0);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_8","title":"\u53c2\u6570","text":"<p>hostname \u200b\u8981\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u200b\u4e3b\u673a\u540d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b <code>IP\u200b\u5730\u5740\u200b</code> \u200b\u6216\u200b <code>\u200b\u57df\u540d\u200b</code>\u3002</p> <p>port \u200b\u8981\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u7aef\u53e3\u200b\u3002</p> <p>local_port \u200b\u672c\u5730\u200b\u901a\u4fe1\u200b\u7aef\u53e3\u53f7\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b <code>0</code> \u200b\u8868\u793a\u200b\u968f\u673a\u200b\u5206\u914d\u200b\u3002</p> <p>wtimeout \u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_9","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_10","title":"\u6ce8\u610f","text":"<p>\u200b\u4f1a\u200b\u81ea\u52a8\u68c0\u6d4b\u200b\u672c\u200b\u673a\u200b\u652f\u6301\u200b\u7684\u200bip\u200b\u534f\u8bae\u200b\u6808\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketpconnect","title":"xxsocket::pconnect","text":"<p>\u200b\u548c\u200b\u8fdc\u7a0b\u200b\u670d\u52a1\u5668\u200b\u5efa\u7acb\u200bTCP\u200b\u8fde\u63a5\u200b\u3002</p> <pre><code>int xxsocket::pconnect(const char* hostname, u_short port, u_short local_port = 0);\nint xxsocket::pconnect(const endpoint&amp; ep, u_short local_port = 0);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_11","title":"\u53c2\u6570","text":"<p>hostname \u200b\u8981\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u200b\u4e3b\u673a\u540d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b <code>IP\u200b\u5730\u5740\u200b</code> \u200b\u6216\u200b <code>\u200b\u57df\u540d\u200b</code>\u3002</p> <p>ep \u200b\u8981\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u5730\u5740\u200b\u3002</p> <p>port \u200b\u8981\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u7aef\u53e3\u200b\u3002</p> <p>local_port \u200b\u672c\u5730\u200b\u901a\u4fe1\u200b\u7aef\u53e3\u53f7\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b <code>0</code> \u200b\u8868\u793a\u200b\u968f\u673a\u200b\u5206\u914d\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_12","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_13","title":"\u6ce8\u610f","text":"<p>\u200b\u4e0d\u4f1a\u200b\u68c0\u6d4b\u200b\u672c\u200b\u673a\u200b\u652f\u6301\u200b\u7684\u200bip\u200b\u534f\u8bae\u200b\u6808\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketpconnect_n","title":"xxsocket::pconnect_n","text":"<p>\u200b\u548c\u200b\u8fdc\u7a0b\u200b\u670d\u52a1\u5668\u200b\u5efa\u7acb\u200bTCP\u200b\u8fde\u63a5\u200b\u3002</p> <pre><code>int pconnect_n(const char* hostname, u_short port, const std::chrono::microseconds&amp; wtimeout, u_short local_port = 0);\nint pconnect_n(const char* hostname, u_short port, u_short local_port = 0);\nint pconnect_n(const endpoint&amp; ep, const std::chrono::microseconds&amp; wtimeout, u_short local_port = 0);\nint pconnect_n(const endpoint&amp; ep, u_short local_port = 0);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_14","title":"\u53c2\u6570","text":"<p>hostname \u200b\u8981\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u200b\u4e3b\u673a\u540d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b <code>IP\u200b\u5730\u5740\u200b</code> \u200b\u6216\u200b <code>\u200b\u57df\u540d\u200b</code>\u3002</p> <p>ep \u200b\u8981\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u5730\u5740\u200b\u3002</p> <p>port \u200b\u8981\u200b\u8fde\u63a5\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u7aef\u53e3\u200b\u3002</p> <p>local_port \u200b\u672c\u5730\u200b\u901a\u4fe1\u200b\u7aef\u53e3\u53f7\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b <code>0</code> \u200b\u8868\u793a\u200b\u968f\u673a\u200b\u5206\u914d\u200b\u3002</p> <p>wtimeout \u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_15","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketpserve","title":"xxsocket::pserve","text":"<p>\u200b\u5f00\u542f\u200b\u672c\u5730\u200bTCP\u200b\u670d\u52a1\u200b\u76d1\u542c\u200b\u3002</p> <pre><code>int pserve(const char* addr, u_short port);\nint pserve(const endpoint&amp; ep);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_16","title":"\u53c2\u6570","text":"<p>addr \u200b\u672c\u200b\u673a\u200b\u6307\u5b9a\u200b\u7f51\u5361\u200b <code>IP\u200b\u5730\u5740\u200b</code>\u3002</p> <p>ep \u200b\u672c\u200b\u673a\u200b\u5730\u5740\u200b\u3002</p> <p>port TCP\u200b\u76d1\u542c\u200b\u7aef\u53e3\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_17","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_18","title":"\u793a\u4f8b","text":"<pre><code>// xxsocket-serve.cpp\n#include &lt;signal.h&gt;\n#include &lt;vector&gt;\n#include \"yasio/xxsocket.hpp\"\nusing namespace yasio;\n\nxxsocket g_server;\nstatic bool g_stopped = false;\nvoid process_exit(int sig)\n{\n  if (sig == SIGINT)\n  {\n    g_stopped = true;\n    g_server.close();\n  }\n  printf(\"exit\");\n}\nint main()\n{\n  signal(SIGINT, process_exit);\n\n  if (g_server.pserve(\"0.0.0.0\", 1219) != 0)\n    return -1;\n  const char reply_msg[] = \"hi, I'm server\\n\";\n  do\n  {\n    xxsocket cs = g_server.accept();\n    if (cs.is_open())\n    {\n      cs.send(reply_msg, sizeof(reply_msg) - 1);\n      std::this_thread::sleep_for(std::chrono::milliseconds(100));\n    }\n  } while (!g_stopped);\n\n  return 0;\n}\n</code></pre>"},{"location":"api/reference/xxsocket-class/#xxsocketswap","title":"xxsocket::swap","text":"<p>\u200b\u4ea4\u6362\u200b\u5e95\u5c42\u200bsocket\u200b\u53e5\u67c4\u200b\u3002</p> <pre><code>xxsocket&amp; swap(xxsocket&amp; who);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_19","title":"\u53c2\u6570","text":"<p>who \u200b\u4ea4\u6362\u200b\u5bf9\u8c61\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_20","title":"\u8fd4\u56de\u503c","text":"<p><code>xxsocket</code> \u200b\u5de6\u503c\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5f15\u7528\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketopen","title":"xxsocket::open","text":"<p>\u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200bsocket\u3002</p> <pre><code>bool open(int af = AF_INET, int type = SOCK_STREAM, int protocol = 0);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_21","title":"\u53c2\u6570","text":"<p>af \u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>AF_INET</code> (ipv4)\uff0c<code>AF_INET6</code> (ipv6)\u3002</p> <p>type socket\u200b\u7c7b\u578b\u200b\uff0c <code>SOCK_STREAM</code> (TCP), <code>SOCK_DGRAM</code> (UDP)\u3002</p> <p>protocol \u200b\u534f\u8bae\u200b\uff0c\u200b\u5bf9\u4e8e\u200bTCP/UDP\uff0c\u200b\u4f20\u200b <code>0</code> \u200b\u5373\u53ef\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_22","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: \u200b\u6210\u529f\u200b\uff0c <code>false</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketreopen","title":"xxsocket::reopen","text":"<p>\u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200bsocket\u3002</p> <pre><code>bool reopen(int af = AF_INET, int type = SOCK_STREAM, int protocol = 0);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_23","title":"\u53c2\u6570","text":"<p>af \u200b\u5730\u5740\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>AF_INET</code> (ipv4)\uff0c<code>AF_INET6</code> (ipv6)\u3002</p> <p>type socket\u200b\u7c7b\u578b\u200b\uff0c <code>SOCK_STREAM</code> (TCP), <code>SOCK_DGRAM</code> (UDP)\u3002</p> <p>protocol \u200b\u534f\u8bae\u200b\uff0c\u200b\u5bf9\u4e8e\u200bTCP/UDP\uff0c\u200b\u4f20\u200b <code>0</code> \u200b\u5373\u53ef\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_24","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: \u200b\u6210\u529f\u200b\uff0c <code>false</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_25","title":"\u6ce8\u610f","text":"<p>\u200b\u5982\u679c\u200bsocket\u200b\u5df2\u200b\u6253\u5f00\u200b\uff0c\u200b\u6b64\u200b\u51fd\u6570\u200b\u4f1a\u5148\u200b\u5173\u95ed\u200b\uff0c\u200b\u518d\u200b\u91cd\u65b0\u200b\u6253\u5f00\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketis_open","title":"xxsocket::is_open","text":"<p>\u200b\u5224\u65ad\u200bsocket\u200b\u662f\u5426\u200b\u5df2\u200b\u6253\u5f00\u200b\u3002</p> <pre><code>bool is_open() const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_26","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: \u200b\u5df2\u200b\u6253\u5f00\u200b\uff0c <code>false</code>: \u200b\u672a\u200b\u6253\u5f00\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketnative_handle","title":"xxsocket::native_handle","text":"<p>\u200b\u83b7\u53d6\u200bsocket\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u3002</p> <pre><code>socket_native_type native_handle() const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_27","title":"\u8fd4\u56de\u503c","text":"<p>socket\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\uff0c<code>yasio::inet::invalid_socket</code> \u200b\u8868\u793a\u200b\u65e0\u6548\u200bsocket\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketrelease_handle","title":"xxsocket::release_handle","text":"<p>\u200b\u91ca\u653e\u200b\u5e95\u5c42\u200bsocket\u200b\u63cf\u8ff0\u7b26\u200b\u63a7\u5236\u6743\u200b\u3002</p> <pre><code>socket_native_type release_handle() const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_28","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u91ca\u653e\u200b\u524d\u200b\u7684\u200bsocket\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b</p>"},{"location":"api/reference/xxsocket-class/#xxsocketset_nonblocking","title":"xxsocket::set_nonblocking","text":"<p>\u200b\u8bbe\u7f6e\u200bsocket\u200b\u7684\u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b\u3002</p> <pre><code>int set_nonblocking(bool nonblocking) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_29","title":"\u53c2\u6570","text":"<p>nonblocking <code>true</code>: \u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b\uff0c<code>false</code>: \u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_30","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsockettest_nonblocking","title":"xxsocket::test_nonblocking","text":"<p>\u200b\u68c0\u6d4b\u200bsocket\u200b\u662f\u5426\u200b\u4e3a\u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b\u3002</p> <pre><code>int test_nonblocking() const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_31","title":"\u8fd4\u56de\u503c","text":"<p><code>1</code>: \u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b\uff0c <code>0</code>: \u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_32","title":"\u6ce8\u610f","text":"<p>\u200b\u5bf9\u4e8e\u200bwinsock2\uff0c\u200b\u672a\u200b\u8fde\u63a5\u200b\u7684\u200b <code>SOCK_STREAM</code> \u200b\u7c7b\u578b\u200bsocket\u200b\u4f1a\u200b\u8fd4\u56de\u200b <code>-1</code>\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketbind","title":"xxsocket::bind","text":"<p>\u200b\u7ed1\u5b9a\u200bsocket\u200b\u672c\u200b\u673a\u200b\u5730\u5740\u200b\u3002</p> <pre><code>int bind(const char* addr, unsigned short port) const;\nint bind(const endpoint&amp; ep) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_33","title":"\u53c2\u6570","text":"<p>addr \u200b\u672c\u200b\u673a\u200b\u6307\u5b9a\u200b\u7f51\u5361\u200bip\u200b\u5730\u5740\u200b\u3002</p> <p>port \u200b\u8981\u200b\u7ed1\u5b9a\u200b\u7684\u200b\u7aef\u53e3\u200b\u3002</p> <p>ep \u200b\u8981\u200b\u7ed1\u5b9a\u200b\u7684\u200b\u672c\u673a\u200b\u5730\u5740\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_34","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketbind_any","title":"xxsocket::bind_any","text":"<p>\u200b\u7ed1\u5b9a\u200bsocket\u200b\u672c\u200b\u673a\u200b\u4efb\u610f\u200b\u5730\u5740\u200b\u3002</p> <pre><code>int bind_any(bool ipv6) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_35","title":"\u53c2\u6570","text":"<p>ipv6 \u200b\u662f\u5426\u200b\u7ed1\u5b9a\u200b\u672c\u200b\u673a\u200b\u4efb\u610f\u200bIPv6\u200b\u5730\u5740\u200b</p>"},{"location":"api/reference/xxsocket-class/#_36","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketlisten","title":"xxsocket::listen","text":"<p>\u200b\u5f00\u59cb\u200b\u76d1\u542c\u200b\u6765\u81ea\u200bTCP\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u63e1\u624b\u200b\u8bf7\u6c42\u200b\u3002</p> <pre><code>int listen(int backlog = SOMAXCONN) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_37","title":"\u53c2\u6570","text":"<p>backlog \u200b\u6700\u5927\u200b\u76d1\u542c\u200b\u6570\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_38","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketaccept","title":"xxsocket::accept","text":"<p>\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b\u3002</p> <pre><code>xxsocket accept() const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_39","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u548c\u200b\u5ba2\u6237\u7aef\u200b\u901a\u4fe1\u200b\u7684\u200b <code>xxsocket</code> \u200b\u5bf9\u8c61\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketaccept_n","title":"xxsocket::accept_n","text":"<p>\u200b\u975e\u200b\u963b\u585e\u200b\u65b9\u5f0f\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b\u3002</p> <pre><code>int accept_n(socket_native_type&amp; new_sock) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_40","title":"\u53c2\u6570","text":"<p>new_sock \u200b\u8f93\u51fa\u200b\u53c2\u6570\u200b\uff0c\u200b\u548c\u200b\u5ba2\u6237\u7aef\u200b\u901a\u4fe1\u200b\u7684\u200b\u5e95\u5c42\u200bsocket\u200b\u53e5\u67c4\u200b\u5f15\u7528\u200b</p>"},{"location":"api/reference/xxsocket-class/#_41","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_42","title":"\u6ce8\u610f","text":"<p>\u200b\u5982\u679c\u200b\u6b64\u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b<code>0</code>\uff0cnew_sock \u200b\u4f1a\u200b\u88ab\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b\u3002</p> <p>\u200b\u8c03\u7528\u200b\u6b64\u200b\u51fd\u6570\u200b\u4e4b\u524d\u200b\uff0c\u200b\u8bf7\u200b\u624b\u52a8\u200b\u8c03\u7528\u200b <code>xxsocket::set_nonblocking</code> \u200b\u5c06\u200bsocket\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketconnect","title":"xxsocket::connect","text":"<p>\u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b\u3002</p> <pre><code>int connect(const char* addr, u_short port);\nint connect(const endpoint&amp; ep);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_43","title":"\u53c2\u6570","text":"<p>addr \u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200bip\u200b\u5730\u5740\u200b\u3002</p> <p>port \u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u7aef\u53e3\u200b\u3002</p> <p>ep \u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u5730\u5740\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_44","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_45","title":"\u6ce8\u610f","text":"<p>TCP: \u200b\u53d1\u8d77\u200bTCP\u200b\u4e09\u6b21\u200b\u63e1\u624b\u200b  </p> <p>UDP: \u200b\u5efa\u7acb\u200b4\u200b\u5143\u7ec4\u200b\u7ed1\u5b9a\u200b</p>"},{"location":"api/reference/xxsocket-class/#xxsocketconnect_n","title":"xxsocket::connect_n","text":"<p>\u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b\u3002</p> <pre><code>int connect_n(const char* addr, u_short port, const std::chrono::microseconds&amp; wtimeout);\nint connect_n(const endpoint&amp; ep, const std::chrono::microseconds&amp; wtimeout);\nint connect_n(const endpoint&amp; ep);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_46","title":"\u53c2\u6570","text":"<p>addr \u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200bip\u200b\u5730\u5740\u200b\u3002</p> <p>port \u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u7aef\u53e3\u200b\u3002</p> <p>ep \u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u5730\u5740\u200b\u3002</p> <p>wtimeout \u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b\u7684\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_47","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_48","title":"\u6ce8\u610f","text":"<p>TCP: \u200b\u53d1\u8d77\u200bTCP\u200b\u4e09\u6b21\u200b\u63e1\u624b\u200b  </p> <p>UDP: \u200b\u5efa\u7acb\u200b4\u200b\u5143\u7ec4\u200b\u7ed1\u5b9a\u200b</p>"},{"location":"api/reference/xxsocket-class/#xxsocketdisconnect","title":"xxsocket::disconnect","text":"<p>\u200b\u89e3\u9664\u200bsocket\u200b\u548c\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u7684\u200b4\u200b\u5143\u7ec4\u200b\u7ed1\u5b9a\u200b\u3002</p> <pre><code>int disconnect() const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_49","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_50","title":"\u6ce8\u610f","text":"<p>\u200b\u4ec5\u200b\u652f\u6301\u200bUDP</p>"},{"location":"api/reference/xxsocket-class/#_51","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_52","title":"\u6ce8\u610f","text":"<p>\u200b\u53ea\u200b\u7528\u4e8e\u200b <code>SOCK_DGRAM</code>(UDP) \u200b\u7c7b\u578b\u200bsocket\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketsend","title":"xxsocket::send","text":"<p>\u200b\u5411\u200b\u8fdc\u7aef\u200b\u53d1\u9001\u200b\u6307\u5b9a\u200b\u957f\u5ea6\u200b\u6570\u636e\u200b\u3002</p> <pre><code>int send(const void* buf, int len, int flags = 0);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_53","title":"\u53c2\u6570","text":"<p>buf \u200b\u8981\u200b\u53d1\u9001\u6570\u636e\u200b\u7684\u200b\u8d77\u59cb\u200b\u5b57\u8282\u200b\u5730\u5740\u200b\u3002</p> <p>len \u200b\u8981\u200b\u53d1\u9001\u6570\u636e\u200b\u7684\u200b\u957f\u5ea6\u200b\u3002</p> <p>flags \u200b\u53d1\u9001\u6570\u636e\u200b\u5e95\u5c42\u200b\u6807\u8bb0\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_54","title":"\u8fd4\u56de\u503c","text":"<p><code>==len</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; len</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketsend_n","title":"xxsocket::send_n","text":"<p>\u200b\u5728\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u5185\u200b\u5c3d\u529b\u200b\u5411\u200b\u8fdc\u7aef\u200b\u53d1\u9001\u200b\u6307\u5b9a\u200b\u957f\u5ea6\u200b\u6570\u636e\u200b\u3002</p> <pre><code>int send_n(const void* buf, int len, const std::chrono::microseconds&amp; wtimeout, int flags = 0);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_55","title":"\u53c2\u6570","text":"<p>buf \u200b\u8981\u200b\u53d1\u9001\u6570\u636e\u200b\u7684\u200b\u8d77\u59cb\u200b\u5b57\u8282\u200b\u5730\u5740\u200b\u3002</p> <p>len \u200b\u8981\u200b\u53d1\u9001\u6570\u636e\u200b\u7684\u200b\u957f\u5ea6\u200b\u3002</p> <p>wtimeout \u200b\u53d1\u9001\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u3002</p> <p>flags \u200b\u53d1\u9001\u6570\u636e\u200b\u5e95\u5c42\u200b\u6807\u8bb0\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_56","title":"\u8fd4\u56de\u503c","text":"<p><code>==len</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; len</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketrecv","title":"xxsocket::recv","text":"<p>\u200b\u4ece\u200b\u5185\u6838\u200b\u53bb\u9664\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u53d1\u9001\u200b\u8fc7\u6765\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p> <pre><code>int recv(void* buf, int len, int flags = 0) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_57","title":"\u53c2\u6570","text":"<p>buf \u200b\u63a5\u6536\u6570\u636e\u200b\u7f13\u51b2\u533a\u200b\u3002</p> <p>len \u200b\u63a5\u6536\u6570\u636e\u200b\u7f13\u51b2\u533a\u200b\u957f\u5ea6\u200b\u3002</p> <p>flags \u200b\u63a5\u6536\u6570\u636e\u200b\u5e95\u5c42\u200b\u6807\u8bb0\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_58","title":"\u8fd4\u56de\u503c","text":"<p><code>==len</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; len</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_59","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u662f\u5426\u200b\u7acb\u5373\u200b\u8fd4\u56de\u200b\uff0c\u200b\u53d6\u51b3\u4e8e\u200bsocket\u200b\u672c\u8eab\u200b\u662f\u5426\u662f\u200b <code>\u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b</code>\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketrecv_n","title":"xxsocket::recv_n","text":"<p>\u200b\u5728\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u5185\u200b\u5c3d\u529b\u200b\u4ece\u200b\u5185\u6838\u200b\u53d6\u51fa\u200b\u6307\u5b9a\u200b\u957f\u5ea6\u200b\u6570\u636e\u200b\u3002</p> <pre><code>int recv_n(void* buf, int len, const std::chrono::microseconds&amp; wtimeout, int flags = 0) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_60","title":"\u53c2\u6570","text":"<p>buf \u200b\u63a5\u6536\u6570\u636e\u200b\u7f13\u51b2\u533a\u200b\u3002</p> <p>len \u200b\u63a5\u6536\u6570\u636e\u200b\u7f13\u51b2\u533a\u200b\u957f\u5ea6\u200b\u3002</p> <p>wtimeout \u200b\u63a5\u6536\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u3002</p> <p>flags \u200b\u63a5\u6536\u6570\u636e\u200b\u5e95\u5c42\u200b\u6807\u8bb0\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_61","title":"\u8fd4\u56de\u503c","text":"<p><code>==len</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; len</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketsendto","title":"xxsocket::sendto","text":"<p>\u200b\u5411\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u53d1\u9001\u200b <code>DGRAM</code> \uff08UDP\uff09\u200b\u6570\u636e\u200b\u3002</p> <pre><code>int sendto(const void* buf, int len, const endpoint&amp; to, int flags = 0) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_62","title":"\u53c2\u6570","text":"<p>buf \u200b\u5f85\u200b\u53d1\u9001\u6570\u636e\u200b\u7f13\u51b2\u533a\u200b\u3002</p> <p>len \u200b\u5f85\u200b\u53d1\u9001\u6570\u636e\u200b\u7f13\u51b2\u533a\u200b\u957f\u5ea6\u200b\u3002</p> <p>to \u200b\u53d1\u9001\u200b\u76ee\u6807\u200b\u5730\u5740\u200b\u3002</p> <p>flags \u200b\u53d1\u9001\u6570\u636e\u200b\u5e95\u5c42\u200b\u6807\u8bb0\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_63","title":"\u8fd4\u56de\u503c","text":"<p><code>==len</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; len</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketrecvfrom","title":"xxsocket::recvfrom","text":"<p>\u200b\u4ece\u200b\u5185\u6838\u200b\u53bb\u9664\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u53d1\u9001\u200b\u8fc7\u6765\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p> <pre><code>int recvfrom(void* buf, int len, endpoint&amp; peer, int flags = 0) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_64","title":"\u53c2\u6570","text":"<p>buf \u200b\u63a5\u6536\u6570\u636e\u200b\u7f13\u51b2\u533a\u200b\u3002</p> <p>len \u200b\u63a5\u6536\u6570\u636e\u200b\u7f13\u51b2\u533a\u200b\u957f\u5ea6\u200b\u3002</p> <p>peer \u200b\u63a5\u6536\u6570\u636e\u200b\u6765\u6e90\u200b\uff0c\u200b\u8f93\u51fa\u200b\u53c2\u6570\u200b\u3002</p> <p>flags \u200b\u63a5\u6536\u6570\u636e\u200b\u5e95\u5c42\u200b\u6807\u8bb0\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_65","title":"\u8fd4\u56de\u503c","text":"<p><code>==len</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; len</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_66","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u662f\u5426\u200b\u7acb\u5373\u200b\u8fd4\u56de\u200b\uff0c\u200b\u53d6\u51b3\u4e8e\u200bsocket\u200b\u672c\u8eab\u200b\u662f\u5426\u662f\u200b <code>\u200b\u975e\u200b\u963b\u585e\u200b\u6a21\u5f0f\u200b</code>\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsockethandle_write_ready","title":"xxsocket::handle_write_ready","text":"<p>\u200b\u7b49\u5f85\u200bsocket\u200b\u53ef\u200b\u5199\u200b\u3002</p> <pre><code>int handle_write_ready(const std::chrono::microseconds&amp; wtimeout) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_67","title":"\u53c2\u6570","text":"<p>wtimeout \u200b\u7b49\u5f85\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_68","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u8d85\u65f6\u200b\uff0c <code>1</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>: \u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_69","title":"\u6ce8\u610f","text":"<p>\u200b\u901a\u5e38\u200b\u5f53\u200b\u5185\u6838\u200b\u53d1\u9001\u7f13\u51b2\u533a\u200b\u6ca1\u6ee1\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6b64\u200b\u51fd\u6570\u200b\u4f1a\u200b\u7acb\u5373\u200b\u8fd4\u56de\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsockethandle_read_ready","title":"xxsocket::handle_read_ready","text":"<p>\u200b\u7b49\u5f85\u200bsocket\u200b\u53ef\u200b\u8bfb\u200b\u3002</p> <pre><code>int handle_read_ready(const std::chrono::microseconds&amp; wtimeout) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_70","title":"\u53c2\u6570","text":"<p>wtimeout \u200b\u7b49\u5f85\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_71","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u8d85\u65f6\u200b\uff0c <code>1</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>: \u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketlocal_endpoint","title":"xxsocket::local_endpoint","text":"<p>\u200b\u83b7\u53d6\u200b4\u200b\u5143\u7ec4\u200b\u901a\u4fe1\u200b\u7684\u200b\u672c\u5730\u200b\u5730\u5740\u200b\u3002</p> <pre><code>endpoint local_endpoint() const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_72","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u672c\u5730\u200b\u5730\u5740\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_73","title":"\u6ce8\u610f","text":"<p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u8c03\u7528\u200b\u8fc7\u200b <code>xxsocket::connect</code> \u200b\u6216\u8005\u200bTCP\u200b\u8fde\u63a5\u200b3\u200b\u6b21\u200b\u63e1\u624b\u200b\u672a\u200b\u5b8c\u6210\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd4\u56de\u200b\u7684\u200b\u5730\u5740\u200b\u662f\u200b <code>0.0.0.0</code></p>"},{"location":"api/reference/xxsocket-class/#xxsocketpeer_endpoint","title":"xxsocket::peer_endpoint","text":"<p>\u200b\u83b7\u53d6\u200b4\u200b\u5143\u7ec4\u200b\u901a\u4fe1\u200b\u7684\u200b\u5bf9\u200b\u7aef\u200b\u5730\u5740\u200b\u3002</p> <pre><code>endpoint peer_endpoint() const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_74","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u672c\u5730\u200b\u5730\u5740\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_75","title":"\u6ce8\u610f","text":"<p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u8c03\u7528\u200b\u8fc7\u200b <code>xxsocket::connect</code> \u200b\u6216\u8005\u200bTCP\u200b\u8fde\u63a5\u200b3\u200b\u6b21\u200b\u63e1\u624b\u200b\u672a\u200b\u5b8c\u6210\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd4\u56de\u200b\u7684\u200b\u5730\u5740\u200b\u662f\u200b <code>0.0.0.0</code></p>"},{"location":"api/reference/xxsocket-class/#xxsocketset_keepalive","title":"xxsocket::set_keepalive","text":"<p>\u200b\u8bbe\u7f6e\u200bTCP\u200b\u5e95\u5c42\u200b\u534f\u8bae\u200b\u7684\u200b\u5fc3\u8df3\u200b\u53c2\u6570\u200b\u3002</p> <pre><code>int set_keepalive(int flag = 1, int idle = 7200, int interval = 75, int probes = 10);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_76","title":"\u53c2\u6570","text":"<p>flag <code>1</code>: \u200b\u5f00\u542f\u200b\u5e95\u5c42\u200b\u534f\u8bae\u200b\u5fc3\u8df3\u200b\uff0c<code>0</code>: \u200b\u5173\u95ed\u200b\u3002</p> <p>idle \u200b\u5f53\u200b\u5e94\u7528\u5c42\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u6d88\u606f\u200b\u4ea4\u4e92\u200b\u540e\u200b\uff0c\u200b\u542f\u52a8\u200b\u5e95\u5c42\u200b\u534f\u8bae\u200b\u5fc3\u8df3\u200b\u63a2\u6d4b\u200b\u7684\u200b\u6700\u5927\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\uff0c\u200b\u5355\u4f4d\u200b\uff08\u200b\u79d2\u200b\uff09\u3002</p> <p>interval \u200b\u5f53\u200b\u6ca1\u6709\u200b\u6536\u5230\u200b\u5fc3\u8df3\u200b\u56de\u5e94\u200b\u65f6\u200b\uff0c\u200b\u91cd\u590d\u200b\u53d1\u9001\u200b\u5fc3\u8df3\u200b\u63a2\u6d4b\u200b\u62a5\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\uff0c\u200b\u5355\u4f4d\u200b\uff08\u200b\u79d2\u200b\uff09\u3002</p> <p>probes \u200b\u5f53\u200b\u6ca1\u6709\u200b\u6536\u5230\u200b\u5fc3\u8df3\u200b\u56de\u5e94\u200b\u65f6\u200b\uff0c\u200b\u6700\u5927\u200b\u63a2\u6d4b\u200b\u6b21\u6570\u200b\uff0c\u200b\u8d85\u8fc7\u200b\u63a2\u6d4b\u200b\u6b21\u6570\u200b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u89e6\u53d1\u200b\u5e94\u7528\u5c42\u200b\u8fde\u63a5\u200b\u65ad\u5f00\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_77","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_78","title":"\u793a\u4f8b","text":"<pre><code>// xxsocket-keepalive.cpp\n#include \"yasio/xxsocket.hpp\"\nusing namespace yasio;\nusing namespace inet;\n\nint main(){\n    xxsocket client;\n    if(0 == client.pconnect(\"192.168.1.19\", 80)) {\n        client.set_keepalive(1, 5, 10, 2);\n    }\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/xxsocket-class/#xxsocketreuse_address","title":"xxsocket::reuse_address","text":"<p>\u200b\u8bbe\u7f6e\u200bsocket\u200b\u662f\u5426\u200b\u5141\u8bb8\u200b\u91cd\u7528\u200b\u5730\u5740\u200b\u3002</p> <pre><code>void reuse_address(bool reuse);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_79","title":"\u53c2\u6570","text":"<p>reuse \u200b\u662f\u5426\u200b\u91cd\u7528\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_80","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u4e00\u822c\u200b\u7528\u4e8e\u200b\u670d\u52a1\u5668\u200b\u6216\u8005\u200b\u7ec4\u64ad\u200b\u76d1\u542c\u200b\u7aef\u53e3\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketexclusive_address","title":"xxsocket::exclusive_address","text":"<p>\u200b\u662f\u5426\u200b\u660e\u786e\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u5730\u5740\u200b\u91cd\u7528\u200b\uff0c\u200b\u4ee5\u200b\u4fdd\u62a4\u200b\u901a\u4fe1\u200b\u53cc\u65b9\u200b\u5b89\u5168\u200b\u3002</p> <pre><code>void exclusive_address(bool exclusive);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_81","title":"\u53c2\u6570","text":"<p>exclusive <code>true</code>: \u200b\u4e0d\u200b\u5141\u8bb8\u200b\uff0c<code>false</code>: \u200b\u5141\u8bb8\u200b</p>"},{"location":"api/reference/xxsocket-class/#_82","title":"\u6ce8\u610f","text":"<p>\u200b\u70b9\u51fb\u200b \u200b\u67e5\u770b\u200b <code>winsock</code> \u200b\u5b89\u5168\u200b\u62a5\u544a\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketset_optval","title":"xxsocket::set_optval","text":"<p>\u200b\u8bbe\u7f6e\u200bsocket\u200b\u9009\u9879\u200b\u3002</p> <pre><code>template &lt;typename _Ty&gt; int set_optval(int level, int optname, const _Ty&amp; optval);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_83","title":"\u53c2\u6570","text":"<p>level socket\u200b\u9009\u9879\u200b\u7ea7\u522b\u200b\u3002</p> <p>optname \u200b\u9009\u9879\u200b\u7c7b\u578b\u200b\u3002</p> <p>optval \u200b\u9009\u9879\u200b\u503c\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_84","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_85","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u540c\u200bbsd socket <code>setsockopt</code>\u200b\u529f\u80fd\u200b\u76f8\u540c\u200b\uff0c\u200b\u53ea\u662f\u200b\u4f7f\u7528\u200b\u6a21\u677f\u200b\u5c01\u88c5\u200b\uff0c\u200b\u66f4\u200b\u65b9\u4fbf\u4f7f\u7528\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketget_optval","title":"xxsocket::get_optval","text":"<p>\u200b\u8bbe\u7f6e\u200bsocket\u200b\u9009\u9879\u200b\u3002</p> <pre><code>template &lt;typename _Ty&gt; _Ty get_optval(int level, int optname) const\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_86","title":"\u53c2\u6570","text":"<p>level socket\u200b\u9009\u9879\u200b\u7ea7\u522b\u200b\u3002</p> <p>optname \u200b\u9009\u9879\u200b\u7c7b\u578b\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_87","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u9009\u9879\u200b\u503c\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_88","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u540c\u200bbsd socket <code>getsockopt</code>\u200b\u529f\u80fd\u200b\u76f8\u540c\u200b\uff0c\u200b\u53ea\u662f\u200b\u4f7f\u7528\u200b\u6a21\u677f\u200b\u5c01\u88c5\u200b\uff0c\u200b\u66f4\u200b\u65b9\u4fbf\u4f7f\u7528\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketselect","title":"xxsocket::select","text":"<p>\u200b\u76d1\u542c\u200bsocket\u200b\u5185\u6838\u200b\u4e8b\u4ef6\u200b\u3002</p> <pre><code>int select(fd_set* readfds, fd_set* writefds, fd_set* exceptfds, const std::chrono::microseconds&amp; wtimeout)\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_89","title":"\u53c2\u6570","text":"<p>readfds \u200b\u53ef\u200b\u8bfb\u200b\u4e8b\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u6570\u7ec4\u200b\u3002</p> <p>writefds \u200b\u53ef\u200b\u5199\u200b\u4e8b\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u6570\u7ec4\u200b\u3002</p> <p>exceptfds \u200b\u5f02\u5e38\u200b\u4e8b\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u6570\u7ec4\u200b\u3002</p> <p>wtimeout \u200b\u7b49\u5f85\u200b\u4e8b\u4ef6\u200b\u8d85\u65f6\u200b\u4e8b\u4ef6\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_90","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u8d85\u65f6\u200b\uff0c<code>&gt; 0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>: \u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketshutdown","title":"xxsocket::shutdown","text":"<p>\u200b\u5173\u95ed\u200bTCP\u200b\u4f20\u8f93\u200b\u901a\u9053\u200b\u3002</p> <pre><code>int shutdown(int how = SD_BOTH) const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_91","title":"\u53c2\u6570","text":"<p>how \u200b\u5173\u95ed\u200b\u901a\u9053\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u200b\u4f20\u200b\u4ee5\u4e0b\u200b\u679a\u4e3e\u200b\u503c\u200b</p> <ul> <li><code>SD_SEND</code>: \u200b\u53d1\u9001\u200b\u901a\u9053\u200b</li> <li><code>SD_RECEIVE</code>: \u200b\u63a5\u53d7\u200b\u901a\u9053\u200b</li> <li><code>SD_BOTH</code>: \u200b\u5168\u90e8\u200b\u5173\u95ed\u200b</li> </ul>"},{"location":"api/reference/xxsocket-class/#_92","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>: \u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketclose","title":"xxsocket::close","text":"<p>\u200b\u5173\u95ed\u200bsocket\uff0c\u200b\u91ca\u653e\u200b\u7cfb\u7edf\u8d44\u6e90\u200b\u3002</p> <pre><code>void close(int shut_how = SD_BOTH);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_93","title":"\u53c2\u6570","text":"<p>shut_how \u200b\u5173\u95ed\u200b\u901a\u9053\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f20\u200b\u4ee5\u4e0b\u200b\u679a\u4e3e\u200b\u503c\u200b</p> <ul> <li><code>SD_SEND</code>: \u200b\u53d1\u9001\u200b\u901a\u9053\u200b</li> <li><code>SD_RECEIVE</code>: \u200b\u63a5\u53d7\u200b\u901a\u9053\u200b</li> <li><code>SD_BOTH</code>: \u200b\u5168\u90e8\u200b\u5173\u95ed\u200b</li> <li><code>SD_NONE</code>: \u200b\u5168\u90e8\u200b\u5173\u95ed\u200b</li> </ul>"},{"location":"api/reference/xxsocket-class/#_94","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u6210\u529f\u200b\uff0c <code>&lt; 0</code>: \u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>xxsocket::get_last_errno</code> \u200b\u83b7\u53d6\u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_95","title":"\u6ce8\u610f","text":"<p>\u200b\u5982\u679c\u200b shut_how != <code>SD_NONE</code>\uff0c\u200b\u6b64\u200b\u51fd\u6570\u200b\u4f1a\u5148\u200b\u8c03\u7528\u200b <code>shutdown</code>\uff0c\u200b\u518d\u200b\u8c03\u7528\u200b\u5e95\u5c42\u200b <code>close</code>\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsockettcp_rtt","title":"xxsocket::tcp_rtt","text":"<p>\u200b\u83b7\u53d6\u200bTCP\u200b\u8fde\u63a5\u200b\u7684\u200bRTT\u3002</p> <pre><code>uint32_t tcp_rtt() const;\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_96","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u8fd4\u56de\u200bTCP\u200b\u7684\u200bRTT\u200b\u65f6\u95f4\u200b\uff0c\u200b\u5355\u4f4d\u200b: <code>\u200b\u5fae\u79d2\u200b</code>\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketget_last_errno","title":"xxsocket::get_last_errno","text":"<p>\u200b\u83b7\u53d6\u200b\u6700\u8fd1\u200b\u4e00\u6b21\u200bsocket\u200b\u64cd\u4f5c\u200b\u9519\u8bef\u7801\u200b\u3002</p> <pre><code> static int get_last_errno();\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_97","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u65e0\u200b\u9519\u8bef\u200b\uff0c <code>&gt; 0</code> \u200b\u901a\u8fc7\u200b <code>xxsocket::strerror</code> \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u8be6\u7ec6\u200b\u9519\u8bef\u4fe1\u606f\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_98","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u662f\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u7684\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketset_last_errno","title":"xxsocket::set_last_errno","text":"<p>\u200b\u8bbe\u7f6e\u200bsocket\u200b\u64cd\u4f5c\u200b\u9519\u8bef\u7801\u200b\u3002</p> <pre><code>static void set_last_errno(int error);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_99","title":"\u53c2\u6570","text":"<p>error \u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_100","title":"\u6ce8\u610f","text":"<p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u662f\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u7684\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketnot_send_error","title":"xxsocket::not_send_error","text":"<p>\u200b\u5224\u65ad\u200b\u662f\u5426\u662f\u200b\u53d1\u9001\u200b\u65f6\u200bsocket\u200b\u51fa\u73b0\u200b\u65e0\u6cd5\u200b\u7ee7\u7eed\u200b\u7684\u200b\u9519\u8bef\u200b\u3002</p> <pre><code>static bool not_send_error(int error);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_101","title":"\u53c2\u6570","text":"<p>error \u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_102","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: socket\u200b\u6b63\u5e38\u200b\uff0c<code>false</code>: socket\u200b\u72b6\u6001\u200b\u5df2\u7ecf\u200b\u53d1\u751f\u200b\u9519\u8bef\u200b\uff0c\u200b\u5e94\u5f53\u200b\u5173\u95ed\u200bsocket\u200b\u7ec8\u6b62\u200b\u901a\u8baf\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_103","title":"\u6ce8\u610f","text":"<p>\u200b\u4ec5\u5f53\u200b\u53d1\u9001\u200b\u64cd\u4f5c\u200b\u8fd4\u56de\u503c\u200b <code>&lt; 0</code>\u200b\u65f6\u200b\uff0c\u200b\u8c03\u7528\u200b\u6b64\u200b\u51fd\u6570\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketnot_recv_error","title":"xxsocket::not_recv_error","text":"<p>\u200b\u5224\u65ad\u200b\u662f\u5426\u662f\u200b\u63a5\u6536\u200b\u65f6\u200bsocket\u200b\u51fa\u73b0\u200b\u65e0\u6cd5\u200b\u7ee7\u7eed\u200b\u7684\u200b\u9519\u8bef\u200b\u3002</p> <pre><code>static bool not_recv_error(int error);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_104","title":"\u53c2\u6570","text":"<p>error \u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_105","title":"\u8fd4\u56de\u503c","text":"<p><code>true</code>: socket\u200b\u6b63\u5e38\u200b\uff0c<code>false</code>: socket\u200b\u72b6\u6001\u200b\u5df2\u7ecf\u200b\u53d1\u751f\u200b\u9519\u8bef\u200b\uff0c\u200b\u5e94\u5f53\u200b\u5173\u95ed\u200bsocket\u200b\u7ec8\u6b62\u200b\u901a\u8baf\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_106","title":"\u6ce8\u610f","text":"<p>\u200b\u4ec5\u5f53\u200b\u63a5\u6536\u200b\u64cd\u4f5c\u200b\u8fd4\u56de\u503c\u200b <code>&lt; 0</code>\u200b\u65f6\u200b\uff0c\u200b\u8c03\u7528\u200b\u6b64\u200b\u51fd\u6570\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketstrerror","title":"xxsocket::strerror","text":"<p>\u200b\u5c06\u200b\u9519\u8bef\u7801\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <pre><code>static const char* strerror(int error);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_107","title":"\u53c2\u6570","text":"<p>error \u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_108","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u9519\u8bef\u4fe1\u606f\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketstrerror_r","title":"xxsocket::strerror_r","text":"<p>\u200b\u5c06\u200b\u9519\u8bef\u7801\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u529f\u80fd\u200b\u548c\u200b<code>xxsocket::strerror</code>\u200b\u4e00\u6837\u200b\uff0c\u200b\u4f46\u6b64\u200b\u51fd\u6570\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u7684\u200b\u3002</p> <pre><code>static const char* strerror_r(int error, char *buf, size_t buflen);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_109","title":"\u53c2\u6570","text":"<p>error \u200b\u9519\u8bef\u7801\u200b\u3002</p> <p>buf \u200b\u63a5\u53d7\u200b\u9519\u8bef\u4fe1\u606f\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u7f13\u51b2\u533a\u200b</p> <p>buflen \u200b\u63a5\u53d7\u200b\u9519\u8bef\u4fe1\u606f\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u7f13\u51b2\u533a\u200b\u5927\u5c0f\u200b</p>"},{"location":"api/reference/xxsocket-class/#_110","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u9519\u8bef\u4fe1\u606f\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketgai_strerror","title":"xxsocket::gai_strerror","text":"<p>\u200b\u5c06\u200b<code>getaddrinfo</code>\u200b\u9519\u8bef\u7801\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <pre><code>static const char* gai_strerror(int error);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_111","title":"\u53c2\u6570","text":"<p>error \u200b\u9519\u8bef\u7801\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_112","title":"\u8fd4\u56de\u503c","text":"<p>\u200b\u9519\u8bef\u4fe1\u606f\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketresolve","title":"xxsocket::resolve","text":"<p>\u200b\u89e3\u6790\u200b\u57df\u540d\u200b\u5305\u542b\u200b\u7684\u200b\u6240\u6709\u200b\u5730\u5740\u200b\u3002</p> <pre><code>int resolve(std::vector&lt;endpoint&gt;&amp; endpoints, const char* hostname, unsigned short port = 0, int socktype = SOCK_STREAM);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_113","title":"\u53c2\u6570","text":"<p>endpoints \u200b\u8f93\u51fa\u200b\u53c2\u6570\u200b\u3002</p> <p>hostname \u200b\u57df\u540d\u200b\u3002</p> <p>port \u200b\u7aef\u53e3\u200b\u3002</p> <p>socktype socket\u200b\u7c7b\u578b\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_114","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u65e0\u200b\u9519\u8bef\u200b\uff0c <code>&gt; 0</code> \u200b\u901a\u8fc7\u200b <code>xxsocket::strerror</code> \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u8be6\u7ec6\u200b\u9519\u8bef\u4fe1\u606f\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketresolve_v4","title":"xxsocket::resolve_v4","text":"<p>\u200b\u89e3\u6790\u200b\u57df\u540d\u200b\u5305\u542b\u200b\u7684\u200bIPv4\u200b\u5730\u5740\u200b\u3002</p> <pre><code>int resolve_v4(std::vector&lt;endpoint&gt;&amp; endpoints, const char* hostname, unsigned short port = 0, int socktype = SOCK_STREAM);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_115","title":"\u53c2\u6570","text":"<p>endpoints \u200b\u8f93\u51fa\u200b\u53c2\u6570\u200b\u3002</p> <p>hostname \u200b\u57df\u540d\u200b\u3002</p> <p>port \u200b\u7aef\u53e3\u200b\u3002</p> <p>socktype socket\u200b\u7c7b\u578b\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_116","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u65e0\u200b\u9519\u8bef\u200b\uff0c <code>&gt; 0</code> \u200b\u901a\u8fc7\u200b <code>xxsocket::strerror</code> \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u8be6\u7ec6\u200b\u9519\u8bef\u4fe1\u606f\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketresolve_v6","title":"xxsocket::resolve_v6","text":"<p>\u200b\u89e3\u6790\u200b\u57df\u540d\u200b\u5305\u542b\u200b\u7684\u200bIPv6\u200b\u5730\u5740\u200b\u3002</p> <pre><code>int resolve_v6(std::vector&lt;endpoint&gt;&amp; endpoints, const char* hostname, unsigned short port = 0, int socktype = SOCK_STREAM);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_117","title":"\u53c2\u6570","text":"<p>endpoints \u200b\u8f93\u51fa\u200b\u53c2\u6570\u200b\u3002</p> <p>hostname \u200b\u57df\u540d\u200b\u3002</p> <p>port \u200b\u7aef\u53e3\u200b\u3002</p> <p>socktype socket\u200b\u7c7b\u578b\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_118","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u65e0\u200b\u9519\u8bef\u200b\uff0c <code>&gt; 0</code> \u200b\u901a\u8fc7\u200b <code>xxsocket::strerror</code> \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u8be6\u7ec6\u200b\u9519\u8bef\u4fe1\u606f\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketresolve_v4to6","title":"xxsocket::resolve_v4to6","text":"<p>\u200b\u4ec5\u200b\u89e3\u6790\u200b\u57df\u540d\u200b\u5305\u542b\u200b\u7684\u200bIPv4\u200b\u5730\u5740\u200b\u5e76\u200b\u8f6c\u6362\u200b\u4e3a\u200bIPv6 V4MAPPED\u200b\u683c\u5f0f\u200b\u3002</p> <pre><code>int resolve_v4to6(std::vector&lt;endpoint&gt;&amp; endpoints, const char* hostname, unsigned short port = 0, int socktype = SOCK_STREAM);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_119","title":"\u53c2\u6570","text":"<p>endpoints \u200b\u8f93\u51fa\u200b\u53c2\u6570\u200b\u3002</p> <p>hostname \u200b\u57df\u540d\u200b\u3002</p> <p>port \u200b\u7aef\u53e3\u200b\u3002</p> <p>socktype socket\u200b\u7c7b\u578b\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_120","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u65e0\u200b\u9519\u8bef\u200b\uff0c <code>&gt; 0</code> \u200b\u901a\u8fc7\u200b <code>xxsocket::strerror</code> \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u8be6\u7ec6\u200b\u9519\u8bef\u4fe1\u606f\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketresolve_tov6","title":"xxsocket::resolve_tov6","text":"<p>\u200b\u89e3\u6790\u200b\u57df\u540d\u200b\u5305\u542b\u200b\u7684\u200b\u6240\u6709\u200b\u5730\u5740\u200b\uff0cIPv4\u200b\u5730\u5740\u200b\u4f1a\u200b\u8f6c\u6362\u200b\u4e3a\u200bIPv6 V4MAPPED\u200b\u683c\u5f0f\u200b\u3002</p> <pre><code>int resolve_tov6(std::vector&lt;endpoint&gt;&amp; endpoints, const char* hostname, unsigned short port = 0, int socktype = SOCK_STREAM);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_121","title":"\u53c2\u6570","text":"<p>endpoints \u200b\u8f93\u51fa\u200b\u53c2\u6570\u200b\u3002</p> <p>hostname \u200b\u57df\u540d\u200b\u3002</p> <p>port \u200b\u7aef\u53e3\u200b\u3002</p> <p>socktype socket\u200b\u7c7b\u578b\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_122","title":"\u8fd4\u56de\u503c","text":"<p><code>0</code>: \u200b\u65e0\u200b\u9519\u8bef\u200b\uff0c <code>&gt; 0</code> \u200b\u901a\u8fc7\u200b <code>xxsocket::strerror</code> \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u8be6\u7ec6\u200b\u9519\u8bef\u4fe1\u606f\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#xxsocketgetipsv","title":"xxsocket::getipsv","text":"<p>\u200b\u83b7\u53d6\u200b\u672c\u200b\u673a\u200b\u652f\u6301\u200b\u7684\u200bIP\u200b\u534f\u8bae\u200b\u6808\u200b\u6807\u5fd7\u200b\u4f4d\u200b\u3002</p> <pre><code>static int getipsv();\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_123","title":"\u8fd4\u56de\u503c","text":"<ul> <li><code>ipsv_ipv4</code>: \u200b\u672c\u673a\u200b\u53ea\u200b\u652f\u6301\u200bIPv4\u200b\u534f\u8bae\u200b\u3002</li> <li><code>ipsv_ipv6</code>: \u200b\u672c\u673a\u200b\u53ea\u200b\u652f\u6301\u200bIPv6\u200b\u534f\u8bae\u200b\u3002</li> <li><code>ipsv_dual_stack</code>: \u200b\u672c\u200b\u673a\u200b\u652f\u6301\u200bIPv4\u200b\u548c\u200bIPv6\u200b\u53cc\u6808\u200b\u534f\u8bae\u200b\u3002</li> </ul>"},{"location":"api/reference/xxsocket-class/#_124","title":"\u6ce8\u610f","text":"<p>\u200b\u5f53\u200b\u8fd4\u56de\u503c\u200b\u652f\u6301\u200b\u53cc\u6808\u200b\u534f\u8bae\u200b\u662f\u200b\uff0c\u200b\u7528\u6237\u200b\u5e94\u5f53\u200b\u59cb\u7ec8\u200b\u4f18\u5148\u200b\u4f7f\u7528\u200bIPv4\u200b\u901a\u4fe1\u200b\uff0c \u200b\u4f8b\u5982\u200b<code>\u200b\u667a\u80fd\u624b\u673a\u200b\u8bbe\u5907\u200b</code>\u200b\u5728\u200b\u540c\u65f6\u200b\u5f00\u542f\u200b<code>wifi</code>\u200b\u548c\u200b<code>\u200b\u8702\u7a9d\u200b\u7f51\u7edc\u200b</code>\u200b\u65f6\u200b\uff0c\u200b\u5c06\u4f1a\u200b\u4f18\u5148\u9009\u62e9\u200bwifi\uff0c \u200b\u800c\u200bwifi\u200b\u901a\u5e38\u200b\u662f\u200bIPv4\uff0c\u200b\u8be6\u89c1\u200b: https://github.com/halx99/yasio/issues/130</p>"},{"location":"api/reference/xxsocket-class/#_125","title":"\u793a\u4f8b","text":"<pre><code>// xxsocket-ipsv.cpp\n#include &lt;vector&gt;\n#include \"yasio/xxsocket.hpp\"\nusing namespace yasio;\nint main(){\n    const char* host = \"github.com\";\n    std::vector&lt;ip::endpoint&gt; eps;\n    int flags = xxsocket::get_ipsv();\n    if(flags &amp; ipsv_ipv4) {\n        xxsocket::resolve_v4(eps, host, 80);\n    }\n    else if(flags &amp; ipsv_ipv6) {\n        xxsocket::resolve_tov6(eps, host, 80);\n    }\n    else {\n        std::cerr &lt;&lt; \"Local network not available!\\n\";\n    }\n    return 0;\n}\n</code></pre>"},{"location":"api/reference/xxsocket-class/#xxsockettraverse_local_address","title":"xxsocket::traverse_local_address","text":"<p>\u200b\u679a\u4e3e\u200b\u672c\u200b\u673a\u200b\u5730\u5740\u200b\u3002</p> <pre><code>static void traverse_local_address(std::function&lt;bool(const ip::endpoint&amp;)&gt; handler);\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_126","title":"\u53c2\u6570","text":"<p>handler \u200b\u679a\u4e3e\u200b\u5730\u5740\u200b\u56de\u8c03\u200b\u3002</p>"},{"location":"api/reference/xxsocket-class/#_127","title":"\u793a\u4f8b","text":"<pre><code>// xxsocket-traverse.cpp\n#include &lt;vector&gt;\n#include \"yasio/xxsocket.hpp\"\nusing namespace yasio;\nint main(){\n    int flags = 0;\n    xxsocket::traverse_local_address([&amp;](const ip::endpoint&amp; ep) -&gt; bool {\n        switch (ep.af())\n        {\n          case AF_INET:\n            flags |= ipsv_ipv4;\n            break;\n          case AF_INET6:\n            flags |= ipsv_ipv6;\n            break;\n        }\n        return (flags == ipsv_dual_stack);\n    });\n    YASIO_LOG(\"Supported ip stack flags=%d\", flags);\n    return flags;\n}\n</code></pre>"},{"location":"api/reference/xxsocket-class/#_128","title":"\u8bf7\u53c2\u9605","text":"<p>io_service Class</p>"}]}